/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e,t={5756:(e,t,n)=>{var r,a,o,i,l,c=n(6488),u=n(5945),s=n(7098),f=n(8100),m=n(6160),d=n(2110),p=n(1630),h=n(4694),y=n(1497),v=n(8168),g=n(9317),b=n(1488),E=n(7818),w=n(146),R=n(5458),x=mwai.prefix,O=mwai.domain,S=mwai.rest_url.replace(/\/+$/,""),T=mwai.api_url.replace(/\/+$/,""),N=mwai.plugin_url.replace(/\/+$/,""),_=mwai.user_data,C="1"===mwai.is_pro,L=C&&"1"===mwai.is_registered,A=mwai.rest_nonce,I=mwai.options,k=mwai.session,j=mwai.themes,P=!!mwai.stream,M=mwai.chatbots,D=n(8406),F=n(8414);function G(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B=F.ZP.div(r||(r=G(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]))),U=(0,F.ZP)(w.v)(a||(a=G(["\n\n  .neko-block-title {\n    display: none;\n  }\n\n  .plugin-desc {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin-left: 20px;\n  }\n\n  .neko-block-content {\n    display: flex;\n    padding: 10px;\n    item-align: center;\n\n    h2 {\n      color: #055082;\n      font-size: 18px;\n      margin: 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      margin-top: 5px;\n      font-size: 13px;\n      line-height: 1.2;\n    }\n  }\n"]))),H=F.ZP.img(o||(o=G(["\n  width: 85px;\n  height: 85px;\n  padding-right: 10px;\n"]))),V=F.ZP.div(i||(i=G(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    color: black;\n    border-radius: 10px;\n    padding: 10px;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]))),Y=F.ZP.ul(l||(l=G(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n  color: white;\n\n  .log-date {\n    color: var(--neko-yellow);\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: var(--neko-yellow);\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: var(--neko-red);\n    color: white;\n  }\n"])));function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function z(){z=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Z(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Z(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function W(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,l,"next",e)}function l(e){W(o,r,a,i,l,"throw",e)}i(void 0)}))}}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=wp.element,$=J.useState,ee=J.useEffect,te="".concat(S,"/meow-common/v1"),ne=function(e){var t=e.request,n=e.title,r=e.max,a=q($(!1),2),o=a[0],i=a[1],l=q($([]),2),c=l[0],u=l[1],s=c.length>0?c.reduce((function(e,t){return e+t})):0,f=c.length>0?Math.ceil(s/c.length):0,d=!c.length&&o;return ee((function(){o&&setTimeout(X(z().mark((function e(){var n,r,a;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),e.next=3,(0,R.PV)("".concat(te,"/").concat(t),{method:"POST",nonce:A});case 3:r=(new Date).getTime(),a=r-n,u((function(e){return[].concat(function(e){if(Array.isArray(e))return K(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Q(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[a]);var t}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[c]),React.createElement(B,{style:{width:200,textAlign:"center"}},React.createElement(m.O,{h2:!0,style:{color:"white"}},n),React.createElement(D._,{size:200,value:d?r:f,max:r},React.createElement("span",{style:{fontSize:20}},d?"START":f+" ms"),React.createElement("span",{style:{fontSize:12}},d?"YOUR ENGINE":c.length+" requests")),React.createElement(E._,{style:{width:"100%",marginTop:10},color:o?"#cc3627":"#ccb027",onClick:function(){o||u([]),i(!o)}},o?"Stop":"Start"))};function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ae(){ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==re(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(re(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===re(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){le(o,r,a,i,l,"next",e)}function l(e){le(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fe=wp.element,me=fe.useState,de=fe.useEffect;T&&S&&N||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var pe="".concat(S,"/meow-common/v1"),he=React.createElement(B,null,React.createElement(m.O,{p:!0},"Meow Apps is a suite of plugins for photography, imaging, optimization, and SEO, run by ",React.createElement("a",{target:"_blank",href:"https://jordymeow.com"},"Jordy Meow"),", a photographer and developer in Japan. The goal is to improve and speed up your website. Learn more at ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps"),".")),ye=React.createElement(B,null,React.createElement(m.O,{p:!0},"The ",React.createElement("b",null,"Empty Request Time")," measures your installation's basic performance by showing the average time needed to process an empty request on your server. To see how disabling plugins affects the results, turn some off and run the test again. Aim for a time under 2,000 ms, but ideally, keep it below 500 ms. The ",React.createElement("b",null,"File Operation Time")," creates a temporary 10MB file each time it runs. ",React.createElement("b",null,"The SQL Request Time")," calculates the total number of posts. This process should be quick and have a similar duration to the Empty Request Time.")),ve=React.createElement(B,null,React.createElement(m.O,{p:!0},"Maintain a streamlined WordPress setup by using essential plugins and a dependable hosting provider. Refrain from self-hosting unless you're an expert. Go further by reading our tutorials:",React.createElement("ul",null,React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"The Best Hosting Services for WordPress"))))),ge=["".concat(pe,"/all_settings/"),{headers:{"X-WP-Nonce":A}}],be=function(){var e=ue(me(!1),2),t=e[0],n=e[1],r=(0,f.ZP)(ge,R.SG),a=r.data,o=r.mutate,i=r.error,l=null==a?void 0:a.data,c=null==l?void 0:l.meowapps_hide_meowapps,u=null==l?void 0:l.force_sslverify,s=ue(me(!1),2),x=s[0],O=s[1],S=ue(me([]),2),T=S[0],N=S[1],_=ue(me(""),2),C=_[0],L=_[1];de((function(){i&&!t&&(n(!0),console.error("Error from UseSWR",i.message))}),[i]),de((function(){var e=document.getElementById("meow-common-phpinfo");L(e.innerHTML)}),[]);var I=function(){var e=ce(ae().mark((function e(t,n){var r,i;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ie({},a.data))[n]=t,console.log({value:t,id:n,newSettingsData:r}),o(ie(ie({},a),{},{data:r}),!1),O(!0),e.next=7,(0,R.PV)("".concat(pe,"/update_option"),{method:"POST",nonce:A,json:{name:n,value:t}});case 7:i=e.sent,O(!1),i.success||alert(i.message),o();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=ce(ae().mark((function e(){var t,n;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O("isLoadingErrorLogs"),e.next=3,(0,R.PV)("".concat(pe,"/error_logs"),{method:"POST",nonce:A});case 3:t=e.sent,n=t&&t.data?t.data:[],N(n.reverse()),O(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=React.createElement(d.r,{title:"Main Menu"},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(m.O,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings → General."),value:"1",disabled:x,checked:c,onChange:I}))),P=React.createElement(d.r,{title:"SSL Verify"},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(m.O,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:x,checked:u,onChange:I})));return React.createElement(y.s,{showRestError:t},React.createElement(v.B,{title:"The Dashboard"}),React.createElement(g.o,null,React.createElement(g.z,{full:!0},React.createElement(b.c,null,React.createElement(b.P,{title:"Meow Apps"},he,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(U,{title:"AI Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/ai-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"AI Engine")),React.createElement("p",null,"GPT for WordPress. ChatGPT chatbot, image & content generator, finetune/train models, etc. Ultra customizable, extensible, sleek UI. You will love it!"))),React.createElement(U,{title:"Media Cleaner",className:"primary"},React.createElement(H,{src:"https://ps.w.org/media-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",null,"Clean your WordPress! Eliminate unused and broken media files. For a faster, and better website."))),React.createElement(U,{title:"Database Cleaner",className:"primary"},React.createElement(H,{src:"https://ps.w.org/database-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",null,"Not only does Database Cleaner have a user-friendly UI, but it's also equipped to handle large DBs, giving it an edge over other plugins."))),React.createElement(U,{title:"Media File Renamer",className:"primary"},React.createElement(H,{src:"https://ps.w.org/media-file-renamer/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",null,"Rename and move files directly from the dashboard, manually, automatically or via AI, either individually or in bulk."))),React.createElement(U,{title:"Social Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/social-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",null,"Effortlessly schedule and automate the perfect posts for all your networks. Unlimited capabilities and infinite extensibility, for free!"))),React.createElement(U,{title:"Meow Analytics",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-analytics/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",null,"Google Analytics for your website.")))),React.createElement(g.z,{minimal:!0},React.createElement(U,{title:"Photo Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/wplr-sync/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",null,"Organize your photos in folders and collections.",React.createElement("br",null),"Synchronize with Lightroom."))),React.createElement(U,{title:"Meow Gallery",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-gallery/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",null,"Fast and beautiful gallery with many layouts."))),React.createElement(U,{title:"Meow Lightbox",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-lightbox/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",null,"Sleek and performant lightbox with EXIF support."))),React.createElement(U,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(H,{src:"https://ps.w.org/wp-retina-2x/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",null,"Manage, Optimize, Replace your images with Perfect Images."))),React.createElement(U,{title:"Contact Form Block",className:"primary"},React.createElement(H,{src:"https://ps.w.org/contact-form-block/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",null,"Simple and straightforward contact form, in one block."))),React.createElement(U,{title:"Contact Form Block",className:"primary"},React.createElement(H,{src:"https://ps.w.org/seo-kiss/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/seo-kiss/"},"AI-SEO KISS (Keep It Simple Stupid)")),React.createElement("p",null,"Optimize your content for SEO. Keep everything simple and fast.")))))),React.createElement(b.P,{title:"Performance"},ye,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(ne,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(ne,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(ne,{title:"SQL Request Time",request:"sql_request",max:2800})),ve),React.createElement(b.P,{title:"PHP Info"},React.createElement(V,{dangerouslySetInnerHTML:{__html:C}})),React.createElement(b.P,{title:"PHP Error Logs"},React.createElement(B,null,React.createElement(E._,{style:{marginBottom:10},color:"#ccb027",onClick:k,disabled:x,isBusy:"isLoadingErrorLogs"===x},"Load PHP Error Logs"),React.createElement(Y,null,T.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))),React.createElement(m.O,{p:!0},"If you don't see any errors, your host might not allow remote access to PHP error logs. Contact them for assistance, or look in your hosting control panel."))),React.createElement(b.P,{title:"Settings"},React.createElement(w.v,{title:"Settings",className:"primary"},j,P))))))},Ee=n(1492),we=n(5133),Re=n(8178),xe=n(2719),Oe=n(2622),Se=n(2785),Te=n(3895),Ne=n(3506),_e=n(1203),Ce=n(477);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Ae(){Ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Le(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Le(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ie(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ie(o,r,a,i,l,"next",e)}function l(e){Ie(o,r,a,i,l,"throw",e)}i(void 0)}))}}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Me=wp.element,De=Me.useState,Fe=Me.useEffect,Ge="".concat(S,"/meow-licenser/").concat(x,"/v1"),Be=function(){var e=je(De(!1),2),t=e[0],n=e[1],r=je(De(!1),2),a=r[0],o=r[1],i=je(De(null),2),l=i[0],c=i[1],u=je(De(null),2),s=u[0],f=u[1],d=je(De(""),2),p=d[0],h=d[1],y=L&&(!s||"valid"!==s.license),v=function(){var e=ke(Ae().mark((function e(){var t;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,(0,R.PV)("".concat(Ge,"/get_license"),{method:"POST",nonce:A});case 5:t=e.sent,f(t.data),t.data.key&&h(t.data.key),n(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=ke(Ae().mark((function e(){return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,R.PV)("".concat(Ge,"/set_license"),{method:"POST",nonce:A,json:{serialKey:null}});case 3:e.sent.success&&(h(""),f(null),c("licenseRemoved")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=ke(Ae().mark((function e(){var t;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,R.PV)("".concat(Ge,"/set_license"),{method:"POST",nonce:A,json:{serialKey:p,override:!0}});case 3:(t=e.sent).success&&(f(t.data),t.data&&!t.data.issue&&c("licenseAdded")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=ke(Ae().mark((function e(){var t;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==p){e.next=5;break}return o(!0),f(null),h(""),e.abrupt("return");case 5:return n(!0),e.next=8,(0,R.PV)("".concat(Ge,"/set_license"),{method:"POST",nonce:A,json:{serialKey:p}});case 8:(t=e.sent).success&&(f(t.data),t.data&&!t.data.issue&&c("licenseAdded")),n(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Fe((function(){v()}),[]);var O=y?"Forced License":L?"Enabled":"Disabled",S=y||s&&"valid"===s.license,T="Your license is active. Thanks a lot for your support :)";y&&(T="This license has been force-enabled for you.",s&&s.check_url&&(T=React.createElement(React.Fragment,null,React.createElement("span",null,T),React.createElement("br",null),React.createElement("small",null,"To check your license status, please click ",React.createElement("a",{target:"_blank",href:s.check_url+"&cache="+642e3*Math.random(),rel:"noreferrer"},"here"),".")))),S||(s?"no_activations_left"===s.issue?T=React.createElement("span",null,"There are no activations left for this license. You can visit your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===s.issue?T=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),"."):"missing"===s.issue?T="This license does not exist.":"disabled"===s.issue?T="This license has been disabled.":"item_name_mismatch"===s.issue?T="This license seems to be for a different plugin... isn't it? :)":"forced"===s.issue?T="ABC":(T=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:s})):T="Unknown error :(");var N=React.createElement(w.v,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps"),"."),_=React.createElement(w.v,{title:"Pro Version (".concat(O,")"),busy:t,className:"primary"},!y&&!(s&&s.key===p)&&React.createElement(React.Fragment,null,React.createElement("div",{style:{marginBottom:10}},"License Key:"),React.createElement(Ee.A,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:p,onChange:function(e){return h(e)},placeholder:"Type your license key..."}),React.createElement(m.O,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button.")),s&&!S&&React.createElement(Ne.S,{variant:"danger"},T),(y||s)&&S&&React.createElement(Ne.S,{variant:"success"},T),React.createElement("div",{style:{marginTop:15,display:"flex",justifyContent:"end"}},s&&!S&&React.createElement(E._,{className:"secondary",disabled:t||!p,onClick:x},"Retry to validate"),s&&s.key===p&&React.createElement(E._,{className:"secondary",disabled:t||!p,onClick:g},"Remove License"),React.createElement(E._,{disabled:t||!p||s&&s.key===p,onClick:x},"Validate License"),a&&!S&&React.createElement(E._,{disabled:t||!p||s&&s.key===p,onClick:b,className:"danger"},"Force License")),React.createElement(_e.L,{isOpen:"licenseAdded"===l,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}),React.createElement(_e.L,{isOpen:"licenseRemoved"===l,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}));return C?_:N};const{__:Ue}=wp.i18n,He={};He.COMMON={MODULES:Ue("Modules","ai-engine"),SETTINGS:Ue("Settings","ai-engine"),CHATBOT:Ue("Chatbot","ai-engine"),CHATBOTS:Ue("Chatbots","ai-engine"),CHATBOT_HELP:Ue("Highly customizable chatbot.","ai-engine"),STATISTICS:Ue("Statistics","ai-engine"),STYLE:Ue("Style","ai-engine"),ENABLE:Ue("Enable","ai-engine"),NAME:Ue("Name","ai-engine"),SUBMIT:Ue("Submit","ai-engine"),MODEL:Ue("Model","ai-engine"),TEMPERATURE:Ue("Temperature","ai-engine"),MAX_TOKENS:Ue("Max Tokens","ai-engine"),CONTEXT_MAX_TOKENS:Ue("Context Max Tokens","ai-engine"),STOP_SEQUENCE:Ue("Stop Sequence","ai-engine"),MODE:Ue("Mode","ai-engine"),CONTEXT:Ue("Context","ai-engine"),IMAGES_NUMBER:Ue("Number of Images","ai-engine"),AI_NAME:Ue("AI Name","ai-engine"),USER_NAME:Ue("User Name","ai-engine"),PLACEHOLDER:Ue("Placeholder","ai-engine"),START_SENTENCE:Ue("Start Sentence","ai-engine"),SEND:Ue("Send","ai-engine"),CLEAR:Ue("Clear","ai-engine"),SYSTEM_NAME:Ue("System Name","ai-engine"),ID:Ue("ID","ai-engine"),POPUP:Ue("Popup","ai-engine"),POSITION:Ue("Position","ai-engine"),ICON_TEXT:Ue("Icon Text","ai-engine"),FULL_SCREEN:Ue("Full Screen","ai-engine"),CASUALLY_FINE_TUNED:Ue("Casually Fine-Tuned","ai-engine"),CONTENT_AWARE:Ue("Content Aware","ai-engine"),SPACING:Ue("Spacing","ai-engine"),BORDER_RADIUS:Ue("Border Radius","ai-engine"),FONT_SIZE:Ue("Font Size","ai-engine"),FONT_COLOR:Ue("Font Color","ai-engine"),BACK_PRIMARY_COLOR:Ue("Back Primary Color","ai-engine"),BACK_SECONDARY_COLOR:Ue("Back 2nd Color","ai-engine"),HEADER_BUTTONS_COLOR:Ue("Header Buttons Color","ai-engine"),HEADER_BACKGROUND_COLOR:Ue("Header Back Color","ai-engine"),BACK_USER_COLOR:Ue("Back User Color","ai-engine"),BACK_AI_COLOR:Ue("Back AI Color","ai-engine"),BACK_AI_SECONDARY_COLOR:Ue("Back AI 2nd Color","ai-engine"),AVATAR_MESSAGE_BACKGROUND_COLOR:Ue("Message Background","ai-engine"),AVATAR_MESSAGE_FONT_COLOR:Ue("Message Color","ai-engine"),POPUP_ICON:Ue("Popup Icon","ai-engine"),CUSTOM_ICON_URL:Ue("Custom Icon URL","ai-engine"),FEATURES:Ue("Features","ai-engine"),TIMEFRAME:Ue("Timeframe","ai-engine"),ABSOLUTE:Ue("Absolute","ai-engine"),NONE:Ue("None","ai-engine"),EDITORS_ADMINS:Ue("Editors & Admins","ai-engine"),ADMINS_ONLY:Ue("Admins Only","ai-engine"),CREDITS:Ue("Credits","ai-engine"),TYPE:Ue("Type","ai-engine"),USERS:Ue("Users","ai-engine"),USER:Ue("User","ai-engine"),GUESTS:Ue("Guests","ai-engine"),GUEST:Ue("Guest","ai-engine"),OPENAI:Ue("Open AI","ai-engine"),LICENSE_TAB:Ue("License","ai-engine"),FINETUNES:Ue("Finetunes","ai-engine"),MODELS:Ue("Models","ai-engine"),DATASETS:Ue("Datasets","ai-engine"),ASSISTANTS:Ue("Assistants","ai-engine"),POSTS_SUGGESTIONS:Ue("AI Copilot, AI Suggestions, Magic Wands","ai-engine"),POSTS_SUGGESTIONS_HELP:Ue("Tools to brainstorm/write faster and better.","ai-engine"),GENERATORS:Ue("Generators","ai-engine"),WOOCOMMERCE_PRODUCT_GENERATOR:Ue("WooCommerce Product Generator","ai-engine"),WOOCOMMERCE_PRODUCT_GENERATOR_HELP:Ue("Write all the WooCommerce fields for a given product.","ai-engine"),CONTENT_GENERATOR:Ue("Content Generator","ai-engine"),CONTENT_GENERATOR_HELP:Ue("Generate articles. Support templates.","ai-engine"),IMAGES_GENERATOR:Ue("Images Generator","ai-engine"),IMAGES_GENERATOR_HELP:Ue("Generate images. Support templates.","ai-engine"),PLAYGROUND:Ue("Playground","ai-engine"),PLAYGROUND_HELP:Ue("Play with AI or let it perform various tasks for you. Support templates.","ai-engine"),FORMS:Ue("Forms","ai-engine"),FORMS_HELP:Ue("Build AI forms. Based on fields, users will be given answers or suggestions.","ai-engine"),STATISTICS:Ue("Statistics","ai-engine"),STATISTICS_HELP:Ue("Track AI interactions, check statistics, set limits, and more!","ai-engine"),DEBUG_MODE:Ue("Debug Mode","ai-engine"),DEBUG_MODE_HELP:Ue("Debugging information will be displayed in the console.","ai-engine"),API_KEY:Ue("API Key","ai-engine"),API_KEY_HELP:Ue('You can get your API Keys in your <a href="https://beta.openai.com/account/api-keys" target="_blank">OpenAI Account</a>.',"ai-engine"),USAGE_COSTS_HELP:Ue('For the exact amounts, please check your <a href="https://beta.openai.com/account/usage" target="_blank">OpenAI account</a>.',"ai-engine"),USAGE_COSTS_PRO_HELP:Ue('If you would like to have better control on the amounts, add conditions or set limits to the usage of the AI, consider <a href="https://meowapps.com/ai-engine/" target="_blank">AI Engine Pro</a>.',"ai-engine"),LANGUAGE:Ue("Language","ai-engine"),HIDE:Ue("Hide","ai-engine"),SHOW:Ue("Show","ai-engine"),CONTENT:Ue("Content","ai-engine"),IMAGES:Ue("Images","ai-engine"),EXCERPT:Ue("Excerpt","ai-engine"),GENERATE:Ue("Generate","ai-engine"),MODEL_PARAMS:Ue("Model Params","ai-engine"),CONTEXT_PARAMS:Ue("Context Params","ai-engine"),PROMPT:Ue("Prompt","ai-engine"),PROMPTS:Ue("Prompts","ai-engine"),LABEL:Ue("Label","ai-engine"),SYSTEM:Ue("System","ai-engine"),SHORTCODE:Ue("Shortcode","ai-engine"),SHORTCODES:Ue("Shortcodes","ai-engine"),RESOLVE:Ue("Resolve","ai-engine"),MAX_MESSAGES:Ue("Max Messages","ai-engine"),INPUT_MAXLENGTH:Ue("Input Max Length","ai-engine"),COMPLIANCE_TEXT:Ue("Compliance Text","ai-engine"),MODERATION:Ue("Moderation","ai-engine"),MODERATION_HELP:Ue("Moderation features with AI.","ai-engine"),FORMATTING:Ue("Formatting","ai-engine"),FORMATTING_HELP:Ue("Format the reply from AI into HTML. This is already done automatically if Markdown is detected in the reply.","ai-engine"),LOGS:Ue("Logs","ai-engine"),CODE:Ue("Code","ai-engine"),EMBEDDINGS:Ue("Embeddings","ai-engine"),EMBEDDINGS_HELP:Ue("Create searchable data that can be reused to feed the chatbot and other AI or UI elements.","ai-engine"),EMBEDDINGS_APIKEY_HELP:Ue('You can get your API Keys in your <a href="https://app.pinecone.io/organizations/keys" target="_blank">Pinecone Account</a>.',"ai-engine"),SERVER:Ue("Server","ai-engine"),SERVER_HELP:Ue("The region which was set for your account.","ai-engine"),COST:Ue("Cost","ai-engine"),USAGE_COSTS:Ue("Usage Costs","ai-engine"),AUDIO_TRANSCRIPTION:Ue("Audio-to-Text","ai-engine"),AUDIO_TRANSCRIPTION_HELP:Ue("Transcribe audio files into texts.","ai-engine"),AUDIO_TAB:Ue("Audio","ai-engine"),EMBEDDINGS_ENV:Ue("Environment","ai-engine"),EMBEDDINGS_INDEX:Ue("Index","ai-engine"),NAMESPACE:Ue("Namespace","ai-engine"),NAMESPACES:Ue("Namespaces","ai-engine"),NAMESPACE_HELP:Ue("The namespace is used to separate the data from other data. This allows you to use the same index on more than one website.","ai-engine"),NAMESPACES_HELP:Ue("Enter the namespaces you would like to use on this site, separated by commas.","ai-engine"),ERROR:Ue("Error","ai-engine"),RETRY:Ue("Retry","ai-engine"),AUTO_RETRY:Ue("Auto Retry","ai-engine"),SKIP:Ue("Skip","ai-engine"),AUTO_SKIP:Ue("Auto Skip","ai-engine"),STOP:Ue("Stop","ai-engine"),AUTO_RETRY_DESCRIPTION:Ue("Auto Retry retries actions up to 10 times with increasing delay to avoid timeouts.","ai-engine"),WIDTH:Ue("Width","ai-engine"),MAX_HEIGHT:Ue("Max Height","ai-engine"),AI_SETTINGS:Ue("AI Settings","ai-engine"),TECHNICAL_SETTINGS:Ue("Technical Settings","ai-engine"),MAIN_SETTINGS:Ue("Main Settings","ai-engine"),VISUAL_SETTINGS:Ue("Visual Settings","ai-engine"),DASHBOARD:Ue("Dashboard","ai-engine"),ADVANCED:Ue("Advanced","ai-engine"),DYNAMIC_MAX_TOKENS:Ue("Dynamic Max Tokens","ai-engine"),DISCUSSIONS:Ue("Discussions","ai-engine"),ROWS:Ue("Rows","ai-engine"),POST_TYPE:Ue("Post Type","ai-engine"),GENERATE_CONTENT:Ue("Generate Content","ai-engine"),GENERATE_IMAGES:Ue("Generate Images","ai-engine"),ADMIN_BAR:Ue("Admin Bar","ai-engine"),ADMIN_TOOLS:Ue("Admin Tools","ai-engine"),REFRESH:Ue("Refresh","ai-engine"),DELETE:Ue("Delete","ai-engine"),DELETE_ALL:Ue("Delete All","ai-engine"),DELETE_SELECTED:Ue("Delete Selected","ai-engine"),OPENAI_SERVICE:Ue("Service","ai-engine"),OPENAI_AZURE_ENDPOINT:Ue("Endpoint","ai-engine"),OPENAI_AZURE_API_KEY:Ue("API Key","ai-engine"),OPENAI_AZURE_DEPLOYMENT_NAME:Ue("Deployment Name","ai-engine"),OPENAI_AZURE_DEPLOYMENTS:Ue("Deployments","ai-engine"),THEME:Ue("Theme","ai-engine"),THEMES:Ue("Themes","ai-engine"),BANNED_WORDS:Ue("Banned Words","ai-engine"),BANNED_IPS:Ue("Banned IPs","ai-engine"),SECURITY:Ue("Security","ai-engine"),POST_TYPES:Ue("Post Types","ai-engine"),COPY_BUTTON:Ue("Copy Button","ai-engine"),POPUP_SETTINGS:Ue("Popup Settings","ai-engine"),AI_AVATAR:Ue("Avatar","ai-engine"),SITE_WIDE_CHAT:Ue("Site-Wide Chat","ai-engine"),DEFAULT_MODEL:Ue("Default Model","ai-engine"),QUERIES_DATA:Ue("Queries Data","ai-engine"),WEBSPEECH_API:Ue("Web Speech API","ai-engine"),SPEECH_RECOGNITION:Ue("Speech Recognition","ai-engine"),SPEECH_SYNTHESIS:Ue("Speech Synthesis","ai-engine"),DYNAMIC_MAX_MESSAGES:Ue("Dynamic Max Messages","ai-engine"),QUERY:Ue("Query","ai-engine"),QUERIES:Ue("Queries","ai-engine"),LOCAL_MEMORY:Ue("Local Memory","ai-engine"),ACTIONS:Ue("Actions","ai-engine"),RESET:Ue("Reset","ai-engine"),INCIDENTS_OPENAI:Ue("Incidents (OpenAI)","ai-engine"),PREVIEW:Ue("Preview","ai-engine"),LEGACY_CHATBOT:Ue("Legacy Chatbot","ai-engine"),LEGACY_FORMS:Ue("Legacy Forms","ai-engine"),LEGACY_FINETUNES:Ue("Legacy Finetunes","ai-engine"),LEGACY_FEATURES:Ue("Legacy Features","ai-engine"),DUPLICATE:Ue("Duplicate","ai-engine"),CHATBOT_EDITOR:Ue("Chatbot Editor","ai-engine"),THEME_EDITOR:Ue("Theme Editor","ai-engine"),CUSTOM_SHORTCODE:Ue("Custom Shortcode","ai-engine"),STREAMING:Ue("Streaming","ai-engine"),SYNTAX_HIGHLIGHT:Ue("Syntax Highlight","ai-engine"),DATA_NOT_AVAILABLE:Ue("Data not available.","ai-engine"),EXPORT:Ue("Export","ai-engine"),IMPORT:Ue("Import","ai-engine"),MODIFY_EMBEDDING:Ue("Modify Embedding","ai-engine"),ADD_EMBEDDING:Ue("Add Embedding","ai-engine"),DEV_TOOLS:Ue("Dev Tools","ai-engine"),SINGLE_GENERATE:Ue("Single Generate","ai-engine"),PUBLIC_API:Ue("Public API","ai-engine"),USER_INTERFACE:Ue("User Interface","ai-engine"),INTRO_MESSAGE:Ue("Intro Message","ai-engine")},He.FORMS={PROMPT_INFO:Ue("The template of your prompt. To re-use the data entered by the user, use the name of that field between curly braces. Example: Recommend me {MUSIC_TYPE} artists. You can also use an ID as an input, like this: ${#myfield}. Finally, if you wish the output to be formatted, add: 'Use Markdown.'.\"","ai-engine"),OUTPUT:Ue("Output","ai-engine"),OUTPUT_ELEMENT:Ue("Output Element","ai-engine"),OUTPUT_ELEMENT_INFO:Ue("The result will be written to this element. If you wish to simply display the result in an Output Block, use its ID. For instance, if its ID is mwai-666, use '#mwai-666'.","ai-engine")},He.HELP={TEMPERATURE:Ue("Between 0 and 1. Higher values means the model will take more risks.","ai-engine"),MAX_TOKENS:Ue("The maximum number of tokens to generate. The model will stop generating once it hits this limit.","ai-engine"),STOP_SEQUENCE:Ue("The sequence of tokens that will cause the model to stop generating text. You absolutely need this with fine-tuned models.","ai-engine"),COST:Ue("Keeps track of the current costs.","ai-engine"),RESOLVE_SHORTCODE:Ue("Will resolve the shortcode in your content when needed (Content-Aware will use this, for instance).","ai-engine"),DYNAMIC_MAX_TOKENS:Ue("Max Tokens will be dynamically decreased based on the length of the prompt.","ai-engine"),FINETUNES:Ue("Train your own AI models.","ai-engine"),DISCUSSIONS:Ue("Keep the conversations and enable browsing them via the Conversations tab.","ai-engine"),OPENAI_SERVICE:Ue("Open AI can be used through Open AI directly, but also through Azure.","ai-engine"),AZURE_DEPLOYMENTS:Ue("Add your deployments below and define what kind of model they are.","ai-engine"),BANNED_WORDS:Ue("Reject queries containing these words; separate with commas.","ai-engine"),BANNED_IPS:Ue("Block access from specified IP addresses or ranges using CIDR notation; separate with commas.","ai-engine"),POST_TYPES:Ue("Enable for these post types; separate with commas.","ai-engine"),POST_STATUS:Ue("Enable for these post statuses (publish, draft, future, private, etc); separate with commas.","ai-engine"),CONTEXT_MAX_TOKENS:Ue("Automatically truncate the content (Content-Aware, Embeddings, etc) to make sure it does not reach this maximum number of tokens.","ai-engine"),QUERIES_DATA:Ue("Record the queries and replies. You can browse them in Queries tab. Make sure your users are aware of this.","ai-engine"),SPEECH_RECOGNITION:Ue("Enable speech-to-text. Depends on the browser and OS used by the user.","ai-engine"),SPEECH_SYNTHESIS:Ue("Enable text-to-speech.","ai-engine"),DYNAMIC_MAX_MESSAGES:Ue("Max Messages will be dynamically decreased based on the max tokens.","ai-engine"),CUSTOM_SHORTCODE:Ue("Prefer the standard version of the shortcode (referring only to the id of the chatbot). If you need many chatbots, you can use custom shortcodes. Custom shortcodes are based on the default chatbot; every attributes in it are basically overrides.","ai-engine"),USER_FILTER:Ue("Type an User ID, or an IP.","ai-engine"),STREAMING:Ue("The AI's response will appear as it's being created. Be cautious: this feature's ability to manage statistics, limits, and filters is still in its beta phase.","ai-engine"),SYNTAX_HIGHLIGHT:Ue("Enable syntax highlighting for the code blocks.","ai-engine"),DEV_TOOLS:Ue("Enable a new tab with debugging tools. For developers only.","ai-engine"),PUBLIC_API:Ue("Enable the Public REST API. By default, it will be accessible to everyone.","ai-engine"),INTRO_MESSAGE:Ue("Enable the introduction text at the top of this page.","ai-engine")},He.SETTINGS={OPENAI_SETUP:Ue('To use the features of AI Engine, you need an OpenAI account and an API Key. Visit the <a href="https://beta.openai.com/account/api-keys" target="_blank">OpenAI</a> website to create an account, then insert your OpenAI API Key in the <b>Settings</b> tab.',"ai-engine"),PINECONE_SETUP:Ue('You choose to use Embeddings. To use them, you need to a Pinecone account. Visit the <a href="https://app.pinecone.io" target="_blank">Pinecone</a> website to create an account, then insert your Pinecone API Key in the <b>Settings</b> tab.',"ai-engine"),INTRO:Ue('Boost your WordPress with AI! Don\'t forget to visit AI Engine\'s <a href="https://meowapps.com/ai-engine/" target="_blank">website</a> for more information. Also make sure you read the <a href="https://meowapps.com/ai-engine/disclaimer/" target="_blank">disclaimer</a>. Have fun! 🎵',"ai-engine"),MODULES_INTRO:Ue("To avoid cluttering the UI and your WP, only enable the features you need.","ai-engine"),ALERT_INJECT_BUT_NO_POPUP:Ue("You choose to inject the chatbot in your website. You probably also want to use the chatbot in a Popup.","ai-engine"),ALERT_CASUALLY_BUT_NO_FINETUNE:Ue("Normally, you should not check the Casually Fine Tuned option with a non-finetuned model. Make sure that's what you want.","ai-engine"),ALERT_CONTENTAWARE_BUT_NO_CONTENT:Ue('Content Aware requires your Context to use the {CONTENT} placeholder. It will be replaced by the content of page the chatbot is on. More info <a href="https://meowapps.com/ai-engine/tutorial/#contextualization" target="_blank">here</a>.',"ai-engine"),SET_AS_DEFAULT_PARAMETERS:Ue("Set as Default Parameters","ai-engine"),SET_AS_DEFAULT_PARAMETERS_HELP:Ue("Set the parameters above as the default parameters for the chatbot. You can then use the shortcode [mwai_chat] anywhere on your website.","ai-engine"),INJECT_DEFAULT_CHATBOT:Ue("Inject Default Chatbot in Entire Website","ai-engine"),INJECT_DEFAULT_CHATBOT_HELP:Ue("Inject the chatbot [mwai_chat] in the entire website.","ai-engine"),CHATGPT_STYLE_INTRO:Ue('Keep in mind that you can also style the chatbot (or a specific chatbot, if you use many) by injecting CSS. Have a look <a target="_blank" href="https://meowapps.com/ai-engine/tutorial/#apply-custom-style-to-the-chatbot">here</a>. More information in the <a target="_blank" href="https://meowapps.com/ai-engine/faq">FAQ</a>.',"ai-engine"),TYPEWRITER_EFFECT:Ue("Typewriter Effect","ai-engine"),TYPEWRITER_EFFECT_HELP:Ue("The reply from AI will be typewrited. This delays the final output! Absolutely not recommended. Please use <b>Streaming</b> instead.","ai-engine"),CHATBOT_MODERATION_HELP:Ue("If the conversation seems offensive, the chatbot will reject it.","ai-engine"),CUSTOM_URL:Ue("Custom URL","ai-engine")},He.CHATBOT={CHATBOT_BUILDER:Ue("Chatbot Builder","ai-engine"),RESET_PARAMS:Ue("Reset Parameters","ai-engine")},He.STATISTICS={ABSOLUTE_HELP:Ue("Using Absolute, Day represents <i>today</i>. Otherwise, the <i>past 24 hours</i>. Same logic applies to the other timeframes.","ai-engine"),NO_CREDITS_MESSAGE:Ue("Message for No Credits","ai-engine"),FULL_ACCESS_USERS:Ue("Full-Access Users","ai-engine"),ENABLE_LIMITS:Ue("Enable Limits","ai-engine")},He.CONTENT_GENERATOR={INTRO:Ue("The Content Generator is a powerful tool that can generate content for you. It can be used to generate articles, emails, or even code. It can also be used to generate content for your chatbot. <b>Let me know if there are any new features you would like to see!</b> Have fun 🥳","ai-engine"),TITLE_MISSING:Ue("Title is missing!","ai-engine"),SECTIONS_MISSING:Ue("Sections are missing!","ai-engine"),SINGLE_GENERATE:Ue("Single Generate","ai-engine"),BULK_GENERATE:Ue("Bulk Generate","ai-engine"),CONTENT_PARAMS:Ue("Content Params","ai-engine"),POST_PARAMS:Ue("Post Params","ai-engine"),CONTENT_PARAMS_INTRO:Ue("Input fields are displayed for certain placeholders used in prompts, such as {LANGUAGE} or {WRITING_TONE}","ai-engine"),CUSTOM_LANGUAGE:Ue("Custom Language","ai-engine"),WRITING_STYLE:Ue("Writing Style","ai-engine"),WRITING_TONE:Ue("Writing Tone","ai-engine"),CUSTOM_LANGUAGE_HELP:Ue('All the languages are <i>somehow</i> supported by AI. <a href="https://meowapps.com/ai-engine/faq/#languages" target="_blank">Learn more</a>.',"ai-engine"),MODEL_HELP:Ue("The gpt-3.5-turbo and davinci models are currently the only acceptable ones for writing texts.","ai-engine"),PROMPTS_INTRO:Ue("Prompts represent the exact request sent to the AI. The variables between curly braces will be replaced by the content of the corresponding field. Prompts are saved in your templates.","ai-engine"),PROMPT_TITLE:Ue("Prompt for <b>Title</b>","ai-engine"),PROMPT_SECTIONS:Ue("Prompt for <b>Sections</b>","ai-engine"),PROMPT_CONTENT:Ue("Prompt for <b>Content</b>","ai-engine"),PROMPT_EXCERPT:Ue("Prompt for <b>Excerpt</b>","ai-engine"),POST_CREATED:Ue("Post Created","ai-engine"),POST_CREATED_AS_DRAFT:Ue("The post was created as a draft.","ai-engine"),CONTENT_HELP:Ue('You can modify the content before using "Create Post". Markdown is supported, and will be converted to HTML when the post is created.',"ai-engine"),SECTIONS_HELP:Ue('Add, rewrite, remove, or reorganize those sections as you wish before (re)clicking on "Generate Content". Markdown format is recommended.',"ai-engine"),GENERATE_EXCERPT:Ue("Generate Excerpt","ai-engine"),GENERATE_CONTENT:Ue("Generate Content","ai-engine"),GENERATE_SECTIONS:Ue("Generate Sections","ai-engine"),PARAGRAPHS_PER_SECTION:Ue("# of Paragraphs per Section","ai-engine"),SECTIONS:Ue("Sections","ai-engine"),TOPICS_HELP:Ue("Write or paste your topics below. Each line will be used as a topic. The same <b>Params</b> and <b>Prompts</b> will be used as with the <b>Single Generate</b>, so make sure you get satisfying results with it first. This <b>takes time</b>, so relax and enjoy some coffee ☕️ and tea 🍵 :)","ai-engine"),GENERATED_POSTS:Ue("Generated Posts","ai-engine"),GENERATE_ALL:Ue("Generate All","ai-engine"),EDIT_POST:Ue("Edit Post","ai-engine"),CREATE_POST:Ue("Create Post","ai-engine"),TITLE_TOO_SHORT:Ue("The title is too short. It should be at least 3 words.","ai-engine"),TITLE_TOO_SHORT_2:Ue("The title is too short.  It should be at least 40 characters.","ai-engine"),TITLE_TOO_LONG:Ue("The title is too long. It should be less than 8 words.","ai-engine"),TITLE_TOO_LONG_2:Ue("The title is too long. It should be less than 70 characters.","ai-engine")},He.TEMPLATES={TEMPLATES:Ue("Templates","ai-engine"),DELETE_CONFIRM:Ue("Are you sure you want to delete this template?","ai-engine"),NEW_TEMPLATE_NAME:Ue("New Template","ai-engine"),EDIT:Ue("EDIT","ai-engine"),JOIN_US:Ue('Interested in sharing and/or looking for more templates? Join us on the <a target="_blank" href="https://wordpress.org/support/topic/common-use-cases-for-templates">Templates Threads</a> in the forums.',"ai-engine")},He.PLAYGROUND={INTRO:Ue("Welcome to the AI Playground! Here, you can play with different AI models and ask the UI to perform various tasks for you. You can ask it to write, rewrite, or translate an article, categorize words or elements into groups, write an email, etc. <b>Let me know if there are any new features you would like to see!</b> Have fun 🥳","ai-engine"),PROMPT:Ue("Query / Prompt","ai-engine"),REPLY:Ue("Reply","ai-engine")},He.ALERTS={FINETUNING_STARTED:Ue("Fine-tuning started! Check its progress in the <b>Models</b> section. Depending on your dataset size, it may take a while (from a few minutes to days).","ai-engine"),RESET_BUILDER:Ue("This will delete all the rows in the builder. Are you sure?","ai-engine"),DELETE_FINETUNE:Ue("You are going to delete this fine-tune. Are you sure?\n\nPlease note that it will take a while before it is actually deleted. This might be a temporary issue of OpenAI.","ai-engine"),FINETUNE_ALREADY_DELETED:Ue("This fine-tune was already deleted. It will be removed from the list.","ai-engine"),CHECK_CONSOLE:Ue("Error! Check your console for more details.","ai-engine"),DATASET_UPLOADED:Ue("Uploaded successfully! You can now train a model based on this dataset.","ai-engine"),ONLY_SUPPORTS_FILES:Ue("This only supports JSON, JSONL, and CSV files.","ai-engine"),EMPTY_LINES_DATASET:Ue("Some lines were empty. Make sure the CSV has a header row and that the columns are named 'prompt' and 'completion'. For debugging, an empty line was logged to the console.","ai-engine"),EMPTY_LINES_EMBEDDINGS:Ue("Some lines were empty. Make sure the CSV has a header row and that the columns are named 'title' and 'content'. For debugging, an empty line was logged to the console.","ai-engine"),ARE_YOU_SURE:Ue("Are you sure?","ai-engine")},He.FINETUNING={CONTEXT_DESCRIPTION:Ue("In Easy mode, this context will be automatically used for every message. This context will need to be re-used in your chatbot as well.","ai-engine"),MODELS_INTRO:Ue("The AI models you have fine-tuned. To create more, visit <b>Datasets</b>.","ai-engine"),LEGACY_MODELS_INTRO:Ue('The AI models you have fine-tuned. <b>Do not use legacy fine-tuning anymore (based on models prior to GPT 3.5). Their deprecation has been <a href="https://platform.openai.com/docs/guides/legacy-fine-tuning" target="_blank">announced by OpenAI</a> for January 4th, 2024.</b><br />',"ai-engine"),DATASETS_INTRO:Ue("The datasets you have uploaded to OpenAI. To create a new dataset, switch from <b>Model Finetuner</b> to <b>Dataset Builder</b>. To train a new model, click on the <i>magic wand</i>.","ai-engine"),MODEL_FINETUNE:Ue("Model Finetune","ai-engine"),MODELS_DATASETS:Ue("Models & Datasets","ai-engine"),DATASET_EDITOR:Ue("Dataset Editor","ai-engine"),DATASET_BUILDER:Ue("Dataset Builder","ai-engine"),ENTRIES_EDITOR:Ue("Entries Editor","ai-engine"),ENTRIES_GENERATOR:Ue("Entries Generator","ai-engine"),HUGE_DATASET_WARNING:Ue("Caution: The data is too large to be saved in your browser's local storage.","ai-engine"),NO_FINETUNES_YET:Ue("No fine-tunes found. Refresh the list, or create a new one (via a dataset).","ai-engine"),CLEAN_MODELS_LIST:Ue("Clean Models List","ai-engine"),DELETED_FINETUNE_ISSUE:Ue("For some reason, OpenAI still return the models even after you deleted them. Don't worry, AI Engine will do the cleanup for you! You can force the cleanup by using this button. It takes a bit of time depending on the total of models you have.","ai-engine")},He.EMBEDDINGS={EDIT:Ue("EDIT","ai-engine"),AI_SEARCH:Ue("AI SEARCH","ai-engine"),AUTO_SYNC_POSTS:Ue("Auto Sync Posts","ai-engine"),AUTO_SYNC_POSTS_DESCRIPTION:Ue("Embeddings will be created, updated or removed based on the activity related to your posts.","ai-engine"),REWRITE_CONTENT:Ue("Rewrite Content","ai-engine"),REWRITE_CONTENT_DESCRIPTION:Ue("Shorten and improve the content for your embedding using the default model.","ai-engine"),FORCE_RECREATE:Ue("Force Recreate","ai-engine"),FORCE_RECREATE_DESCRIPTION:Ue("Recreate embeddings on sync even if the content has not changed.","ai-engine"),REWRITE_PROMPT_DESCRIPTION:Ue("Prompt for the rewrite. Supports {CONTENT}, {TITLE}, {URL}, {EXCERPT}, {LANGUAGE}, {ID}.","ai-engine"),SYNC_ALL:Ue("Sync All","ai-engine"),SYNC_ONE:Ue("Sync One","ai-engine"),ADD_INDEX:Ue("Add Index","ai-engine"),ADD_INDEX_DESCRIPTION:Ue("An index is like a database, and contains embeddings. You can have many indexes and switch between them. The indexes are hosted on Pinecone.","ai-engine"),NO_NAMESPACE_SUPPORT:Ue("Note: This server does not support namespaces.","ai-engine")},He.ERROR={UPDATING_OPTIONS:Ue("An error occured while updating the options."),GETTING_OPTIONS:Ue("An error occured while getting the options."),CHECK_YOUR_CONSOLE:Ue('For more information, check <a target="_blank" href="https://meowapps.com/tutorial-network-activity-dev-tools/">your console</a>. You might also want to check your <a target="_blank" href="https://meowapps.com/tutorial-php-error-logs/">PHP Error Logs</a>.',"ai-engine")};const Ve=He;function Ye(){Ye=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==We(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(We(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ze(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ze(o,r,a,i,l,"next",e)}function l(e){Ze(o,r,a,i,l,"throw",e)}i(void 0)}))}}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==We(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===We(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e){return function(e){if(Array.isArray(e))return $e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){if(e){if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var et=wp.element,tt=et.useMemo,nt=et.useState,rt=et.useEffect,at={title:"",content:"",refId:null,type:"manual",behavior:"context"},ot={name:"",podType:"p2"},it=function(e){var t=e.options,n=t.openai_apikey,r=n&&n.length>0,a=!(null!=t&&t.module_embeddings)||(null==t?void 0:t.embeddings_envs)&&(null==t?void 0:t.embeddings_envs.length)>0;return React.createElement(React.Fragment,null,!r&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},(0,R.io)(Ve.SETTINGS.OPENAI_SETUP)),!a&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},(0,R.io)(Ve.SETTINGS.PINECONE_SETUP)))},lt=function(e){var t=e.disabled,n=e.options,r=e.language,a=e.customLanguage,o=Ke(nt(null!=r?r:"en"),2),i=o[0],l=o[1],c=Ke(nt(!1),2),u=c[0],s=c[1],f=Ke(nt(""),2),m=f[0],d=f[1],p=(null==n?void 0:n.languages)||[],h=tt((function(){return Object.keys(p).map((function(e){return{value:e,label:p[e]}}))}),[p]);rt((function(){a?(s(!0),d(a)):(s(!1),d(""),l(null!=r?r:"en"))}),[a]),rt((function(){l(r)}),[r]),rt((function(){var e=localStorage.getItem("mwai_preferred_language");if(e&&h.find((function(t){return t.value===e})))l(e);else{var t=(document.querySelector("html").lang||navigator.language||navigator.userLanguage).substr(0,2);h.find((function(e){return e.value===t}))&&l(t)}}),[]);var y=tt((function(){if(u)return m;var e=h.find((function(e){return e.value===i}));return e?e.label:(console.warn("A system language or a custom language should be set."),"English")}),[i,m]),v=function(e,t){"custom"!==e?(l(e,t),localStorage.setItem("mwai_preferred_language",e)):s(!0)};return{jsxLanguageSelector:tt((function(){return React.createElement(React.Fragment,null,u&&React.createElement(Ee.A,{name:"customLanguage",disabled:t,onReset:function(){s(!1)},description:(0,R.io)(Ve.CONTENT_GENERATOR.CUSTOM_LANGUAGE_HELP),value:m,onChange:d}),!u&&React.createElement(we.N,{scrolldown:!0,name:"language",disabled:t,description:(0,R.io)(Ve.CONTENT_GENERATOR.CUSTOM_LANGUAGE_HELP),value:i,onChange:v},h.map((function(e){return React.createElement(we.Z,{key:e.value,value:e.value,label:e.label})})),React.createElement(we.Z,{key:"custom",value:"custom",label:"Other"})))}),[i,y,h,u]),currentLanguage:u?"custom":i,currentHumanLanguage:y,isCustom:u}},ct=function(e){var t=Ke(nt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"gpt-3.5-turbo"),2),n=t[0],r=t[1],a=(null==e?void 0:e.openai_finetunes_deleted)||[];Array.isArray(null==e?void 0:e.openai_legacy_finetunes_deleted)&&(a=[].concat(Qe(a),Qe(e.openai_legacy_finetunes_deleted)));var o=function(e,t){var n,r=null===(n=e.tags)||void 0===n?void 0:n.includes("deprecated");return t||r?React.createElement(React.Fragment,null,e.name||e.suffix," ",React.createElement("small",{style:{background:r?"var(--neko-red)":"var(--neko-green)",color:"white",padding:"3px 4px",margin:"-3px 2px",borderRadius:3,fontSize:9,lineHeight:"100%"}},r?"DEPRECATED":"TUNED")):e.name},i=tt((function(){var t,n,r=e.openai_models,a="string"==typeof(null==e?void 0:e.extra_models)?null==e?void 0:e.extra_models:"",i=null!==(t=null==e?void 0:e.openai_finetunes)&&void 0!==t?t:[];return Array.isArray(null==e?void 0:e.openai_legacy_finetunes)&&(i=[].concat(Qe(i),Qe(e.openai_legacy_finetunes))),i=i.filter((function(e){return"succeeded"===e.status&&e.model})),r=r.map((function(e){return qe(qe({},e),{},{name:o(e)})})),i.length&&(r=[].concat(Qe(r),Qe(i.map((function(e){var t="completion",n=e.model.split(":")[0];return e.model.includes("ft:gpt-3.5")?(t="chat",n="turbo"):e.model.includes("ft:gpt-4")&&(t="chat",n="gpt4"),{model:e.model,name:o(e,!0),suffix:e.suffix,mode:t,family:n,description:"finetuned",finetuned:!0,tags:["finetune"]}}))))),(a=null===(n=a)||void 0===n?void 0:n.split(",").filter((function(e){return e}))).length&&(r=[].concat(Qe(r),Qe(a.map((function(e){return{id:e,model:e,description:"Extra"}}))))),r}),[e]),l=tt((function(){return i.filter((function(e){return!a.includes(e.model)}))}),[i,a]),c=tt((function(){return i.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("core")}))}),[i]),u=tt((function(){return l.filter((function(e){return"completion"===(null==e?void 0:e.mode)||"chat"===(null==e?void 0:e.mode)}))}),[l]),s=function(e){return"gpt-3.5-turbo-0301"===e||"gpt-35-turbo"===e||"gpt-3.5-turbo-0613"===e?e="gpt-3.5-turbo":"gpt-4-0314"!==e&&"gpt-4-0613"!==e||(e="gpt-4"),i.find((function(t){return t.model===e}))},f=function(e){var t=s(e);return c.find((function(e){return e.family===t.family}))||null},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1024x1024",n=f(e);if("image"===(null==n?void 0:n.type)&&null!=n&&n.options){var r=n.options.find((function(e){return e.option===t}));return(null==r?void 0:r.price)||null}return(null==n?void 0:n.price)||null};return{allModels:i,model:n,models:l,completionModels:u,coreModels:c,setModel:r,isFineTunedModel:function(e){var t=s(e);return(null==t?void 0:t.finetuned)||!1},getModelName:function(e){var t=s(e);return(null==t?void 0:t.name)||(null==t?void 0:t.model)||e},getFamilyName:function(e){var t=s(e);return(null==t?void 0:t.family)||null},getPrice:m,getModel:s,calculatePrice:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1024x1024",a=f(e),o=m(e,r),i=o,l=o;return"object"===We(o)&&null!==o&&(i=o.in,l=o.out),i&&l?i*t*a.unit+l*n*a.unit:(console.warn("Price not found for model",e),0)}}},ut=function(){var e=ze(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/vectors/remote_list"),{nonce:A,method:"POST",json:t});case 2:return n=e.sent,e.abrupt("return",n?{total:n.total,vectors:n.vectors}:{total:0,vectors:[]});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=ze(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/vectors/add_from_remote"),{nonce:A,method:"POST",json:t,signal:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ft=function(){var e=ze(Ye().mark((function e(t){var n,r,a,o,i,l;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null!==(null==t||null===(n=t.filters)||void 0===n?void 0:n.search),""!==(null==t||null===(r=t.filters)||void 0===r?void 0:r.search)){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,(0,R.PV)("".concat(T,"/vectors/list"),{nonce:A,method:"POST",json:t});case 5:return i=e.sent,o&&null!=i&&null!==(a=i.vectors)&&void 0!==a&&a.length&&(l=i.vectors.sort((function(e,n){var r;return"asc"===(null==t||null===(r=t.sort)||void 0===r?void 0:r.by)?e.score-n.score:n.score-e.score})),i.vectors=l),e.abrupt("return",i?{total:i.total,vectors:i.vectors}:{total:0,vectors:[]});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=ze(Ye().mark((function e(t){var n,r,a=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"publish",e.next=3,(0,R.PV)("".concat(T,"/helpers/count_posts?postType=").concat(t,"&postStatus=").concat(n),{nonce:A});case 3:return r=e.sent,e.abrupt("return",null!=r&&r.count?parseInt(null==r?void 0:r.count):null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=ze(Ye().mark((function e(t){var n,r,a,o,i=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:0,r=i.length>2&&void 0!==i[2]?i[2]:0,a=i.length>3&&void 0!==i[3]?i[3]:"publish",e.next=5,(0,R.PV)("".concat(T,"/helpers/post_content?postType=").concat(t,"&postStatus=").concat(a,"&offset=").concat(n,"&postId=").concat(r),{nonce:A});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function pt(e){for(var t=0,n=0,r=0;r<e.length;r++)e[r].charCodeAt(0)<128?t++:n++;return t/3.5+2.5*n}function ht(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048,n=e,r=pt(n);r>t;)r=pt(n=n.slice(0,-32));return n}function yt(e){var t=new Date(e),n=(t=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}),r=t.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return React.createElement("div",{style:{textAlign:"right"}},n,React.createElement("br",null),React.createElement("small",null,r))}function vt(e,t){var n,r=t?(n=t.substring(0,12)).length<t.length?(n.endsWith(".")&&(n=n.slice(0,-1)),n+"~"):n:"";return React.createElement(React.Fragment,null,!e&&React.createElement(React.Fragment,null,Ve.COMMON.GUEST),e&&React.createElement(React.Fragment,null,React.createElement("a",{target:"_blank",href:"/wp-admin/user-edit.php?user_id=".concat(e),rel:"noreferrer"},Ve.COMMON.USER," #",e)),React.createElement("br",null),React.createElement("small",null,r))}var gt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n=0;n<e;n++)t+="abcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(36*Math.random())];return t};function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===bt(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt=wp.element,xt=(Rt.useState,Rt.useEffect,Rt.useMemo),Ot=React.createElement("g",null,React.createElement("g",null,React.createElement("path",{d:"m391 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m331 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m271 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m211 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m151 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m91 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m406 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("path",{d:"m346 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("path",{d:"m286 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("g",{fill:"#5f55af"},React.createElement("path",{d:"m226 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m166 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m106 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 121h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 181h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 241h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 301h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 361h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 421h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"})),React.createElement("path",{d:"m431 91v30h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z",fill:"#39326c"}),React.createElement("path",{d:"m431 181h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 241h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 301h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 361h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 421h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"})),React.createElement("g",null,React.createElement("path",{d:"m446 51h-380c-8.284 0-15 6.716-15 15v380c0 8.284 6.716 15 15 15h380c8.284 0 15-6.716 15-15v-380c0-8.284-6.716-15-15-15z",fill:"#aed0ff"}),React.createElement("g",null,React.createElement("path",{d:"m461 446v-380c0-8.284-6.716-15-15-15h-190v410h190c8.284 0 15-6.716 15-15z",fill:"#7c84e8"})),React.createElement("path",{d:"m386 111h-260c-8.284 0-15 6.716-15 15v260c0 8.284 6.716 15 15 15h260c8.284 0 15-6.716 15-15v-260c0-8.284-6.716-15-15-15z",fill:"#5f55af"}),React.createElement("g",null,React.createElement("path",{d:"m401 386v-260c0-8.284-6.716-15-15-15h-130v290h130c8.284 0 15-6.716 15-15z",fill:"#39326c"}))),React.createElement("g",null,React.createElement("path",{d:"m247.626 192.389c-.052-.138-.106-.274-.162-.411-2.744-6.671-9.175-10.978-16.387-10.978-.006 0-.012 0-.018 0-7.219.007-13.65 4.329-16.383 11.01-.046.113-.091.227-.134.341l-45.06 118.31c-2.949 7.742.937 16.408 8.679 19.356 7.742 2.95 16.408-.937 19.356-8.679l7.543-19.804h51.691l7.458 19.762c2.267 6.007 7.974 9.708 14.036 9.708 1.76 0 3.55-.312 5.294-.97 7.75-2.925 11.663-11.579 8.737-19.33zm-31.14 79.146 14.538-38.171 14.406 38.171z",fill:"#f9f9f9"}),React.createElement("g",{fill:"#e2dff4"},React.createElement("path",{d:"m264.209 321.296c2.267 6.007 7.974 9.708 14.036 9.708 1.76 0 3.55-.312 5.294-.97 7.75-2.925 11.663-11.579 8.737-19.33l-36.276-96.126v86.956h.751z"}),React.createElement("path",{d:"m328.5 181c-8.284 0-15 6.716-15 15v120c0 8.284 6.716 15 15 15s15-6.716 15-15v-120c0-8.284-6.716-15-15-15z"})))),St=React.createElement("g",null,React.createElement("path",{d:"m213.46 341.461-139.26 156.08c-16.17 18.48-44.53 19.33-61.8 2.06-17.32-17.32-16.37-45.67 2.06-61.8l156.08-139.26s13.46-2.54 29.46 13.46 13.46 29.46 13.46 29.46z",fill:"#0052be"}),React.createElement("path",{d:"m213.46 341.461-139.26 156.08c-16.17 18.48-44.53 19.33-61.8 2.06l187.6-187.6c16 16 13.46 29.46 13.46 29.46z",fill:"#00429b"}),React.createElement("path",{d:"m304 240.001-90.54 101.46c-14.997-14.997-27.922-27.922-42.92-42.92l101.46-90.54z",fill:"#00429b"}),React.createElement("path",{d:"m304 240.001-90.54 101.46-21.46-21.46 96-96z",fill:"#00337a"}),React.createElement("path",{d:"m400 279.001h-64.4l-42.47 57.87c-7.88 10.735-24.824 6.606-26.91-6.52l-11.56-73.01-73.01-11.56c-13.139-2.087-17.244-19.042-6.52-26.91l57.87-42.47v-64.4c0-12.176 13.797-19.289 23.72-12.21l50.15 35.83 70.92-19.9c11.25-3.168 21.656 7.245 18.49 18.49l-19.9 70.92 35.83 50.15c7.071 9.913-.02 23.72-12.21 23.72z",fill:"#ffdd54"}),React.createElement("path",{d:"m412.21 255.281c7.071 9.913-.02 23.72-12.21 23.72h-64.4l-42.47 57.87c-7.875 10.728-24.823 6.616-26.91-6.52l-11.56-73.01 137.79-137.79c3.83 3.84 5.3 9.44 3.83 14.66l-19.9 70.92z",fill:"#ffb454"}),React.createElement("path",{d:"m512 39.001c0 8.28-6.72 15-15 15h-9v9c0 8.28-6.72 15-15 15s-15-6.72-15-15v-9h-9c-8.28 0-15-6.72-15-15s6.72-15 15-15h9v-9c0-8.28 6.72-15 15-15s15 6.72 15 15v9h9c8.28 0 15 6.719 15 15z",fill:"#bee75e"}),React.createElement("path",{d:"m512 39.001c0 8.28-6.72 15-15 15h-9v9c0 8.28-6.72 15-15 15s-15-6.72-15-15v-9l30-30h9c8.28 0 15 6.719 15 15z",fill:"#00cb75"}),React.createElement("path",{d:"m336 41.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#f6f9f9"}),React.createElement("path",{d:"m441 224.001c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9z",fill:"#e2dff4"}),React.createElement("path",{d:"m497 329.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#ff4a4a"}),React.createElement("path",{d:"m192 24.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#ff8659"}),React.createElement("path",{d:"m159.442 122.977-56-32c-7.191-4.109-16.355-1.611-20.466 5.581-4.11 7.193-1.611 16.355 5.581 20.466l56 32c7.16 4.093 16.337 1.644 20.466-5.581 4.111-7.193 1.612-16.355-5.581-20.466z",fill:"#f6f9f9"}),React.createElement("path",{d:"m118.14 169.117-64 8c-8.221 1.027-14.052 8.524-13.023 16.744 1.027 8.218 8.523 14.054 16.744 13.023l64-8c8.221-1.027 14.052-8.524 13.023-16.744-1.028-8.22-8.527-14.062-16.744-13.023z",fill:"#acceff"}),React.createElement("path",{d:"m389.023 352.558c-4.111-7.193-13.274-9.693-20.466-5.581-7.192 4.11-9.691 13.272-5.581 20.466l32 56c2.769 4.845 7.83 7.561 13.037 7.561 11.319 0 18.784-12.341 13.01-22.445z",fill:"#e2dff4"}),React.createElement("path",{d:"m329.86 377.117c-8.222-1.031-15.717 4.804-16.744 13.023l-8 64c-1.117 8.925 5.834 16.862 14.902 16.862 7.455 0 13.917-5.553 14.865-13.142l8-64c1.029-8.219-4.802-15.716-13.023-16.743z",fill:"#6ba7ff"}));const Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.icon,n=void 0===t?"ai":t,r=e.size,a=void 0===r?20:r,o=e.style,i=void 0===o?{}:o,l=xt((function(){switch(n){case"ai":default:return Ot;case"wand":return St}}),[n]);return React.createElement("svg",{style:wt({width:a,height:a,marginRight:5},i),"enable-background":"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg"},l)};var Nt,_t,Ct,Lt;function At(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var It=function(e){var t=e.title,n=void 0===t?Ve.COMMON.SETTINGS:t,r=e.options,a=void 0===r?I:r,o=null==a?void 0:a.module_playground,i=null==a?void 0:a.module_generator_content,l=null==a?void 0:a.module_generator_images;return React.createElement(v.B,{title:"AI Engine | ".concat(n),subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i&&React.createElement(E._,{className:"header",onClick:function(){return location.href="edit.php?page=mwai_content_generator"}},React.createElement(Tt,{icon:"wand",style:{marginRight:8}}),Ve.COMMON.CONTENT),l&&React.createElement(E._,{className:"header",icon:"",onClick:function(){return location.href="edit.php?page=mwai_images_generator"}},React.createElement(Tt,{icon:"wand",style:{marginRight:8}}),Ve.COMMON.IMAGES),o&&React.createElement(E._,{className:"header",icon:"",onClick:function(){return location.href="tools.php?page=mwai_dashboard"}},React.createElement(Tt,{icon:"wand",style:{marginRight:8}}),Ve.COMMON.PLAYGROUND),React.createElement(E._,{className:"header",icon:"tools",onClick:function(){return location.href="admin.php?page=mwai_settings"}})))},kt=((0,F.ZP)(E._)(Nt||(Nt=At(["\n"]))),F.ZP.div(_t||(_t=At(["\n  display: flex;\n  justify-content: unset;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 0 2px 0;\n\n  h2 {\n    margin: 7px 0 0 0;\n    padding: 0;\n  }\n"])))),jt=F.ZP.div(Ct||(Ct=At(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(30%, 1fr));\n  grid-template-rows: repeat(auto-fit, minmax(30%, 1fr));\n  grid-gap: 10px;\n  margin-top: 20px;\n\n  img, div {\n    width: 100%;\n    cursor: pointer;\n  }\n  .empty-image {\n    width: 100%;\n    padding-bottom: 100%;\n    background-color: #f5f5f5;\n  }\n"]))),Pt=F.ZP.div(Lt||(Lt=At(["\n\n  label {\n    margin-bottom: 5px;\n    display: block;\n  }\n\n  .nui-button {\n    margin-bottom: 5px;\n  }\n\n  .neko-textarea {\n    margin-bottom: 5px;\n  }\n\n  .neko-input {\n    margin-bottom: 5px;\n  }\n\n  .form-row {\n    display: flex;\n    .nui-button, .neko-textarea, .neko-input {\n      margin: 0;\n    }\n  }\n\n  .form-row-label {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n"]))),Mt=n(7460),Dt=n.n(Mt),Ft=n(9378),Gt=n(3103),Bt=n(3594),Ut=n(9995),Ht=n(2625),Vt=n(776),Yt=n(8281),Zt=n(4291);function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Wt(){Wt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==zt(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(zt(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Xt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Xt(o,r,a,i,l,"next",e)}function l(e){Xt(o,r,a,i,l,"throw",e)}i(void 0)}))}}var Qt=function(){var e=qt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/post_types"),{nonce:A});case 2:if((t=e.sent).success){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.postTypes);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kt=function(){var e=qt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/count_posts?postType=").concat(t),{nonce:A});case 2:return n=e.sent,e.abrupt("return",null!=n&&n.count?parseInt(null==n?void 0:n.count):null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=qt(Wt().mark((function e(t){var n,r,a,o=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,r=o.length>2&&void 0!==o[2]?o[2]:0,e.next=4,(0,R.PV)("".concat(T,"/helpers/post_content?postType=").concat(t,"&offset=").concat(n,"&postId=").concat(r),{nonce:A});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(){var e=qt(Wt().mark((function e(){var t,n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/openai/files/list"),{nonce:A});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",null==n||null===(t=n.files)||void 0===t?void 0:t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),en=function(){var e=qt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/openai/finetunes/list_deleted?legacy=").concat(t),{nonce:A});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",null==n?void 0:n.finetunes);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tn=function(){var e=qt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/openai/finetunes/list?legacy=").concat(t),{nonce:A});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",null==n?void 0:n.finetunes);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nn=function(){var e=qt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/chatbots"),{method:"GET",nonce:A});case 2:if((t=e.sent).success){e.next=5;break}throw new Error(null==t?void 0:t.message);case 5:return e.abrupt("return",null==t?void 0:t.chatbots);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rn=function(){var e=qt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/chatbots"),{method:"POST",nonce:A,json:{chatbots:t}});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(null==n?void 0:n.message);case 5:return e.abrupt("return",null==n?void 0:n.chatbots);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),an=function(){var e=qt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/themes"),{method:"GET",nonce:A});case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.themes);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),on=function(){var e=qt(Wt().mark((function e(t){var n,r,a,o,i;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,n=[],r=0;r<t.length;r++){if(a=t[r].themeId,n.includes(a)){for(o=1;n.includes(a+"-"+o);)o++;a=a+"-"+o}n.push(a),t[r].themeId=a}return e.next=5,(0,R.PV)("".concat(T,"/settings/themes"),{method:"POST",nonce:A,json:{themes:t}});case 5:return i=e.sent,e.abrupt("return",null==i?void 0:i.themes);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function cn(){cn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==ln(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ln(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function un(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function sn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){un(o,r,a,i,l,"next",e)}function l(e){un(o,r,a,i,l,"throw",e)}i(void 0)}))}}function fn(e){return function(e){if(Array.isArray(e))return pn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||dn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){if(e){if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hn=wp.element,yn=hn.useState;hn.useEffect;const vn=function(e){var t=e.options,n=e.setMessages,r=mn(yn("post"),2),a=r[0],o=r[1],i=mn(yn(0),2),l=i[0],c=i[1],u=mn(yn(!1),2),s=u[0],f=u[1],m=mn(yn("Generate 30 questions and answers from this text. Questions use a neutral tone. Answers use the same tone as the text."),2),d=m[0],p=m[1],h=mn(yn("\n\nUse this format:\n\nQ: Question?\nA: Answer.\n\nQ: Question?\nA: Answer.\nText:\n\n{CONTENT}"),2),y=h[0],v=(h[1],(0,Ce.a)({queryKey:["postTypes"],queryFn:Qt})),g=v.isLoading,b=v.data,w=(0,Ce.a)({queryKey:["postsCount-"+a],queryFn:function(){return Kt(a)}}),x=w.isLoading,O=w.data,S=(0,Zt.qj)({i18n:Ve,onStop:function(){f(),S.reset()}}),N=s||S.busy||x||g,_=function(e){if(!e)return[];for(var t=e.split("\n").filter((function(e){return""!==e.trim()})),n=[],r=[],a=0;a<t.length;a++)t[a].startsWith("Q:")?(r.length&&(n.push({messages:fn(r)}),r=[]),r.push({role:"user",content:t[a].slice(2).trim()})):t[a].startsWith("A:")&&(r.push({role:"assistant",content:t[a].slice(2).trim()}),n.push({messages:fn(r)}),r=[]);return r.length&&n.push({messages:r}),n},C=function(){var e=sn(cn().mark((function e(){var n,r,o,i,l,u,s,f,m,p,h,v,g,b,E,w,x,O=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.length>0&&void 0!==O[0]?O[0]:0,r=O.length>1&&void 0!==O[1]?O[1]:void 0,o=O.length>2&&void 0!==O[2]?O[2]:void 0,i=d+y,e.next=6,Jt(a,n,r||void 0);case 6:if(l=e.sent,u=null,s=null,f=null==l?void 0:l.content,m=null==l?void 0:l.url,p=null==l?void 0:l.title,h=0,l.success){e.next=18;break}alert(l.message),u=l.message,e.next=35;break;case 18:if(!(f.length<64)){e.next=22;break}console.log("Issue: Content is too short! Skipped.",{content:f}),e.next=35;break;case 22:return i=(i=(i=i.replace("{CONTENT}",f)).replace("{URL}",m)).replace("{TITLE}",p),e.next=27,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",json:{env:"admin-tools",session:k,prompt:i,temperature:.8,model:t.assistants_model,maxTokens:2048,stop:""},signal:o,nonce:A});case 27:if((g=e.sent).success){e.next=33;break}if(null===(b=g.error)||void 0===b||!b.cancelledByUser){e.next=31;break}return e.abrupt("return",null);case 31:throw console.error(g),new Error(null!==(E=g.message)&&void 0!==E?E:"Unknown error, check your console logs.");case 33:s=null==g?void 0:g.data,null!=g&&null!==(v=g.usage)&&void 0!==v&&v.total_tokens&&(h=g.usage.total_tokens,c((function(e){return e+g.usage.total_tokens})));case 35:return null!=o&&o.aborted&&L(),w=_(s),x={content:f,prompt:i,rawData:s,entries:w,error:u,tokens:h},console.log("Result:",x),e.abrupt("return",x);case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){console.log("User aborted."),setBusy(!1),S.reset()},I=function(){var e=sn(cn().mark((function e(){var t,r,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(0),t=Array.from(Array(O).keys()),r=prompt("There are "+t.length+" entries. If you want to start from a certain entry offset, type it here. Otherwise, just press OK, and everything will be processed."),a=t.map((function(e){return function(){var t=sn(cn().mark((function t(a){var o,i;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("Task "+e),!(r&&e<r)){t.next=3;break}return t.abrupt("return",{success:!0});case 3:return t.next=5,C(e,null,a);case 5:return(null==(i=t.sent)||null===(o=i.entries)||void 0===o?void 0:o.length)>0&&n((function(e){return[].concat(fn(e),fn(i.entries))})),t.abrupt("return",{success:!0});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=6,S.start(a);case 6:f(!1),alert("All done!"),S.reset();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=sn(cn().mark((function e(){var t,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c(0),null!==(t=prompt("Enter the ID of a post (leave blank to use the very first one)."))){e.next=5;break}return e.abrupt("return");case 5:return f("singleGenerate"),e.next=8,C(0,t);case 8:(r=e.sent).entries.length?confirm("Got ".concat(r.entries.length," entries! Do you want to add them to your data? If not, they will be displayed in your console."))&&n((function(e){return[].concat(fn(e),fn(r.entries))})):alert("No entries were generated. Check the console for more information."),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{disabled:N,onClick:j,isBusy:"singleGenerate"===s},Ve.COMMON.SINGLE_GENERATE),React.createElement(E._,{disabled:N,onClick:function(){return I()}},"Run Bulk Generate"),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},"Based on ",x&&"...",!x&&O),React.createElement(we.N,{id:"postType",scrolldown:!0,disabled:N,name:"postType",style:{width:100,marginLeft:10},onChange:o,value:a},null==b?void 0:b.map((function(e){return React.createElement(we.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(Yt.U,{busy:S.busy,style:{marginLeft:10,flex:"auto"},value:S.value,max:S.max,onStopClick:S.stop}),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},"Tokens: ",l)),React.createElement(Te.l,{id:"generatePrompt",name:"generatePrompt",rows:2,style:{marginTop:15},value:d,onBlur:p,disabled:N}),S.TasksErrorModal)};function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function bn(e){return function(e){if(Array.isArray(e))return Nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==gn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gn(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(){Rn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==gn(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(gn(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function xn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function On(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){xn(o,r,a,i,l,"next",e)}function l(e){xn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Tn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _n=wp.element,Cn=_n.useState,Ln=_n.useMemo,An=_n.useRef,In=_n.useEffect,kn=[{accessor:"row",title:"#",width:25,verticalAlign:"top"},{accessor:"question",title:"Question",verticalAlign:"top"},{accessor:"answer",title:"Answer",verticalAlign:"top"},{accessor:"actions",title:"",width:36,align:"center"}],jn=[{accessor:"row",title:"#",width:25,verticalAlign:"top"},{accessor:"messages",title:"Messages",verticalAlign:"top"},{accessor:"actions",title:"",width:68,align:"top"}],Pn=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"filename",title:"File"},{accessor:"purpose",title:"Purpose"},{accessor:"filesize",title:"Size",sortable:!0},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"190px"}],Mn=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"suffix",title:"Suffix"},{accessor:"model",title:"Model"},{accessor:"base_model",title:"Based On",width:"200px"},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:""}],Dn=function(e){var t=e.status,n=e.includeText,r=void 0!==n&&n,a=(0,s.r)().colors,o=a.orange,i=a.green,l=a.red,c=null;switch(t){case"pending":case"running":c=React.createElement(Re.J,{title:t,icon:"replay",spinning:!0,width:24,color:o});break;case"succeeded":case"processed":c=React.createElement(Re.J,{title:t,icon:"check-circle",width:24,color:i});break;case"failed":c=React.createElement(Re.J,{title:t,icon:"close",width:24,color:l});break;case"cancelled":c=React.createElement(Re.J,{title:t,icon:"close",width:24,color:o});break;default:c=React.createElement(Re.J,{title:t,icon:"alert",width:24,color:o})}return r?React.createElement("div",{style:{display:"flex",alignItems:"center"}},c,React.createElement("span",{style:{textTransform:"uppercase",fontSize:9,marginLeft:3}},t)):c},Fn=function(e){var t=e.children,n=e.data,r=e.onChange,a=void 0===r?function(){}:r,o=Sn(Cn(!1),2),i=o[0],l=o[1],c=function(e){l(!1),e!==n&&a(e)};return i?React.createElement("div",{onKeyUp:function(e){"Escape"===e.key&&c(n)},style:{height:"100%",display:"flex",flexDirection:"column",width:"100%"}},React.createElement(Te.l,{onBlurForce:!0,autoFocus:!0,fullHeight:!0,rows:3,style:{height:"100%",width:"100%"},onEnter:c,onBlur:c,value:n}),React.createElement(E._,{onClick:c,fullWidth:!0,style:{marginTop:2,height:35}},"Save")):React.createElement("pre",{style:{width:"100%",height:"100%",whiteSpace:"break-spaces",margin:0,padding:0,fontSize:13,fontFamily:"inherit"},onClick:function(){return l(!0)}},t)};const Gn=function(e){var t,n,r,a=e.options,o=e.updateOption,i=e.refreshOptions,l=(0,s.r)().colors,c=(0,u.NL)(),f=Sn(Cn(),2),m=f[0],d=f[1],p=Sn(Cn(!1),2),y=p[0],v=p[1],g=Sn(Cn("finetunes"),2),b=g[0],w=g[1],x=Sn(Cn("editor"),2),O=x[0],S=x[1],N=Sn(Cn(!0),2),_=N[0],C=N[1],L=ct(a),I=L.models,k=L.model,j=L.setModel,P=L.getModel,M=L.isFineTunedModel,D=Sn(Cn("current"),2),F=D[0],G=D[1],B=Sn(Cn("meow"),2),U=B[0],H=B[1],V=Sn(Cn(!1),2),Y=V[0],Z=V[1],z=Sn(Cn(4),2),W=z[0],X=z[1],q=Sn(Cn(4),2),Q=q[0],K=q[1],J=Sn(Cn(.1),2),$=J[0],ee=J[1],te=Sn(Cn(.01),2),ne=te[0],re=te[1],ae=Sn(Cn(!1),2),oe=ae[0],ie=ae[1],le=(0,Ce.a)({queryKey:["datasets"],enabled:oe,queryFn:$t}),ce=le.isFetching,ue=le.error,se=le.data,fe=(null==a?void 0:a.openai_finetunes_deleted)||[],me=Sn(Cn(!1),2),de=me[0],pe=me[1],he=(null==a?void 0:a.openai_finetunes)||[],ye=Ln((function(){return I.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes("finetune")}))}),[I]);In((function(){"files"!==b||oe||ie(!0)}),[b]),In((function(){ue&&!de&&pe(ue)}),[ue]);var ve=10,ge=Sn(Cn(!0),2),be=ge[0],Re=ge[1],Se=Sn(Cn(1),2),Le=Se[0],Ae=Se[1],Ie=Sn(Cn([]),2),ke=Ie[0],je=Ie[1],Pe=Sn(Cn(!0),2),Me=Pe[0],De=Pe[1],Fe=Sn(Cn("You are Chihiro, an AI Assistant. Your primary objective is to assist website visitors by directing them to the appropriate page or succinctly answering their questions with precision."),2),Ge=Fe[0],Be=Fe[1],Ue=Sn(Cn(""),2),He=Ue[0],Ye=Ue[1],Ze=Ln((function(){return ke.length}),[ke]),ze=function(e){e.entries;var t=e.messages,n=e.currentRow,r=e.onUpdateDataRow,a=e.onDeleteDataRow;return React.createElement(React.Fragment,null,t.map((function(e,t){return React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{rounded:!0,icon:"trash",onClick:function(){return a(n,t+1)}}),React.createElement("div",{style:{width:120,paddingLeft:5,paddingTop:0,paddingBottom:4,marginRight:10}},React.createElement(we.N,{scrolldown:!0,name:"role",value:e.role,style:{width:120},onChange:function(a){return r(n,a,e.content,t+1)}},React.createElement(we.Z,{value:"assistant",label:"Assistant"}),React.createElement(we.Z,{value:"user",label:"User"}),React.createElement(we.Z,{value:"system",label:"System"}))),React.createElement(Fn,{data:e.content,style:{flex:"auto"},onChange:function(a){return r(n,e.role,a,t+1)}},e.content))})))},We=function(){var e=On(Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.invalidateQueries("datasets");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=On(Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,We();case 3:v(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=On(Rn().mark((function e(){var t,n,r,a,o,i;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m,n=U,r=P(k),v(!0),a=M(k),o={fileId:t,model:a?r.model:r.family,suffix:n},Y&&(o=wn(wn({},o),{},{nEpochs:W,batchSize:Q,learningRateMultiplier:$,promptLossWeight:ne})),e.prev=7,e.next=10,(0,R.PV)("".concat(T,"/openai/files/finetune"),{method:"POST",nonce:A,json:o});case 10:(i=e.sent).success?(Qe(),alert(Ve.ALERTS.FINETUNING_STARTED),w("finetunes"),d()):alert(i.message),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.log(e.t0.message),alert(e.t0.message);case 18:v(!1);case 19:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=On(Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v("finetunes"),he.length){e.next=6;break}return e.next=4,en();case 4:e.next=8;break;case 6:return e.next=8,tn();case 8:return e.next=10,i();case 10:v(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=On(Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("clean"),e.next=3,en();case 3:return e.next=5,i();case 5:v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&!confirm(Ve.ALERTS.RESET_BUILDER)||(je([]),et({context:Ge,entries:[]}))};In((function(){if(!ke||0===ke.length){var e=localStorage.getItem("mwai_builder_data_v2");if(e){var t=JSON.parse(e);je(t.entries),t.context&&Be(t.context)}}}),[]);var $e=function(e){Be(e),function(e){for(var t,n=!1,r=function(){var t=ke[a];if(t.messages&&t.messages.length>0&&"system"===t.messages[0].role&&t.messages[0].content!==e){if(!n){if(!confirm("The context in your data does not match the one in your entries. Do you want to replace it for every entries?"))return{v:void 0};n=!0}var r=bn(ke);r[a].messages[0].content=e,je((function(){return r}))}},a=0;a<ke.length;a++)if(t=r())return t.v}(e)},et=function(e){!function(){var e=new Date,t=e.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});t=t.replace(/\//g,"."),t+="-"+e.getHours().toString().padStart(2,"0")+"."+e.getMinutes().toString().padStart(2,"0"),Ye("MEOW-".concat(t,".jsonl"))}();try{e?localStorage.setItem("mwai_builder_data_v2",JSON.stringify(e)):localStorage.removeItem("mwai_builder_data_v2"),Re(!0)}catch(e){localStorage.removeItem("mwai_builder_data_v2"),Re(!1)}};In((function(){ke&&(null==ke?void 0:ke.length)>0&&et({context:Ge,entries:ke})}),[ke]),In((function(){Ge&&(null==Ge?void 0:Ge.length)>0&&et({context:Ge,entries:ke})}),[Ge]);var tt=function(e,t){var n=bn(ke);n[e-1].messages.splice(t-1,1),je(n)},nt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=ke.map((function(a,o){if(o===e-1){if(r)return wn(wn({},a),{},{messages:a.messages.map((function(e,a){return a===r-1?wn(wn({},e),{},{role:t,content:n}):e}))});if("assistant"===t)return wn(wn({},a),{},{messages:a.messages.map((function(e){return"assistant"===e.role?wn(wn({},e),{},{content:n}):e}))});if("user"===t)return wn(wn({},a),{},{messages:a.messages.map((function(e){return"user"===e.role?wn(wn({},e),{},{content:n}):e}))})}return a}));je(a)},rt=Ln((function(){var e=(Le-1)*ve,t=null==ke?void 0:ke.slice((Le-1)*ve,(Le-1)*ve+ve);return null==t?void 0:t.map((function(t){var n=++e,r="",a="",o=[];if(Me)o=t.messages;else{var i=t.messages.find((function(e){return"user"===e.role}));i&&(r=i.content);var l=t.messages.find((function(e){return"assistant"===e.role}));l&&(a=l.content)}return{row:n,messages:React.createElement(ze,{entries:ke,messages:o,currentRow:n,onUpdateDataRow:nt,onDeleteDataRow:tt}),question:React.createElement(Fn,{data:r,onChange:function(e){return nt(n,"user",e)}},r),answer:React.createElement(Fn,{data:a,onChange:function(e){return nt(n,"assistant",e)}},a),actions:React.createElement(React.Fragment,null,Me&&React.createElement(E._,{rounded:!0,icon:"plus",onClick:function(){return bt(n)}}),React.createElement(E._,{rounded:!0,icon:"trash",onClick:function(){return e=n,t=ke.filter((function(t,n){return n!==e-1})),je(t),void(0===t.length&&et({context:Ge,entries:[]}));var e,t}}))}}))}),[ke,Le,ve,Me,nt,tt]),at=function(){var e=On(Rn().mark((function e(t){var n;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/openai/files/delete"),{method:"POST",nonce:A,json:{fileId:t}});case 4:if(!(n=e.sent).success){e.next=10;break}return e.next=8,We();case 8:e.next=11;break;case 10:alert(n.message);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 17:v(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=On(Rn().mark((function e(t){var n;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/openai/finetunes/cancel"),{method:"POST",nonce:A,json:{finetuneId:t}});case 4:(n=e.sent).success?Qe():alert(n.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=On(Rn().mark((function e(t){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(Ve.ALERTS.DELETE_FINETUNE)){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,o([].concat(bn(fe),[t]),"openai_finetunes_deleted");case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=On(Rn().mark((function e(t){var n;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(Ve.ALERTS.DELETE_FINETUNE)){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,(0,R.PV)("".concat(T,"/openai/finetunes/delete"),{method:"POST",nonce:A,json:{modelId:t}});case 6:if(!(n=e.sent).success){e.next=12;break}return e.next=10,o([].concat(bn(fe),[t]),"openai_finetunes_deleted");case 10:e.next=19;break;case 12:if(!(n.message.indexOf("does not exist")>-1)){e.next=18;break}return alert(Ve.ALERTS.FINETUNE_ALREADY_DELETED),e.next=16,o([].concat(bn(fe),[t]),"openai_finetunes_deleted");case 16:e.next=19;break;case 18:alert(n.message);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 25:v(!1);case 26:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=On(Rn().mark((function e(t,n){var r,a,o,i;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,console.log({fileId:t,filename:n}),e.next=5,(0,R.PV)("".concat(T,"/openai/files/download"),{method:"POST",nonce:A,json:{fileId:t}});case 5:(r=e.sent).success?(console.log(r),a=new Blob([r.data],{type:"text/plain"}),o=window.URL.createObjectURL(a),(i=document.createElement("a")).setAttribute("href",o),i.setAttribute("download","".concat(n)),document.body.appendChild(i),i.click(),i.remove()):alert(r.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 13:v(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),st=Ln((function(){return null==se?void 0:se.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t=e.id,n=e.filename,r=new Date(1e3*e.created_at),a="fine-tune"===e.purpose;return{status:React.createElement(Dn,{status:e.status,includeText:!0}),id:t,filename:n,purpose:e.purpose,filesize:(0,R.td)(e.bytes),createdOn:React.createElement(React.Fragment,null,r.toLocaleDateString(),React.createElement("br",null),r.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,React.createElement(E._,{disabled:!a,icon:"wand",onClick:function(){return d(t)}},"Train Model"),React.createElement(E._,{rounded:!0,icon:"arrow-down",onClick:function(){return ut(t,n)}}),React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return at(t)}}))}}))}),[se]),ft=function(e){return fe.includes(e.model)||fe.includes(e.id)},mt=function(e){return"failed"===e.status||"cancelled"===e.status},dt=function(e){return!mt(e)&&!ft(e)},pt=Ln((function(){if(!he)return[];var e=he;return"current"===F?e=e.filter(dt):"deleted"===F?e=e.filter(ft):"failed"===F&&(e=e.filter(mt)),e.map((function(e){var t=new Date(e.createdOn);return wn(wn({},e),{},{status:React.createElement(Dn,{status:e.status,includeText:!0}),createdOn:React.createElement(React.Fragment,null,t.toLocaleDateString(),React.createElement("br",null),t.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,"succeeded"===e.status&&React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return lt(e.model)}}),"cancelled"===e.status&&React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return it(e.id)}}),"failed"===e.status&&React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return it(e.id)}}),"pending"===e.status&&React.createElement(E._,{className:"danger",rounded:!0,icon:"close",onClick:function(){return ot(e.id)}}))})}))}),[F,fe,he]),ht=ce||y,yt=function(){var e=On(Rn().mark((function e(){var t,n;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,t=ke.map((function(e){return JSON.stringify(e)})).join("\n"),console.log(t),e.next=6,(0,R.PV)("".concat(T,"/openai/files/upload"),{method:"POST",nonce:A,json:{filename:He,data:t}});case 6:return n=e.sent,e.next=9,We();case 9:n.success?(Je(!1),alert(Ve.ALERTS.DATASET_UPLOADED),w("files"),C(!0)):alert(n.message),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 16:v(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),vt=Ln((function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),o=e.getMinutes(),i=e.getSeconds(),l=P(k);return"".concat(null==l?void 0:l.family,":ft-your-org:").concat(U,"-").concat(t,"-").concat(n<10?"0"+n:n,"-").concat(r<10?"0"+r:r,"-").concat(a<10?"0"+a:a,"-").concat(o<10?"0"+o:o,"-").concat(i<10?"0"+i:i)}),[U,k]),gt=function(){var e=On(Rn().mark((function e(t){var n,r;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rn().mark((function e(){var n,a,o,i,l,c;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r],a=new FileReader,o=n.name.endsWith(".json"),i=n.name.endsWith(".jsonl"),l=n.name.endsWith(".csv"),c=!1,o||i||l){e.next=10;break}return alert(Ve.ALERTS.ONLY_SUPPORTS_FILES),console.log(n),e.abrupt("return",1);case 10:a.onload=function(){var e=On(Rn().mark((function e(t){var n,r,a,u;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.result,r=[],o?r=JSON.parse(n):i?(a=n.split("\n"),r=a.map((function(e){e=e.trim();try{return JSON.parse(e)}catch(t){return console.log(t,e),null}})),r.every((function(e){return e.messages}))||(c=!0)):l&&(u=Dt().parse(n,{header:!0,skipEmptyLines:!0}),r=u.data,console.log("The CSV was loaded!",r),c=!0),c&&(r=r.map((function(e){var t=Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{});c=!0;var n=["prompt","question","q"].find((function(e){return t[e]})),r=["completion","reply","a"].find((function(e){return t[e]})),a=t[n],o=t[r],i=null==o?void 0:o.replace(/\n\n$/g,""),l=null==a?void 0:a.replace(/\n\n###\n\n$/g,"");return a&&o?{messages:[{role:"system",content:Ge},{role:"user",content:l.trim()},{role:"assistant",content:i.trim()}]}:null}))),(r=r.filter((function(e){return e}))).every((function(e){return null==e?void 0:e.messages}))){e.next=9;break}return alert(Ve.ALERTS.ONLY_SUPPORTS_FILES),e.abrupt("return");case 9:je(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(n);case 12:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r<t.length)){e.next=9;break}return e.delegateYield(n(),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:r++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Hello!",r=ke.map((function(r,a){return a===e-1?wn(wn({},r),{},{messages:[].concat(bn(r.messages),[{role:t,content:n}])}):r}));je(r)},Et=An(null),wt=null==he?void 0:he.filter(dt).length,Rt=null==he?void 0:he.filter(mt).length,xt=null==he?void 0:he.filter(ft).length;return React.createElement(React.Fragment,null,React.createElement(xe.H,{style:{margin:"10px 10px 25px 10px"},contentStyle:{padding:10}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Ft.Q,{style:{marginRight:10},onLabel:Ve.FINETUNING.DATASET_EDITOR,offLabel:Ve.FINETUNING.MODELS_DATASETS,width:165,onBackgroundColor:l.purple,offBackgroundColor:l.green,onChange:function(e){C(!e)},checked:!_}),_&&React.createElement(Gt.h,{value:b,busy:ht,onChange:function(e){w(e)}},React.createElement(Gt.S,{title:Ve.COMMON.MODELS,value:"finetunes",count:null!==(t=null==pt?void 0:pt.length)&&void 0!==t?t:"-"}),React.createElement(Gt.S,{title:Ve.COMMON.DATASETS,value:"files",count:null!==(n=null==st?void 0:st.length)&&void 0!==n?n:"-"})),_&&"finetunes"===b&&React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{disabled:y,busy:"finetunes"===y,onClick:Qe,className:"primary"},"Refresh Models")),_&&"files"===b&&React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{disabled:y,onClick:Xe,className:"primary"},"Refresh Datasets")),!_&&React.createElement("div",{style:{display:"flex",alignItems:"center",flex:"auto"}},React.createElement(Gt.h,{value:O,onChange:function(e){S(e)}},React.createElement(Gt.S,{title:Ve.FINETUNING.ENTRIES_EDITOR,value:"editor",count:null!==(r=null==ke?void 0:ke.length)&&void 0!==r?r:null}),React.createElement(Gt.S,{title:Ve.FINETUNING.ENTRIES_GENERATOR,value:"generator"})),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("label",{style:{marginRight:10}},"Filename:"),React.createElement(Ee.A,{disabled:!Ze||y,value:Ze?He:"",onChange:Ye,style:{width:220,marginRight:5}}),React.createElement(E._,{disabled:!Ze||y,icon:"upload",onClick:yt,className:"primary"},"Upload to OpenAI"))))),React.createElement(xe.H,{style:{margin:10}},_&&"finetunes"===b&&React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("div",null,(0,R.io)(Ve.FINETUNING.MODELS_INTRO)),React.createElement(Gt.h,{value:F,onChange:function(e){G(e)}},React.createElement(Gt.S,{title:"Current",value:"current",count:null!=wt?wt:"-"}),React.createElement(Gt.S,{title:"Failed",value:"failed",count:null!=Rt?Rt:"-"}),React.createElement(Gt.S,{title:"Deleted",value:"deleted",count:null!=xt?xt:"-"}))),React.createElement(Oe.i,null),React.createElement(Bt.a,{busy:ht,data:pt,columns:Mn,emptyMessage:Ve.FINETUNING.NO_FINETUNES_YET}),React.createElement("div",{style:{marginTop:5,display:"flex",justifyContent:"end",lineHeight:"12px",alignItems:"center"}},React.createElement(E._,{small:!0,disabled:y,busy:"clean"===y,onClick:Ke,className:"primary"},Ve.FINETUNING.CLEAN_MODELS_LIST),React.createElement("small",{style:{marginLeft:5}},Ve.FINETUNING.DELETED_FINETUNE_ISSUE))),_&&"files"===b&&React.createElement(React.Fragment,null,React.createElement("p",null,(0,R.io)(Ve.FINETUNING.DATASETS_INTRO)),React.createElement(Bt.a,{busy:ht,data:st,columns:Pn,emptyMessage:React.createElement(React.Fragment,null,"You do not have any dataset files yet.")})),!_&&"generator"===O&&React.createElement(React.Fragment,null,React.createElement(vn,{options:a,setMessages:je})),!_&&"editor"===O&&React.createElement(React.Fragment,null,!be&&React.createElement("p",{style:{color:Ut.ZP.red}},Ve.FINETUNING.HUGE_DATASET_WARNING),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{icon:"plus",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Question?",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Answer.";je([].concat(bn(ke),[{messages:[{role:"system",content:Ge},{role:"user",content:e},{role:"assistant",content:t}]}]))}()}},"Add Entry"),React.createElement(Ft.Q,{style:{marginLeft:10},onLabel:"Expert",offLabel:"Easy",width:90,onBackgroundColor:l.purple,offBackgroundColor:l.green,onChange:De,checked:Me}),React.createElement("div",{style:{flex:"auto"}}),React.createElement(Ht.b,{ref:Et,onSelectFiles:gt,accept:"",style:{paddingLeft:5}},React.createElement(E._,{className:"secondary",onClick:function(){return Et.current.click()}},"Import")))),!_&&React.createElement(React.Fragment,null,React.createElement(Oe.i,null),React.createElement(Bt.a,{busy:y,data:rt,columns:Me?jn:kn,emptyMessage:React.createElement(React.Fragment,null,"You can import a file, or create manually each entry by clicking ",React.createElement("b",null,"Add"),".")}),React.createElement(Oe.i,null),!Me&&"editor"===O&&React.createElement(React.Fragment,null,React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.CONTEXT,":"),React.createElement(Te.l,{id:"context",name:"context",rows:2,description:Ve.FINETUNING.CONTEXT_DESCRIPTION,value:Ge,onBlur:$e,onEnter:$e})),React.createElement(Oe.i,null)),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{disabled:!Ze,onClick:Je,className:"danger"},"Reset Entries"),React.createElement("div",{style:{flex:"auto"}}),React.createElement(Vt.Q,{currentPage:Le,limit:ve,total:Ze,onCurrentPageChanged:Ae,onClick:Ae}),React.createElement(E._,{disabled:!Ze,style:{marginLeft:5},onClick:function(){var e=JSON.stringify(ke,null,2),t=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n;var a=new Date,o="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate(),"-WP.json");r.download=o,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},"Export as JSON")),React.createElement(Oe.i,{height:40,line:!0,style:{marginBottom:0}}),"generator"===O&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},"Use this feature with caution. The AI will generate questions and answers for each of your post based on the given prompt, and they will be added to your dataset. Keep in mind that this process may be ",React.createElement("u",null,"extremely slow")," and require a ",React.createElement("u",null,"significant number of API calls"),", resulting in a costs (the tokens count is displayed next to the progress bar). Also, please note that for now, for some reason, the model doesn't seem to provide as many questions as we ask (contrary to ChatGPT)."),"editor"===O&&React.createElement(React.Fragment,null,React.createElement("p",null,"You can create your dataset by importing a file (two columns, in the CSV, JSON or JSONL format) or manually by clicking ",React.createElement("b",null,"Add Entry"),". To avoid losing your work, this data is kept in your browser's local storage. ",React.createElement("b",null,"This is actually complex, so learn how to write datasets by studying ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/conditional-generation",target:"_blank",rel:"noreferrer"},"case studies"),". Please also check my ",React.createElement("a",{href:"https://meowapps.com/wordpress-chatbot-finetuned-model-ai/",target:"_blank",rel:"noreferrer"},"simplified tutorial"),".")," Is your dataset ready? Modify the filename to your liking and click ",React.createElement("b",null,"Upload to OpenAI"),"! 😎"))),React.createElement(_e.L,{isOpen:de,title:"Error",onRequestClose:function(){return pe()},okButton:{label:"Ok",onClick:function(){return pe()}},content:React.createElement(React.Fragment,null,React.createElement("p",null,null==de?void 0:de.message))}),React.createElement(_e.L,{isOpen:m,title:"Train a new model",onRequestClose:function(){return d()},okButton:{label:"Start",disabled:y,onClick:qe},cancelButton:{label:"Close",disabled:y,onClick:function(){return d()}},content:React.createElement(React.Fragment,null,React.createElement("p",null,"Exciting! 🎵 You are about to create your own new model, based on your dataset. You simply need to select a base model, and optionally, to modify the ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/hyperparameters",target:"_blank",rel:"noreferrer"},"hyperparameters"),". Before starting the process, make sure that:"),React.createElement("ul",null,React.createElement("li",null,"✅ The dataset is well-defined."),React.createElement("li",null,"✅ You understand ",React.createElement("a",{href:"https://openai.com/api/pricing/#faq-fine-tuning-pricing-calculation",target:"_blank",rel:"noreferrer"},"OpenAI pricing")," about fine-tuning.")),React.createElement("label",null,"Base model:"),React.createElement(Oe.i,{height:5}),React.createElement(we.N,{value:k,scrolldown:!0,onChange:j},ye.map((function(e){return React.createElement(we.Z,{value:e.model,label:e.name})}))),React.createElement(Oe.i,{height:5}),React.createElement("small",null,"For now, the hyperparameters can't be modified - they are set automatically by OpenAI."),React.createElement(Oe.i,{height:10}),React.createElement("label",null,"Suffix (for new model name):"),React.createElement(Oe.i,{height:5}),React.createElement(Ee.A,{value:U,onChange:H}),React.createElement(Oe.i,{height:5}),React.createElement("small",null,"The name of the new model name will be decided by OpenAI. You can customize it a bit with this ",React.createElement("a",{href:"https://beta.openai.com/docs/api-reference/fine-tunes/list#fine-tunes/create-suffix",target:"_blank",rel:"noreferrer"},"prefix"),". Preview: ",React.createElement("b",null,vt),"."),React.createElement(Oe.i,{line:!0,height:20}),React.createElement(h.P,{label:"Enable HyperParams",checked:Y,onChange:Z}),Y&&React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},React.createElement("label",{style:{marginRight:5}},"Number of Epochs:"),React.createElement(Ee.A,{style:{marginRight:5},value:W,onChange:X,type:"number"}),React.createElement("label",{style:{marginRight:5}},"Batch Size:"),React.createElement(Ee.A,{value:Q,onChange:K,type:"number"})),React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},React.createElement("label",{style:{marginRight:5}},"Learning Rate Multiplier:"),React.createElement(Ee.A,{style:{marginRight:5},value:$,onChange:ee,type:"number"}),React.createElement("label",{style:{marginRight:5}},"Prompt Loss Weight:"),React.createElement(Ee.A,{value:ne,onChange:re,type:"number"}))))})))};function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function Un(e){return function(e){if(Array.isArray(e))return qn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Bn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Bn(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(){Yn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Bn(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Bn(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Zn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function zn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zn(o,r,a,i,l,"next",e)}function l(e){Zn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Xn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){if(e){if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(e,t):void 0}}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qn=wp.element,Kn=Qn.useState,Jn=Qn.useMemo,$n=Qn.useRef,er=Qn.useEffect,tr=[{accessor:"row",title:"#",width:15,verticalAlign:"top"},{accessor:"prompt",title:"Prompt",width:"42%",verticalAlign:"top"},{accessor:"completion",title:"Completion",width:"42%",verticalAlign:"top"},{accessor:"actions",title:"",width:55,align:"center"}],nr=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"filename",title:"File"},{accessor:"purpose",title:"Purpose"},{accessor:"filesize",title:"Size",sortable:!0},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"190px"}],rr=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"suffix",title:"Suffix"},{accessor:"model",title:"Model"},{accessor:"base_model",title:"Based On",width:"200px"},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:""}],ar="\n\n###\n\n",or="\n\n",ir=function(e){var t=e.status,n=e.includeText,r=void 0!==n&&n,a=(0,s.r)().colors,o=a.orange,i=a.green,l=a.red,c=null;switch(t){case"pending":case"running":c=React.createElement(Re.J,{title:t,icon:"replay",spinning:!0,width:24,color:o});break;case"succeeded":case"processed":c=React.createElement(Re.J,{title:t,icon:"check-circle",width:24,color:i});break;case"failed":c=React.createElement(Re.J,{title:t,icon:"close",width:24,color:l});break;case"cancelled":c=React.createElement(Re.J,{title:t,icon:"close",width:24,color:o});break;default:c=React.createElement(Re.J,{title:t,icon:"alert",width:24,color:o})}return r?React.createElement("div",{style:{display:"flex",alignItems:"center"}},c,React.createElement("span",{style:{textTransform:"uppercase",fontSize:9,marginLeft:3}},t)):c},lr=function(e){var t=e.children,n=e.data,r=e.onChange,a=void 0===r?function(){}:r,o=Wn(Kn(!1),2),i=o[0],l=o[1],c=function(e){l(!1),e!==n&&a(e)};return i?React.createElement("div",{onKeyUp:function(e){"Escape"===e.key&&c(n)},style:{height:"100%",display:"flex",flexDirection:"column"}},React.createElement(Te.l,{onBlurForce:!0,autoFocus:!0,fullHeight:!0,rows:3,style:{height:"100%"},onEnter:c,onBlur:c,value:n}),React.createElement(E._,{onClick:c,fullWidth:!0,style:{marginTop:5,height:35}},"Save")):React.createElement("pre",{style:{width:"100%",height:"100%",whiteSpace:"break-spaces",margin:0,padding:0,fontSize:13,fontFamily:"inherit"},onClick:function(){return l(!0)}},t)};const cr=function(e){var t,n,r,a=e.options,o=e.updateOption,i=e.refreshOptions,l=(0,s.r)().colors,c=(0,u.NL)(),f=Wn(Kn(),2),m=f[0],d=f[1],p=Wn(Kn(!1),2),y=p[0],v=p[1],g=Wn(Kn("finetunes"),2),b=g[0],w=g[1],x=Wn(Kn("editor"),2),O=x[0],S=x[1],N=Wn(Kn(!0),2),_=N[0],C=N[1],L=ct(a),I=L.models,k=L.model,j=L.setModel,P=L.getModel,M=L.isFineTunedModel,D=Wn(Kn("current"),2),F=D[0],G=D[1],B=Wn(Kn("meow"),2),U=B[0],H=B[1],V=Wn(Kn(!1),2),Y=V[0],Z=V[1],z=Wn(Kn(4),2),W=z[0],X=z[1],q=Wn(Kn(null),2),Q=q[0],K=q[1],J=Wn(Kn(!1),2),$=J[0],ee=J[1],te=(0,Ce.a)({queryKey:["datasets"],enabled:$,queryFn:$t}),ne=te.isFetching,re=te.error,ae=te.data,oe=(null==a?void 0:a.openai_legacy_finetunes_deleted)||[],ie=Wn(Kn(!1),2),le=ie[0],ce=ie[1],ue=(null==a?void 0:a.openai_legacy_finetunes)||[],se=Jn((function(){return I.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes("legacy-finetune")}))}),[I]);er((function(){"files"!==b||$||ee(!0)}),[b]),er((function(){re&&!le&&ce(re)}),[re]);var fe=10,me=Wn(Kn(!0),2),de=me[0],pe=me[1],he=Wn(Kn(1),2),ye=he[0],ve=he[1],ge=Wn(Kn([]),2),be=ge[0],Re=ge[1],Se=Wn(Kn(""),2),Te=Se[0],Le=Se[1],Ae=Jn((function(){return be.length}),[be]),Ie=function(){var e=zn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.invalidateQueries("datasets");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=zn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,Ie();case 3:v(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=zn(Yn().mark((function e(){var t,n,r,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m,n=U,r=P(k),v(!0),a=M(k),e.next=7,(0,R.PV)("".concat(T,"/openai/files/finetune"),{method:"POST",nonce:A,json:{fileId:t,model:a?r.model:r.family,suffix:n,nEpochs:W,batchSize:Q}});case 7:(o=e.sent).success?(Pe(),alert(Ve.ALERTS.FINETUNING_STARTED),w("finetunes"),d()):alert(o.message),v(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=zn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v("finetunes"),ue.length){e.next=6;break}return e.next=4,en(!0);case 4:e.next=8;break;case 6:return e.next=8,tn(!0);case 8:return e.next=10,i();case 10:v(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=zn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("clean"),e.next=3,en(!0);case 3:return e.next=5,i();case 5:v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&!confirm(Ve.ALERTS.RESET_BUILDER)||(Re([]),Ge([]))},Fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=be.map((function(r,a){return a===e-1?Vn(Vn({},r),{},n?{completion:t}:{prompt:t}):r}));Re(r)};er((function(){if(!be||0===be.length){var e=localStorage.getItem("mwai_builder_data");e&&Re(JSON.parse(e))}}),[]);var Ge=function(e){!function(){var e=new Date,t=e.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});t=t.replace(/\//g,"."),t+="-"+e.getHours().toString().padStart(2,"0")+"."+e.getMinutes().toString().padStart(2,"0"),Le("MEOW-".concat(t,".jsonl"))}();try{e?localStorage.setItem("mwai_builder_data",JSON.stringify(e)):localStorage.removeItem("mwai_builder_data"),pe(!0)}catch(e){localStorage.removeItem("mwai_builder_data"),pe(!1)}};er((function(){be&&be.length>0&&Ge(be)}),[be]);var Be=Jn((function(){var e=(ye-1)*fe,t=null==be?void 0:be.slice((ye-1)*fe,(ye-1)*fe+fe);return null==t?void 0:t.map((function(t){var n,r,a=++e,o=null==t||null===(n=t.prompt)||void 0===n?void 0:n.toString().endsWith(ar),i=null==t||null===(r=t.completion)||void 0===r?void 0:r.toString().endsWith(or);return{row:a,validPrompt:o?"✅":"❌",prompt:React.createElement(lr,{data:t.prompt,onChange:function(e){return Fe(a,e)}},o?t.prompt.substring(0,t.prompt.length-7):t.prompt),validCompletion:i?"✅":"❌",completion:React.createElement(lr,{data:t.completion,onChange:function(e){return Fe(a,e,!0)}},i?t.completion.substring(0,t.completion.length-2):t.completion),actions:React.createElement(E._,{rounded:!0,icon:"trash",onClick:function(){return function(e){var t=be.filter((function(t,n){return n!==e-1}));Re(t),0===t.length&&Ge([])}(a)}})}}))}),[be,ye,fe]),Ue=function(){var e=zn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/openai/files/delete"),{method:"POST",nonce:A,json:{fileId:t}});case 4:if(!(n=e.sent).success){e.next=10;break}return e.next=8,Ie();case 8:e.next=11;break;case 10:alert(n.message);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 17:v(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=zn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/openai/finetunes/cancel"),{method:"POST",nonce:A,json:{finetuneId:t}});case 4:(n=e.sent).success?Pe():alert(n.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=zn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(Ve.ALERTS.DELETE_FINETUNE)){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,o([].concat(Un(oe),[t]),"openai_finetunes_deleted");case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=zn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(Ve.ALERTS.DELETE_FINETUNE)){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,(0,R.PV)("".concat(T,"/openai/finetunes/delete"),{method:"POST",nonce:A,json:{modelId:t}});case 6:if(!(n=e.sent).success){e.next=12;break}return e.next=10,o([].concat(Un(oe),[t]),"openai_finetunes_deleted");case 10:e.next=19;break;case 12:if(!(n.message.indexOf("does not exist")>-1)){e.next=18;break}return alert(Ve.ALERTS.FINETUNE_ALREADY_DELETED),e.next=16,o([].concat(Un(oe),[t]),"openai_finetunes_deleted");case 16:e.next=19;break;case 18:alert(n.message);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 25:v(!1);case 26:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=zn(Yn().mark((function e(t,n){var r,a,o,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,console.log({fileId:t,filename:n}),e.next=5,(0,R.PV)("".concat(T,"/openai/files/download"),{method:"POST",nonce:A,json:{fileId:t}});case 5:(r=e.sent).success?(console.log(r),a=new Blob([r.data],{type:"text/plain"}),o=window.URL.createObjectURL(a),(i=document.createElement("a")).setAttribute("href",o),i.setAttribute("download","".concat(n)),document.body.appendChild(i),i.click(),i.remove()):alert(r.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 13:v(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),We=Jn((function(){return null==ae?void 0:ae.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t=e.id,n=e.filename,r=new Date(1e3*e.created_at),a="fine-tune"===e.purpose;return{status:React.createElement(ir,{status:e.status,includeText:!0}),id:t,filename:n,purpose:e.purpose,filesize:(0,R.td)(e.bytes),createdOn:React.createElement(React.Fragment,null,r.toLocaleDateString(),React.createElement("br",null),r.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,React.createElement(E._,{disabled:!a,icon:"wand",onClick:function(){return d(t)}},"Train Model"),React.createElement(E._,{rounded:!0,icon:"arrow-down",onClick:function(){return ze(t,n)}}),React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return Ue(t)}}))}}))}),[ae]),Xe=function(e){return oe.includes(e.model)||oe.includes(e.id)},qe=function(e){return"failed"===e.status||"cancelled"===e.status},Qe=function(e){return!qe(e)&&!Xe(e)},Ke=Jn((function(){if(!ue)return[];var e=ue;return"current"===F?e=e.filter(Qe):"deleted"===F?e=e.filter(Xe):"failed"===F&&(e=e.filter(qe)),e.map((function(e){var t=new Date(e.createdOn);return Vn(Vn({},e),{},{status:React.createElement(ir,{status:e.status,includeText:!0}),createdOn:React.createElement(React.Fragment,null,t.toLocaleDateString(),React.createElement("br",null),t.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,"succeeded"===e.status&&React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return Ze(e.model)}}),"cancelled"===e.status&&React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return Ye(e.id)}}),"failed"===e.status&&React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return Ye(e.id)}}),"pending"===e.status&&React.createElement(E._,{className:"danger",rounded:!0,icon:"close",onClick:function(){return He(e.id)}}))})}))}),[F,oe,ue]),Je=ne||y,$e=function(){var e=zn(Yn().mark((function e(){var t,n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,t=be.map((function(e){return JSON.stringify(e)})).join("\n"),console.log(t),e.next=6,(0,R.PV)("".concat(T,"/openai/files/upload"),{method:"POST",nonce:A,json:{filename:Te,data:t}});case 6:return n=e.sent,e.next=9,Ie();case 9:n.success?(De(!1),alert(Ve.ALERTS.DATASET_UPLOADED),w("files"),C(!0)):alert(n.message),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert(Ve.ALERTS.CHECK_CONSOLE);case 16:v(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),et=Jn((function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),o=e.getMinutes(),i=e.getSeconds(),l=P(k);return"".concat(null==l?void 0:l.family,":ft-your-org:").concat(U,"-").concat(t,"-").concat(n<10?"0"+n:n,"-").concat(r<10?"0"+r:r,"-").concat(a<10?"0"+a:a,"-").concat(o<10?"0"+o:o,"-").concat(i<10?"0"+i:i)}),[U,k]),tt=function(){var e=zn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Yn().mark((function e(){var n,a,o,i,l;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r],a=new FileReader,o=n.name.endsWith(".json"),i=n.name.endsWith(".jsonl"),l=n.name.endsWith(".csv"),o||i||l){e.next=9;break}return alert(Ve.ALERTS.ONLY_SUPPORTS_FILES),console.log(n),e.abrupt("return",1);case 9:a.onload=function(){var e=zn(Yn().mark((function e(t){var n,r,a,c,u,s,f;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,r=[],o?r=JSON.parse(n):i?(a=n.split("\n"),r=a.map((function(e){e=e.trim();try{return JSON.parse(e)}catch(t){return console.log(t,e),null}}))):l&&(c=Dt().parse(n,{header:!0,skipEmptyLines:!0}),r=c.data,console.log("The CSV was loaded.",r)),u=r.map((function(e){var t=Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{}),n=["prompt","question","q"].find((function(e){return t[e]})),r=["completion","reply","a"].find((function(e){return t[e]}));return{prompt:t[n],completion:t[r]}})),s=u.filter((function(e){return e.prompt&&e.completion})),u.length!==s.length&&(alert(Ve.ALERTS.EMPTY_LINES_DATASET),f=u.find((function(e){return!e.prompt||!e.completion})),console.log("Empty line: ",f)),Re(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(n);case 11:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r<t.length)){e.next=9;break}return e.delegateYield(n(),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:r++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=$n(null),rt=null==ue?void 0:ue.filter(Qe).length,at=null==ue?void 0:ue.filter(qe).length,ot=null==ue?void 0:ue.filter(Xe).length;return React.createElement(React.Fragment,null,React.createElement(xe.H,{style:{margin:"10px 10px 25px 10px"},contentStyle:{padding:10}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Ft.Q,{style:{marginRight:10},onLabel:Ve.FINETUNING.MODEL_FINETUNE,offLabel:Ve.FINETUNING.DATASET_BUILDER,width:165,onBackgroundColor:l.purple,offBackgroundColor:l.green,onChange:C,checked:_}),_&&React.createElement(Gt.h,{value:b,busy:Je,onChange:function(e){w(e)}},React.createElement(Gt.S,{title:Ve.COMMON.MODELS,value:"finetunes",count:null!==(t=null==Ke?void 0:Ke.length)&&void 0!==t?t:"-"}),React.createElement(Gt.S,{title:Ve.COMMON.DATASETS,value:"files",count:null!==(n=null==We?void 0:We.length)&&void 0!==n?n:"-"})),_&&"finetunes"===b&&React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{disabled:y,busy:"finetunes"===y,onClick:Pe,className:"primary"},"Refresh Models")),_&&"files"===b&&React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{disabled:y,onClick:ke,className:"primary"},"Refresh Datasets")),!_&&React.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%"}},React.createElement(Gt.h,{value:O,onChange:function(e){S(e)}},React.createElement(Gt.S,{title:Ve.FINETUNING.ENTRIES_EDITOR,value:"editor",count:null!==(r=null==be?void 0:be.length)&&void 0!==r?r:null}),React.createElement(Gt.S,{title:Ve.FINETUNING.ENTRIES_GENERATOR,value:"generator"})),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("label",{style:{marginRight:10}},"Filename:"),React.createElement(Ee.A,{disabled:!Ae||y,value:Ae?Te:"",onChange:Le,style:{width:210,marginRight:5}}),React.createElement(E._,{disabled:!Ae||y,icon:"upload",onClick:$e,className:"primary"},"Upload to OpenAI"))))),React.createElement(xe.H,{style:{margin:10}},_&&"finetunes"===b&&React.createElement(React.Fragment,null,React.createElement(Ne.S,{variant:"danger"},(0,R.io)(Ve.FINETUNING.LEGACY_MODELS_INTRO)),React.createElement(Oe.i,null),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement(Gt.h,{value:F,onChange:function(e){G(e)}},React.createElement(Gt.S,{title:"Current",value:"current",count:null!=rt?rt:"-"}),React.createElement(Gt.S,{title:"Failed",value:"failed",count:null!=at?at:"-"}),React.createElement(Gt.S,{title:"Deleted",value:"deleted",count:null!=ot?ot:"-"}))),React.createElement(Oe.i,null),React.createElement(Bt.a,{busy:Je,data:Ke,columns:rr,emptyMessage:Ve.FINETUNING.NO_FINETUNES_YET}),React.createElement("div",{style:{marginTop:5,display:"flex",justifyContent:"end",lineHeight:"12px",alignItems:"center"}},React.createElement(E._,{small:!0,disabled:y,busy:"clean"===y,onClick:Me,className:"primary"},Ve.FINETUNING.CLEAN_MODELS_LIST),React.createElement("small",{style:{marginLeft:5}},Ve.FINETUNING.DELETED_FINETUNE_ISSUE))),_&&"files"===b&&React.createElement(React.Fragment,null,React.createElement("p",null,(0,R.io)(Ve.FINETUNING.DATASETS_INTRO)),React.createElement(Bt.a,{busy:Je,data:We,columns:nr,emptyMessage:React.createElement(React.Fragment,null,"You do not have any dataset files yet.")})),!_&&"generator"===O&&React.createElement(React.Fragment,null,React.createElement(vn,{setBuilderData:Re})),!_&&"editor"===O&&React.createElement(React.Fragment,null,!de&&React.createElement("p",{style:{color:Ut.ZP.red}},Ve.FINETUNING.HUGE_DATASET_WARNING),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{icon:"plus",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Text...\n\n###\n\n",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Text...\n\n";console.log(e,t),Re([].concat(Un(be),[{prompt:e,completion:t}]))}()}},"Add Entry"),React.createElement(E._,{disabled:!Ae,className:"secondary",onClick:function(){var e=be.map((function(e){var t=e.prompt,n=e.completion;return t.endsWith(ar)||(t=t.trim(),t+=ar),n.endsWith(or)||(n=n.trim(),n+=or),{prompt:t,completion:n}}));Re(e)}},"Format with Defaults"),React.createElement(Ht.b,{ref:nt,onSelectFiles:tt,accept:"",style:{paddingLeft:5}},React.createElement(E._,{className:"secondary",onClick:function(){return nt.current.click()}},"Import File")),React.createElement(E._,{disabled:!Ae,className:"secondary",style:{marginLeft:5},onClick:function(){var e=Dt().unparse(be),t=new Blob([e],{type:"text/csv"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n;var a=new Date,o="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate(),"-WP.csv");r.download=o,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},"Export as CSV"),React.createElement(E._,{disabled:!Ae,onClick:De,className:"danger"},"Reset Entries"),React.createElement("div",{style:{flex:"auto"}}),React.createElement(Vt.Q,{currentPage:ye,limit:fe,total:Ae,onCurrentPageChanged:ve,onClick:ve}))),!_&&React.createElement(React.Fragment,null,React.createElement(Oe.i,{height:20}),React.createElement(Bt.a,{busy:y,data:Be,columns:tr,emptyMessage:React.createElement(React.Fragment,null,"You can import a file, or create manually each entry by clicking ",React.createElement("b",null,"Add Entry"),".")}),React.createElement(Oe.i,{height:20}),React.createElement("div",{style:{display:"flex",justifyContent:"end"}},React.createElement(Vt.Q,{currentPage:ye,limit:fe,total:Ae,onCurrentPageChanged:ve,onClick:ve})),React.createElement(Oe.i,{height:40,line:!0,style:{marginBottom:0}}),"generator"===O&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},"Use this feature with caution. The AI will generate questions and answers for each of your post based on the given prompt, and they will be added to your dataset. Keep in mind that this process may be ",React.createElement("u",null,"extremely slow")," and require a ",React.createElement("u",null,"significant number of API calls"),", resulting in a costs (the tokens count is displayed next to the progress bar). Also, please note that for now, for some reason, the model doesn't seem to provide as many questions as we ask (contrary to ChatGPT)."),"editor"===O&&React.createElement(React.Fragment,null,React.createElement("p",null,"You can create your dataset by importing a file (two columns, in the CSV, JSON or JSONL format) or manually by clicking ",React.createElement("b",null,"Add Entry"),". To avoid losing your work, this data is kept in your browser's local storage. ",React.createElement("b",null,"This is actually complex, so learn how to write datasets by studying ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/conditional-generation",target:"_blank",rel:"noreferrer"},"case studies"),". Please also check my ",React.createElement("a",{href:"https://meowapps.com/wordpress-chatbot-finetuned-model-ai/",target:"_blank",rel:"noreferrer"},"simplified tutorial"),".")," Is your dataset ready? Modify the filename to your liking and click ",React.createElement("b",null,"Upload to OpenAI")," 😎 Some extra notes for you:"),React.createElement("ul",null,React.createElement("li",null,"• The prompt and the completion should both end with their own special endings. By default, it is ",React.createElement("b",null,"\\n\\n===\\n\\n")," for the prompt, and ",React.createElement("b",null,"\\n\\n")," for the completion. The icon ✅ will be shown next to the prompt and/or completion when this format has been validated, and the ending will be hidden for clarity. I refer to this format (and models trained on it) by the term of ",React.createElement("b",null,"Casually Fine Tuned"),"."),React.createElement("li",null,"• ",React.createElement("b",null,"\\n")," is a line break. You can add line breaks by using ",React.createElement("b",null,"SHIFT+ENTER")," while editing."),React.createElement("li",null," • The ",React.createElement("b",null,"Format with Defaults")," button will add the ",React.createElement("i",null,"Casually Fine Tuned")," endings format to the prompt and completion, if they are missing."),React.createElement("li",null,"• If you need the chatbot to work with a ",React.createElement("b",null,"Casually Fined Tuned")," model, you can add ",React.createElement("i",null,'casually_fine_tuned="true"'),"  in the shortcode.")))),React.createElement(_e.L,{isOpen:le,title:"Error",onRequestClose:function(){return ce()},content:React.createElement(React.Fragment,null,React.createElement("p",null,null==le?void 0:le.message)),okButton:{label:"Ok",onClick:function(){return ce()}}}),React.createElement(_e.L,{isOpen:m,title:"Train a new model",onRequestClose:function(){return d()},onCancelClick:function(){return d()},content:React.createElement(React.Fragment,null,React.createElement("p",null,"Exciting! 🎵 You are about to create your own new model, based on your dataset. You simply need to select a base model, and optionally, to modify the ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/hyperparameters",target:"_blank",rel:"noreferrer"},"hyperparameters"),". Before starting the process, make sure that:"),React.createElement("ul",null,React.createElement("li",null,"✅ The dataset is well-defined."),React.createElement("li",null,"✅ You understand ",React.createElement("a",{href:"https://openai.com/api/pricing/#faq-fine-tuning-pricing-calculation",target:"_blank",rel:"noreferrer"},"OpenAI pricing")," about fine-tuning.")),React.createElement("label",null,"Base model:"),React.createElement(Oe.i,{height:5}),React.createElement(we.N,{value:k,scrolldown:!0,onChange:j},se.map((function(e){return React.createElement(we.Z,{value:e.model,label:e.name})}))),React.createElement(Oe.i,{height:5}),React.createElement("small",null,"For now, the hyperparameters can't be modified - they are set automatically by OpenAI."),React.createElement(Oe.i,{height:10}),React.createElement("label",null,"Suffix (for new model name):"),React.createElement(Oe.i,{height:5}),React.createElement(Ee.A,{value:U,onChange:H}),React.createElement(Oe.i,{height:5}),React.createElement("small",null,"The name of the new model name will be decided by OpenAI. You can customize it a bit with this ",React.createElement("a",{href:"https://beta.openai.com/docs/api-reference/fine-tunes/list#fine-tunes/create-suffix",target:"_blank",rel:"noreferrer"},"prefix"),". Preview: ",React.createElement("b",null,et),"."),React.createElement(Oe.i,{line:!0,height:20}),React.createElement(h.P,{label:"Enable HyperParams",checked:Y,onChange:Z}),Y&&React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},React.createElement("label",{style:{marginRight:5}},"Number of Epochs:"),React.createElement(Ee.A,{style:{marginRight:5},value:W,onChange:X,type:"number"}),React.createElement("label",{style:{marginRight:5}},"Batch Size:"),React.createElement(Ee.A,{value:Q,onChange:K,type:"number"})))),okButton:{label:"Start",disabled:y,onClick:je}})))};var ur;wp.element.useMemo;var sr,fr,mr=F.ZP.div(ur||(sr=["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-height: 290px;\n  overflow: auto;\n  box-sizing: border-box;\n  padding: 15px;\n\n  h3 {\n    margin-top: 20px;\n    padding-bottom: 5px;\n    font-size: 14px;\n    border-bottom: 1px solid black;\n  }\n\n  .description {\n    border-radius: 5px;\n\n    p {\n      small {\n        color: var(--neko-blue);\n        font-size: 12px;\n      }\n    }\n\n    p:first-child {\n      margin-top: 0;\n    }\n\n    p:last-child {\n      margin-bottom: 0;\n    }\n  }\n"],fr||(fr=sr.slice(0)),ur=Object.freeze(Object.defineProperties(sr,{raw:{value:Object.freeze(fr)}}))));const dr=function(e){var t,n,r=e.incidents,a=e.isLoading,o=(t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),((t-n)/36e5).toFixed(0));return React.createElement(mr,null,React.createElement(m.O,null,"Only the incidents which occured ",React.createElement("b",null,"less than a week ago")," are displayed. The time difference between the PST time used by OpenAI and your local time is ",o," hours."),!a&&null==r&&React.createElement("p",null,React.createElement("i",null,"Could not load the incidents.")),!a&&0===(null==r?void 0:r.length)&&React.createElement("p",null,React.createElement("i",null,"Currently no incidents.")),r&&r.map((function(e){return React.createElement("div",{key:e.guid},React.createElement("h3",null,e.date,": ",e.title),React.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.description}}))})))};var pr,hr,yr;function vr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var gr,br=F.ZP.div(pr||(pr=vr(["\n  background: white;\n  padding: 15px;\n  border-radius: 5px;\n\n  h2 {\n    margin-bottom: 8px;\n  }\n  \n  h2:first-child, h3:first-child {\n    margin-top: 0;\n  }\n\n  label {\n    display: block;\n    margin-bottom: 5px;\n  }\n\n  label {\n    margin-top: 10px;\n  }\n\n  ul {\n    margin: 20px 0 0 0;\n  }\n\n  li {\n    margin-bottom: 5px;\n    border: 1px solid #e5e5e5;\n    padding: 8px;\n    background: #f5f5f5;\n    border-radius: 5px;\n    cursor: pointer;\n    position: relative;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n\n    &.active {\n      background: #007cba;\n      color: white;\n      border-color: #007cba;\n\n      &.modified {\n        background: #ff8c00;\n        border-color: #ff8c00;\n      }\n    }\n  }\n\n  .information {\n    color: #a3a3a3;\n    margin-top: 5px;\n    font-size: 12px;\n    line-height: 100%;\n  }\n"]))),Er=(0,F.ZP)(Ee.A)(hr||(hr=vr(["\n  flex: auto !important;\n\n  input {\n    height: 50px !important;\n    font-size: 13px !important;\n    font-family: monospace !important;\n    padding: 20px !important;\n    border-color: #333d4e !important;\n    background: #333d4e !important;\n    color: white !important;\n  }\n"]))),wr=F.ZP.div(yr||(yr=vr(["\n  display: flex;\n  flex-direction: column;\n\n  label {\n    margin-bottom: 3px;\n  }\n\n  .mwai-builder-row {\n    margin-top: 10px;\n    display: flex;\n    flex-direction: row;\n\n    .neko-color-picker {\n      margin-left: 5px;\n    }\n  }\n\n  .mwai-builder-col {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    margin-right: 5px;\n  }\n\n  .mwai-builder-col:last-child {\n    margin-right: 0;\n  }\n\n  pre {\n    white-space: pre-wrap;\n    background: #d4f0ff;\n    color: #037cba;\n    padding: 10px;\n    font-size: 13px;\n    font-weight: bold;\n    margin: 10px 0 10px 0;\n  }\n\n  .neko-spacer {\n    margin-bottom: 0 !important;\n  }\n\n  .neko-input {\n  }\n\n  .nui-select-option {\n  }\n\n\n"]))),Rr=n(5651);function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Or(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sr=wp.element,Tr=Sr.useState,Nr=Sr.useEffect,_r=Sr.useRef,Cr=Sr.useCallback,Lr=F.ZP.div(gr||(gr=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n\n  .swatch {\n    width: 24px;\n    height: 24px;\n    border: 3px solid #fff;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n    cursor: pointer;\n  }\n  \n  .popover {\n    position: absolute;\n    top: -210px;\n    left: -80px;\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n    z-index: 9999;\n    border-radius: 8px;\n  }\n"]))),Ar=function(e){var t=e.name,n=e.value,r=e.onChange,a=_r(),o=xr(Tr(!1),2),i=o[0],l=o[1],c=xr(Tr(n),2),u=c[0],s=c[1];Nr((function(){s(n)}),[n]);var f,m,d=Cr((function(){u!==n&&r(u,t),l(!1)}),[u,n]);return Nr((function(){var e=!1,t=!1,n=function(n){!e&&t&&f.current&&!f.current.contains(n.target)&&m(n)},r=function(n){t=f.current,e=f.current&&f.current.contains(n.target)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),document.addEventListener("click",n),function(){document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r),document.removeEventListener("click",n)}}),[f=a,m=d]),React.createElement(Lr,{className:"neko-color-picker"},React.createElement("div",{className:"swatch",style:{backgroundColor:u},onClick:function(){return l(!0)}}),i&&React.createElement("div",{className:"popover",ref:a,style:{background:"white"}},React.createElement(Rr.gW,{color:u,onChange:s}),React.createElement("div",{style:{display:"flex",padding:5}},React.createElement(E._,{style:{flex:1},onClick:function(){return r(u,t)}},"Apply"))))};function Ir(e){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(e)}function kr(){kr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Ir(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ir(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function jr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dr=wp.element,Fr=Dr.useState;Dr.useEffect,Dr.useMemo;const Gr=function(e){var t=e.options,n=e.updateOption,r=e.busy,a=Pr(Fr("I would love to live on a tropical island with beautiful and sexy felines, where we could bask in the sun on the sandy beaches, sip on refreshing coconut milk, and enjoy each other's company. While we might occasionally fight in the trees, our days would mostly be spent in peaceful slumber. However, I am not sure of how we would handle any potential disruptions to our idyllic existence if human were to come..."),2),o=a[0],i=a[1],l=Pr(Fr([]),2),c=l[0],u=l[1],s=Pr(Fr(""),2),f=(s[0],s[1]),m=Pr(Fr(!1),2),p=m[0],y=m[1],v=null==t?void 0:t.shortcode_chat_moderation,b=p||r,x=function(){var e,t=(e=kr().mark((function e(){var t,n;return kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,(0,R.PV)("".concat(T,"/ai/moderate"),{method:"POST",nonce:A,json:{text:o}});case 3:(t=e.sent).success?(n=t.results,u(null==n?void 0:n.results)):f(t.message),y(!1);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jr(o,r,a,i,l,"next",e)}function l(e){jr(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),O=React.createElement(d.r,{title:Ve.COMMON.CHATBOT},React.createElement(h.P,{name:"shortcode_chat_moderation",label:Ve.COMMON.ENABLE,value:"1",checked:v,description:Ve.SETTINGS.CHATBOT_MODERATION_HELP,onChange:n}));return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:b,title:Ve.COMMON.SETTINGS,className:"primary"},React.createElement("p",null,"You can enable moderation various parts of WordPress. It will slow down the processing a little."),O)),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:b,title:"AI Moderation Tester",className:"primary"},React.createElement("p",null,"Paste a text below, and check if it is safe for your website. ",React.createElement("b",null,"OpenAI Moderation Model is free!")," Learn more about it ",React.createElement("a",{href:"https://platform.openai.com/docs/guides/moderation/overview",target:"_blank"},"here"),"."),React.createElement(Te.l,{name:"context",rows:8,value:o,onChange:i}),React.createElement(Oe.i,null),React.createElement(E._,{fullWidth:!0,onClick:x},"Moderation Check"),React.createElement(Oe.i,null),React.createElement("label",null,"Results:"),React.createElement("pre",null,JSON.stringify(c,null,2))))))};function Br(e){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(e)}function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Br(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Br(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vr(){Vr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Br(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Br(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Yr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Zr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Yr(o,r,a,i,l,"next",e)}function l(e){Yr(o,r,a,i,l,"throw",e)}i(void 0)}))}}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wr=wp.element,Xr=Wr.useState,qr=Wr.useEffect,Qr=Wr.useMemo;const Kr=function(e){var t,n,r=e.modal,a=e.busy,o=e.setModal,i=e.onAddEmbedding,l=e.onModifyEmbedding,c=(t=Xr(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1],f=a;qr((function(){"edit"!==(null==r?void 0:r.type)&&"add"!==(null==r?void 0:r.type)||s((null==r?void 0:r.data)||{})}),[r]);var m=Qr((function(){var e,t,n,a,o;return null==r||!r.data||(null==r||null===(e=r.data)||void 0===e?void 0:e.title)!==(null==u?void 0:u.title)||(null==r||null===(t=r.data)||void 0===t?void 0:t.content)!==(null==u?void 0:u.content)||(null==r||null===(n=r.data)||void 0===n?void 0:n.behavior)!==(null==u?void 0:u.behavior)||(null==r||null===(a=r.data)||void 0===a?void 0:a.type)!==(null==u?void 0:u.type)||(null==r||null===(o=r.data)||void 0===o?void 0:o.refId)!==(null==u?void 0:u.refId)})),d=function(){var e=Zr(Vr().mark((function e(){return Vr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(u);case 3:o(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Zr(Vr().mark((function e(){return Vr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(u);case 3:o(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(_e.L,{isOpen:"edit"===(null==r?void 0:r.type)||"add"===(null==r?void 0:r.type),title:"edit"===(null==r?void 0:r.type)?Ve.COMMON.MODIFY_EMBEDDING:Ve.COMMON.ADD_EMBEDDING,okButton:{label:"edit"===(null==r?void 0:r.type)?Ve.COMMON.MODIFY_EMBEDDING:Ve.COMMON.ADD_EMBEDDING,disabled:!m||a,isBusy:"addEmbedding"===a,onClick:function(){"edit"===r.type?d():p()}},cancelButton:{disabled:a,onClick:function(){return o(null)}},onRequestClose:function(){return o(null)},content:React.createElement(React.Fragment,null,React.createElement("p",null,"A custom embedding can be a sentence, a paragraph or a whole article. When an user input is made, the AI will search for the best embedding that matches the user input and will be able to reply with more accuracy."),React.createElement(Oe.i,null),React.createElement("label",null,"Title:"),React.createElement(Oe.i,{tiny:!0}),React.createElement(Ee.A,{value:null==u?void 0:u.title,placeholder:'Title, like "My Website Information"',description:"This is for your convenience only, it's not used anywhere.",onChange:function(e){return s(Hr(Hr({},u),{},{title:e}))}}),React.createElement(Oe.i,null),React.createElement("label",null,"Content:"),React.createElement(Oe.i,{tiny:!0}),React.createElement(Te.l,{countable:"chars",maxLength:64e3,description:"The content of your embeddings that will be used by the AI if it matches the user input.",value:null==u?void 0:u.content,onChange:function(e){return s(Hr(Hr({},u),{},{content:e}))}}),React.createElement(Oe.i,null),React.createElement("label",null,"Behavior:"),React.createElement(Oe.i,{tiny:!0}),React.createElement(we.N,{scrolldown:!0,name:"behavior",disabled:f||!0,value:null==u?void 0:u.behavior,onChange:function(e){s(Hr(Hr({},u),{},{behavior:e}))}},React.createElement(we.Z,{value:"context",label:"Context"}),React.createElement(we.Z,{value:"reply",label:"Reply"})),React.createElement(Oe.i,null),React.createElement("label",null,"Type:"),React.createElement(Oe.i,{tiny:!0}),React.createElement(we.N,{scrolldown:!0,name:"type",disabled:f||!0,value:null==u?void 0:u.type,onChange:function(e){s(Hr(Hr({},u),{},{type:e}))}},React.createElement(we.Z,{value:"manual",label:"Manual"}),React.createElement(we.Z,{value:"post",label:"Post (Whole)"}),React.createElement(we.Z,{value:"post-fragment",label:"Post (Fragment)"})),("post"===(null==u?void 0:u.type)||"post-fragment"===(null==u?void 0:u.type))&&React.createElement(React.Fragment,null,React.createElement(Oe.i,null),React.createElement("label",null,"Post ID:"),React.createElement(Oe.i,null),React.createElement(Ee.A,{value:null==u?void 0:u.refId,onChange:function(e){return s(Hr(Hr({},u),{},{refId:e}))}})))}))};function Jr(e){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(e)}function $r(){$r=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Jr(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Jr(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ea(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ta(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ea(o,r,a,i,l,"next",e)}function l(e){ea(o,r,a,i,l,"throw",e)}i(void 0)}))}}function na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ra(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aa=wp.element.useState;function oa(e,t){var n=new Blob([e],{type:"text/plain;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}const ia=function(e){var t=e.modal,n=e.setModal,r=na(aa(!1),2),a=r[0],o=r[1],i=na(aa(0),2),l=i[0],c=i[1],u=na(aa(0),2),s=u[0],f=u[1],m=null==t?void 0:t.data,d=function(){var e=ta($r().mark((function e(){var t,n,r,a,i,l;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,h();case 4:t=e.sent,n=JSON.stringify(t,null,2),r=new Date,a=r.getFullYear(),i=r.getMonth()+1,l=r.getDate(),oa(n,"vectors-".concat(a,"-").concat(i,"-").concat(l,".json")),setTimeout((function(){c(0)}),1e3),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),alert("An error occured while exporting vectors. Check your console.");case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=ta($r().mark((function e(){var t,n,r,a,i,l;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,h();case 4:t=e.sent,n=Dt().unparse(t),r=new Date,a=r.getFullYear(),i=r.getMonth()+1,l=r.getDate(),oa(n,"vectors-".concat(a,"-").concat(i,"-").concat(l,".csv")),setTimeout((function(){c(0)}),1e3),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),alert("An error occured while exporting vectors. Check your console.");case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=ta($r().mark((function e(){var t,n,r,a;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,n={page:1,limit:20,filters:{envId:m.envId,dbIndex:m.dbIndex,dbNS:m.dbNS}},r=[],a=$r().mark((function e(){var a;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft(n);case 2:(a=e.sent).vectors.length<2&&(t=!0),c((function(){return a.total})),r=r.concat(a.vectors),f((function(){return r.length})),n.page++;case 8:case"end":return e.stop()}}),e)}));case 4:if(t){e.next=8;break}return e.delegateYield(a(),"t0",6);case 6:e.next=4;break;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(_e.L,{isOpen:"export"===(null==t?void 0:t.type),title:"Export Embeddings",onRequestClose:function(){return n(null)},okButton:{label:"Close",disabled:"addEmbedding"===a,onClick:function(){return n(null)}},customButtons:React.createElement(React.Fragment,null,React.createElement(E._,{onClick:p,disabled:a},"Export CSV"),React.createElement(E._,{onClick:d,disabled:a},"Export JSON")),content:React.createElement(React.Fragment,null,React.createElement(Yt.U,{busy:a,style:{flex:"auto"},value:s,max:l}))}))};function la(e){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}function ca(){ca=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==la(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(la(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==la(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==la(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===la(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ha(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function ma(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function da(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ma(o,r,a,i,l,"next",e)}function l(e){ma(o,r,a,i,l,"throw",e)}i(void 0)}))}}function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||ha(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t){if(e){if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ya(e,t):void 0}}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var va=wp.element.useState;const ga=function(e){var t,n,r=e.modal,a=e.setModal,o=e.onAddEmbedding,i=e.onModifyEmbedding,l=pa(va(!1),2),c=l[0],u=l[1],s=pa(va(0),2),f=s[0],m=s[1],d=pa(va(0),2),p=d[0],y=d[1],v=pa(va({add:[],modify:[],same:[],total:0,isReady:!1}),2),g=v[0],b=v[1],w=null!==(t=null==r||null===(n=r.data)||void 0===n?void 0:n.importVectors)&&void 0!==t?t:[],R=pa(va({envId:!1,dbId:!1,dbIndex:!1,dbNS:!1,title:!0,refId:!0}),2),x=R[0],O=R[1],S=null==r?void 0:r.data,T=function(e){var t,n,r,a,o,i,l,c,u,s;return{id:null!==(t=e.id)&&void 0!==t?t:null,type:null!==(n=e.type)&&void 0!==n?n:"manual",title:null!==(r=e.title)&&void 0!==r?r:"N/A",behavior:null!==(a=e.behavior)&&void 0!==a?a:"context",envId:null!==(o=null==S?void 0:S.envId)&&void 0!==o?o:null,dbId:null!==(i=e.dbId)&&void 0!==i?i:null,dbIndex:null!==(l=S.dbIndex)&&void 0!==l?l:null,dbNS:null!==(c=S.dbNS)&&void 0!==c?c:null,content:null!==(u=e.content)&&void 0!==u?u:"",refId:null!==(s=e.refId)&&void 0!==s?s:null}},N=function(e,t,n){return Object.keys(n).every((function(r){return!n[r]||e[r]===t[r]}))},_=function(){var e=da(ca().mark((function e(t,n){var r,a,o,i,l,c,u;return ca().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=[],o=[],console.log("Calculate Diff",{currentVectors:t,importVectors:n}),i=fa(n),e.prev=5,c=ca().mark((function e(){var n,i,c,u;return ca().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.value,i=T(n),c=t.find((function(e){return N(e,i,x)})),console.log("Matched Vector",{cleanVector:sa({},i),matchedVector:sa({},c)}),c?i.id=c.id:delete i.id,(u=t.find((function(e){return e.id===i.id})))&&i.content===u.content&&i.title===u.title?o.push(i):i.id?a.push(i):r.push(i);case 7:case"end":return e.stop()}}),e)})),i.s();case 8:if((l=i.n()).done){e.next=12;break}return e.delegateYield(c(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),i.e(e.t1);case 17:return e.prev=17,i.f(),e.finish(17);case 20:u=r.length+a.length,b({add:r,modify:a,same:o,total:u,isReady:!0}),console.log("Embeddings Diff",{add:r,modify:a,same:o,total:u});case 23:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=da(ca().mark((function e(){var t,n,r,a;return ca().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=!1,n={page:1,limit:20,filters:{envId:S.envId,dbIndex:S.dbIndex,dbNS:S.dbNS}},r=[],u("stepOne"),a=ca().mark((function e(){var a;return ca().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft(n);case 2:(a=e.sent).vectors.length<2&&(t=!0),m((function(){return a.total})),r=r.concat(a.vectors),y((function(){return r.length})),n.page++;case 8:case"end":return e.stop()}}),e)}));case 6:if(t){e.next=10;break}return e.delegateYield(a(),"t0",8);case 8:e.next=6;break;case 10:_(r,w),e.next=17;break;case 13:e.prev=13,e.t1=e.catch(0),console.error(e.t1),alert("An error occured while retrieving your current embeddings. Check your console.");case 17:return e.prev=17,u(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=da(ca().mark((function e(){var t,n,r,a,l,c;return ca().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,m(g.add.length+g.modify.length),y(0),u("stepTwo"),t=fa(g.add),e.prev=5,t.s();case 7:if((n=t.n()).done){e.next=14;break}return r=n.value,e.next=11,o(r,!0);case 11:y((function(e){return e+1}));case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),t.e(e.t0);case 19:return e.prev=19,t.f(),e.finish(19);case 22:a=fa(g.modify),e.prev=23,a.s();case 25:if((l=a.n()).done){e.next=32;break}return c=l.value,e.next=29,i(c,!0);case 29:y((function(e){return e+1}));case 30:e.next=25;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(23),a.e(e.t1);case 37:return e.prev=37,a.f(),e.finish(37);case 40:alert("All embeddings have been updated."),b({add:[],modify:[],same:[],total:0,isReady:!1}),A(),e.next=49;break;case 45:e.prev=45,e.t2=e.catch(0),console.error(e.t2),alert("An error occured while updating embeddings. Check your console.");case 49:return e.prev=49,u(!1),e.finish(49);case 52:case"end":return e.stop()}}),e,null,[[0,45,49,52],[5,16,19,22],[23,34,37,40]])})));return function(){return e.apply(this,arguments)}}(),A=function(){a(null),u(!1),m(0),y(0),b({add:[],modify:[],same:[],total:0,isReady:!1})};return React.createElement(React.Fragment,null,React.createElement(_e.L,{isOpen:"import"===(null==r?void 0:r.type),title:"Import Embeddings",onRequestClose:A,okButton:{label:"Close",onClick:A,disabled:c},customButtons:React.createElement(React.Fragment,null,React.createElement(E._,{onClick:C,disabled:c},"Check Differences"),React.createElement(E._,{onClick:L,disabled:c||0===g.total},"Apply Changes")),content:React.createElement(React.Fragment,null,React.createElement("p",null,"There are ",React.createElement("b",null,w.length," embeddings")," in the file."),React.createElement(Oe.i,null),React.createElement(Se.L,{title:"1 - Check Differences"}),React.createElement("p",null,"Calculates the differences between the embeddings in your file and the ones currently registered in AI Engine. Based on that, a list of changes will be created. Please note that the environment, index and namespace that might be set in the file will be ignored."),React.createElement("p",{style:{marginTop:10}},"An embedding will be considered the same entry based on:"),React.createElement(Oe.i,null),React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{marginLeft:15}},React.createElement(h.P,{small:!0,label:"DB ID",disabled:!1,checked:x.dbId,onChange:function(){return O(sa(sa({},x),{},{dbId:!x.dbId}))}})),React.createElement("div",{style:{marginLeft:15}},React.createElement(h.P,{small:!0,label:"Title",disabled:!1,checked:x.title,onChange:function(){return O(sa(sa({},x),{},{title:!x.title}))}})),React.createElement("div",{style:{marginLeft:15}},React.createElement(h.P,{small:!0,label:"Ref (Post ID)",disabled:!1,checked:x.refId,onChange:function(){return O(sa(sa({},x),{},{refId:!x.refId}))}}))),"stepOne"===c&&React.createElement(React.Fragment,null,React.createElement(Oe.i,null),React.createElement(Yt.U,{busy:c,style:{flex:"auto"},value:p,max:f})),React.createElement(Oe.i,null),React.createElement(Se.L,{title:"2 - Apply Changes"}),!g.isReady&&React.createElement("i",null,"Waiting for diff..."),g.isReady&&React.createElement(React.Fragment,null,React.createElement("p",null,"There are ",g.same.length>=1&&React.createElement("span",null,React.createElement("b",null,g.same.length," identical embeddings")," (with the same title and content). They will be ignored. "),React.createElement("span",null,"Changes to apply:")),React.createElement("ul",null,React.createElement("li",null,"👉 Add: ",React.createElement("b",null,g.add.length)),React.createElement("li",null,"👉 Modify: ",React.createElement("b",null,g.modify.length)))),"stepTwo"===c&&React.createElement(React.Fragment,null,React.createElement(Oe.i,null),React.createElement(Yt.U,{busy:c,style:{flex:"auto"},value:p,max:f})),React.createElement(Oe.i,null))}))};function ba(e){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(e)}var Ea,wa;function Ra(e){return function(e){if(Array.isArray(e))return La(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ca(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(){xa=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==ba(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ba(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==ba(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ba(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ta(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Na(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ta(o,r,a,i,l,"next",e)}function l(e){Ta(o,r,a,i,l,"throw",e)}i(void 0)}))}}function _a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Ca(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ca(e,t){if(e){if("string"==typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Aa=wp.element,Ia=Aa.useState,ka=Aa.useMemo,ja=Aa.useEffect,Pa=Aa.useRef,Ma=[{accessor:"status",title:"Status",width:"80px"},{accessor:"title",title:"Title",sortable:!1},{accessor:"type",title:"Ref",sortable:!1,width:"60px"},{accessor:"score",title:"Score",sortable:!0,width:"65px"},{accessor:"updated",title:"Updated",sortable:!1,width:"80px"},{accessor:"actions",title:"",width:"100px"}],Da=[{accessor:"status",title:"Status",sortable:!0,width:"80px"},{accessor:"title",title:"Title",sortable:!1},{accessor:"type",title:"Ref",sortable:!0,width:"60px"},{accessor:"updated",title:"Updated",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"100px"}],Fa=function(e){var t=e.id,n=e.status,r=e.includeText,a=void 0!==r&&r,o=e.title,i=void 0===o?null:o,l=(0,s.r)().colors,c=null;switch(n){case"outdated":default:c=React.createElement(Re.J,{title:i||n,icon:"alert",width:24,color:l.orange});break;case"ok":c=React.createElement(Re.J,{title:t||n,icon:"check-circle",width:24,color:l.green});break;case"error":c=React.createElement(Re.J,{title:i||n,icon:"alert",width:24,color:l.red})}return a?React.createElement("div",{style:{display:"flex",alignItems:"center"},title:i||n},c,React.createElement("span",{style:{textTransform:"uppercase",fontSize:9,marginLeft:3}},n)):c},Ga=function(e){var t={environmentId:e.environmentId||null,index:e.index||null,namespace:e.namespace||null};localStorage.setItem("mwai-admin-embeddings",JSON.stringify(t))},Ba=function(){var e=localStorage.getItem("mwai-admin-embeddings");try{return JSON.parse(e)}catch(e){return{}}}(),Ua=null!==(Ea=null==Ba?void 0:Ba.environmentId)&&void 0!==Ea?Ea:null,Ha=null!==(wa=null==Ba?void 0:Ba.namespace)&&void 0!==wa?wa:null;const Va=function(e){var t,n,r,a=e.options,o=e.updateEnvironment,i=e.updateOption,l=(0,u.NL)(),c=(0,s.r)().colors,f=_a(Ia("post"),2),m=f[0],d=f[1],p=_a(Ia(!1),2),y=p[0],v=p[1],x=_a(Ia("edit"),2),O=x[0],S=x[1],N=_a(Ia(null),2),_=N[0],C=N[1],L=_a(Ia(!1),2),I=L[0],j=L[1],P=_a(Ia(!1),2),M=P[0],D=P[1],F=_a(Ia([]),2),G=F[0],B=F[1],U=_a(Ia({type:null,data:null}),2),H=U[0],V=U[1],Y=a.embeddings||{},Z=(null==Y?void 0:Y.minScore)>0?Y.minScore:75,z=(null==Y?void 0:Y.maxSelect)>0?Y.maxSelect:1,W=Pa(null),X=ct(a),q=_a(Ia(),2),Q=q[0],K=q[1],J=null!==(t=null==Q?void 0:Q.model)&&void 0!==t?t:"gpt-3.5-turbo",$=null!==(n=null==Q?void 0:Q.maxTokens)&&void 0!==n?n:2048,ee=a.embeddings_envs||[],te=_a(Ia(Ua),2),ne=te[0],re=te[1],ae=_a(Ia(Ha),2),oe=ae[0],ie=ae[1],le=ka((function(){var e=ee.find((function(e){return e.id===ne}))||null;return Ga({environmentId:ne,index:null==e?void 0:e.index,namespace:oe}),e}),[ee,ne]),ce=ka((function(){return(null==le?void 0:le.indexes)||[]}),[le]),ue=ka((function(){return(null==le?void 0:le.namespaces)||[]}),[le]);ja((function(){var e=X.getModel(a.assistants_model);K(e)}),[a.assistants_model]);var se=ka((function(){var e,t=ce.find((function(e){return(null==e?void 0:e.name)===(null==le?void 0:le.index)}))||null;return{index:null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"",indexIsReady:!(null==t||!t.ready)}}),[le,ce]),fe=se.index,me=se.indexIsReady,de=(0,Ce.a)({queryKey:["postTypes"],queryFn:Qt}),pe=de.isLoading,he=de.data,ye=(0,Ce.a)({queryKey:[null!==(r="postsCount-"+m+"-"+(null==Y?void 0:Y.syncPostStatus))&&void 0!==r?r:"publish"],queryFn:function(){var e;return mt(m,null!==(e=null==Y?void 0:Y.syncPostStatus)&&void 0!==e?e:"publish")}}),ve=ye.isLoading,ge=ye.data,be=_a(Ia({filters:{envId:ne,dbIndex:fe,dbNS:oe,search:_},sort:{accessor:"created",by:"desc"},page:1,limit:20}),2),Re=be[0],Se=be[1],Le=(0,Ce.a)({queryKey:["vectors",Re],queryFn:function(){return ft(Re)},keepPreviousData:!0}),Ae=Le.isFetching,Ie=Le.data,ke=Ae||"searchVectors"===y,je="search"===O?Ma:Da,Pe=(0,Zt.qj)({i18n:Ve,onStop:function(){v(),Pe.reset()}}),Me=y||ke||Pe.isBusy||pe,De=function(){var e=Na(xa().mark((function e(t){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("updateSettings"),e.next=3,i(Sa({},t),"embeddings");case 3:v(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=ka((function(){var e,t=null!==(e=Y.syncPostsEnv)&&void 0!==e?e:{};return t.envId!==ne||t.dbIndex!==fe||t.dbNS!==oe})),Ge=ka((function(){var e,t,n=null!==(e=Y.syncPostsEnv)&&void 0!==e?e:{},r=ee.find((function(e){return e.id===n.envId}))||null;return null!==(t=null==r?void 0:r.name)&&void 0!==t?t:null}));ja((function(){"gcp-starter"!==(null==le?void 0:le.server)&&null!=le&&le.index||!oe?(Se(Sa(Sa({},Re),{},{filters:{envId:ne,dbIndex:null!=fe?fe:"",dbNS:null!=oe?oe:null,search:_}})),Ga({environmentId:ne,index:fe,namespace:oe})):ie(null)}),[fe,oe]),ja((function(){var e="edit"===O?null:"";C("edit"===O?null:""),Se(Sa(Sa({},Re),{},{filters:Sa(Sa({},Re.filters),{},{search:e}),sort:{accessor:"edit"===O?"created":"score",by:"desc"},page:1,limit:20}))}),[O]),ja((function(){var e,t;null!=Y&&null!==(e=Y.syncPostTypes)&&void 0!==e&&e.length&&null!=Y&&null!==(t=Y.syncPostStatus)&&void 0!==t&&t.length||De(Sa(Sa({},Y),{},{syncPostTypes:["post","page","product"],syncPostStatus:["publish"]}))}),[Y.syncPostTypes]);var Be=function(){var e=Na(xa().mark((function e(){var t;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("addIndex"),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/indexes/add"),{nonce:A,method:"POST",json:{envId:le.id,name:M.name,podType:M.podType}});case 4:return t=e.sent,e.next=7,o(le.id,{indexes:t.indexes});case 7:D(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),alert(e.t0.message);case 14:v(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Na(xa().mark((function e(t){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(le.id,{index:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Na(xa().mark((function e(){var t;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm('Are you sure you want to delete the index "'.concat(fe,'"? All the related embeddings will be deleted as well.'))){e.next=2;break}return e.abrupt("return");case 2:return v("deleteIndex"),e.prev=3,e.next=6,(0,R.PV)("".concat(T,"/indexes/delete"),{nonce:A,method:"POST",json:{envId:le.id,name:fe}});case 6:return t=e.sent,e.next=9,o(le.id,{index:null,indexes:t.indexes});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),alert(e.t0.message);case 15:v(!1);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Na(xa().mark((function e(){var t;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("refreshIndexes"),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/indexes/list"),{nonce:A,method:"POST",json:{envId:le.id}});case 4:return t=e.sent,e.next=7,o(le.id,{indexes:t.indexes});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),alert(e.t0.message);case 13:v(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Na(xa().mark((function e(){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_!==Re.filters.search){e.next=3;break}return l.invalidateQueries({queryKey:["vectors"]}),e.abrupt("return");case 3:Se(Sa(Sa({},Re),{},{filters:Sa(Sa({},Re.filters),{},{search:_})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Na(xa().mark((function e(){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(""),Se(Sa(Sa({},Re),{},{filters:Sa(Sa({},Re.filters),{},{search:""})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Na(xa().mark((function e(){var t,n,r,a,o=arguments;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:I,(n=o.length>1&&void 0!==o[1]&&o[1])||v("addEmbedding"),e.prev=3,(r=Sa({},t)).envId||(r.envId=le.id),r.dbIndex||(r.dbIndex=fe),r.dbNS||(r.dbNS=oe),e.next=10,(0,R.PV)("".concat(T,"/vectors/add"),{nonce:A,method:"POST",json:{vector:r}});case 10:j(!1),console.log("Embedding Added",t),l.invalidateQueries({queryKey:["vectors"]}),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(3),console.error(e.t0),new Error(null!==(a=e.t0.message)&&void 0!==a?a:"Unknown error, check your console logs.");case 19:return e.prev=19,n||v(!1),e.finish(19);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,null,[[3,15,19,22]])})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Na(xa().mark((function e(){var t,n,r,a,o=arguments;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:I,(n=o.length>1?o[1]:void 0)||v("addEmbedding"),e.prev=3,(r=Sa({},t)).envId||(r.envId=le.id),r.dbIndex||(r.dbIndex=fe),r.dbNS||(r.dbNS=oe),e.next=10,(0,R.PV)("".concat(T,"/vectors/update"),{nonce:A,method:"POST",json:{vector:r}});case 10:j(!1),console.log("Embeddings updated.",t),l.invalidateQueries({queryKey:["vectors"]}),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(3),console.error(e.t0),new Error(null!==(a=e.t0.message)&&void 0!==a?a:"Unknown error, check your console logs.");case 19:return e.prev=19,n||v(!1),e.finish(19);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,null,[[3,15,19,22]])})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Na(xa().mark((function e(t){var n,r,a,o=arguments;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=o.length>1&&void 0!==o[1]&&o[1])||v("getEmbedding"),e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/vectors/ref"),{nonce:A,method:"POST",json:{refId:t,dbId:le.id,dbIndex:fe,dbNS:oe}});case 5:return r=e.sent,n||v(!1),e.abrupt("return",r.vectors);case 10:throw e.prev=10,e.t0=e.catch(2),console.error(e.t0),new Error(null!==(a=e.t0.message)&&void 0!==a?a:"Unknown error, check your console logs.");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Na(xa().mark((function e(t,n){var r;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||v("deleteEmbedding"),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/vectors/delete"),{nonce:A,method:"POST",json:{envId:le.id,index:fe,ids:t}});case 4:e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(1),console.error(e.t0),confirm("Got an error from the vector database:\n\n".concat(e.t0.message,"\n\nDo you want to force the deletion locally?"))){e.next=11;break}throw new Error(null!==(r=e.t0.message)&&void 0!==r?r:"Unknown error, check your console logs.");case 11:return e.next=13,(0,R.PV)("".concat(T,"/vectors/delete"),{nonce:A,method:"POST",json:{envId:le.id,index:fe,ids:t,force:!0}});case 13:return e.prev=13,n||v(!1),e.finish(13);case 16:console.log("Embeddings deleted.",{ids:t}),l.invalidateQueries({queryKey:["vectors"]}),"search"===O&&console.error("We should update the vectors data with the deleted embeddings.");case 19:case"end":return e.stop()}}),e,null,[[1,6,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),Ke=function(){var e=Na(xa().mark((function e(t){var n,r;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xa().mark((function e(){var n,a,o,i,l;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r],a=new FileReader,o=n.name.endsWith(".json"),i=n.name.endsWith(".jsonl"),l=n.name.endsWith(".csv"),o||i||l){e.next=8;break}return alert(Ve.ALERTS.ONLY_SUPPORTS_FILES),e.abrupt("return",1);case 8:a.onload=function(){var e=Na(xa().mark((function e(t){var n,r,a,c,u,s,f;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,r=[],o?r=JSON.parse(n):i?(a=n.split("\n"),r=a.map((function(e){e=e.trim();try{return JSON.parse(e)}catch(e){return console.error(e),null}}))):l&&(c=Dt().parse(n,{header:!0,skipEmptyLines:!0}),r=c.data,console.log("The CSV for Embeddings Import was loaded.",r)),s=(u=r).filter((function(e){return e.title&&e.content})),u.length!==s.length&&(alert(Ve.ALERTS.EMPTY_LINES_EMBEDDINGS),f=u.find((function(e){return!e.prompt||!e.completion})),console.warn("Empty line: ",f)),V({type:"import",data:{importVectors:s,envId:ne,dbIndex:fe,dbNS:oe}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(n);case 10:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r<t.length)){e.next=9;break}return e.delegateYield(n(),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:r++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Na(xa().mark((function e(){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete the selected embeddings?")){e.next=2;break}return e.abrupt("return");case 2:return v("deleteEmbeddings"),e.next=5,Qe(G);case 5:B([]),v(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Na(xa().mark((function e(t){var n,r,a,o,i,l,c=arguments;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"english",r=c.length>2?c[2]:void 0,Y.rewriteContent){e.next=4;break}return e.abrupt("return",t.content);case 4:return a=(a=(a=(a=(a=(a=Y.rewritePrompt.replace("{CONTENT}",t.content)).replace("{TITLE}",t.title)).replace("{URL}",t.url)).replace("{EXCERPT}",t.excerpt)).replace("{ID}",t.postId)).replace("{LANGUAGE}",n),o=null,e.prev=11,e.next=14,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",json:{env:"admin-tools",session:k,prompt:a,temperature:.4,model:J},signal:r,nonce:A});case 14:i=e.sent,o=null==i?void 0:i.data,e.next=22;break;case 18:throw e.prev=18,e.t0=e.catch(11),console.error(e.t0),new Error(null!==(l=e.t0.message)&&void 0!==l?l:"Unknown error, check your console logs.");case 22:return console.log("Content rewritten.",{from:t.content,to:o}),e.abrupt("return",o);case 24:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}(),et=ka((function(){return(null==Ie?void 0:Ie.total)||0}),[Ie]),tt=ka((function(){var e=Ie;return null!=e&&e.vectors?null==e?void 0:e.vectors.map((function(e){var t=new Date(e.updated),n=(t=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),r=new Date(e.created),a=(r=new Date(r.getTime()-60*r.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=e.score?React.createElement("span",{style:{color:e.score>Z/100?"var(--neko-green)":"inherit"}},(100*e.score.toFixed(4)).toFixed(2)):"-",i=null;return e.subType&&"string"==typeof e.subType&&(i=e.subType.toUpperCase()),{id:e.id,type:React.createElement("small",null,e.refId?React.createElement(React.Fragment,null,"ID ",React.createElement("a",{href:"/wp-admin/post.php?post=".concat(e.refId,"&action=edit"),target:"_blank",rel:"noreferrer"},"#",e.refId),React.createElement("br",null),React.createElement("div",{style:{fontSize:"80%",marginTop:-5}},i)):"MANUAL"),score:o,title:e.title,status:React.createElement(Fa,{id:e.id,status:e.status,title:e.error||null,includeText:!0}),updated:n,created:a,actions:React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary",rounded:!0,icon:"pencil",disabled:Me,onClick:function(){return V({type:"edit",data:e})}}),React.createElement(E._,{className:"primary",rounded:!0,icon:"replay",disabled:Me||!e.refId||"ok"===e.status,onClick:function(){return nt(e.refId)}}),React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",disabled:Me,onClick:function(){return Qe([e.id])}}))}})):[]}),[O,Ie,Me]),nt=function(){var e=Na(xa().mark((function e(t){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("syncEmbedding"),e.next=3,rt(0,t);case 3:v(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Na(xa().mark((function e(){var t,n,r,a,o,i,l,c,u,s,f,d,p,h,y,g,b,E,w,R,x,O,S,T,N=arguments;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=N.length>0&&void 0!==N[0]?N[0]:0,c=N.length>1&&void 0!==N[1]?N[1]:void 0,u=N.length>2&&void 0!==N[2]?N[2]:void 0,e.next=5,dt(m,l,c||void 0,Y.syncPostStatus);case 5:if(s=e.sent,f=null!==(t=null==s?void 0:s.content)&&void 0!==t?t:null,d=null!==(n=null==s?void 0:s.title)&&void 0!==n?n:null,p=null!==(r=null==s?void 0:s.url)&&void 0!==r?r:null,h=null!==(a=null==s?void 0:s.excerpt)&&void 0!==a?a:null,y=null!==(o=null==s?void 0:s.checksum)&&void 0!==o?o:null,g=null!==(i=null==s?void 0:s.language)&&void 0!==i?i:"english",c=null!=s&&s.postId?parseInt(null==s?void 0:s.postId):null,s.success){e.next=15;break}throw new Error(s.message);case 15:return console.log("* Post ID "+c),((b=pt(f))>$||b>8191)&&(f=ht(f,$),console.warn("Too much content. Reduced it to approximatively ".concat($," tokens."),{before:s.content,beforeLength:s.content.length,after:f,afterLength:f.length})),e.next=20,qe(c,!0,u);case 20:if(E=e.sent,!(f.length<64)){e.next=32;break}if(!(E.length>0)){e.next=28;break}return e.next=25,Qe(E.map((function(e){return e.id})),!0,u);case 25:console.warn("Content is too short. Embeddings deleted.",{content:f}),e.next=29;break;case 28:console.warn("Content is too short. Skipped.",{content:f});case 29:return e.abrupt("return",!1);case 32:if(!(E.length>1)){e.next=37;break}return alert("Multiple embeddings for one single post are not handled yet. Please delete the embeddings related to ".concat(c," manually.")),e.abrupt("return",!1);case 37:if(1!==E.length){e.next=59;break}if((w=E[0]).refChecksum!==y||Y.forceRecreate){e.next=43;break}console.log("Embedding exists with same content.",{embedding:w}),e.next=57;break;case 43:return w.refChecksum===y?console.log("Embedding exists with same content (but force re-create)."):console.log("Embedding exists with different content.",{current:w.content,new:f}),R={postId:c,content:f,title:d,url:p,excerpt:h,checksum:y,language:g},e.next=47,$e(R,g,u);case 47:if((x=e.sent)&&!(x.length<64)){e.next=53;break}return e.next=51,Qe(E.map((function(e){return e.id})),!0,u);case 51:return console.warn("Embeddings are too short. Embeddings deleted.",{content:f}),e.abrupt("return",!1);case 53:return e.next=55,Xe(Sa(Sa({},w),{},{content:x,refChecksum:y}),!0,u);case 55:if(e.sent){e.next=57;break}return e.abrupt("return",!1);case 57:e.next=74;break;case 59:return O={postId:c,content:f,title:d,url:p,excerpt:h,checksum:y,language:g},e.next=62,$e(O,g,u);case 62:if((S=e.sent)&&!(S.length<64)){e.next=68;break}return e.next=66,Qe(E.map((function(e){return e.id})),!0,u);case 66:return console.warn("Embeddings are too short. Skipped.",{content:f}),e.abrupt("return",!1);case 68:return T=Sa(Sa({},at),{},{title:d,content:S,type:"postId",refId:c,refChecksum:y,behavior:"context"}),e.next=71,We(T,!0,u);case 71:if(e.sent){e.next=73;break}return e.abrupt("return",!1);case 73:console.log("Embeddings added!",{embedding:T});case 74:return null!=u&&u.aborted&&(console.log("User aborted."),v(!1),Pe.reset()),e.abrupt("return",!0);case 76:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Na(xa().mark((function e(){var t,n,r,a,o,i,c,u;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v("bulkPullAll"),t={page:1,limit:1e4,filters:{envId:ne,dbIndex:fe,dbNS:oe}},n=[],r=[],a=!1;case 5:if(a){e.next=14;break}return e.next=8,ut(t);case 8:(o=e.sent).vectors.length<t.limit&&(a=!0),n=n.concat(o.vectors),t.page++,e.next=5;break;case 14:console.log("Remote vectors retrieved.",{remoteVectors:n}),a=!1,t.limit=20,t.page=0;case 18:if(a){e.next=27;break}return e.next=21,ft(t);case 21:(i=e.sent).vectors.length<t.limit&&(a=!0),r=r.concat(i.vectors),t.page++,e.next=18;break;case 27:if(r=r.map((function(e){return e.dbId})),console.log("Local vectors retrieved.",{vectors:r}),c=n.filter((function(e){return!r.includes(e)})),console.log("Vectors to pull from Vector DB to AI Engine.",{vectorsToPull:c}),c.length){e.next=35;break}return v(!1),alert("No vectors to pull."),e.abrupt("return");case 35:return u=c.map((function(e){return function(){var t=Na(xa().mark((function t(n){return xa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,st({envId:ne,dbIndex:fe,dbNS:oe,dbId:e},n);case 2:return t.next=4,l.invalidateQueries({queryKey:["vectors"]});case 4:return t.abrupt("return",{success:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=38,Pe.start(u);case 38:v(!1),alert("All done! For more information, check the console (Chrome Developer Tools)."),Pe.reset();case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Na(xa().mark((function e(){var t,n,r,a,o=arguments;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],v("bulkPushAll"),n=[],t||0===G.length?(r=Array.from(Array(ge).keys()),n=r.map((function(e){return function(){var t=Na(xa().mark((function t(n){return xa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rt(e,null,n);case 2:return t.abrupt("return",{success:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))):(a=Ie.vectors.filter((function(e){return G.includes(e.id)})).map((function(e){return"postId"===e.type?e.refId:null})).filter((function(e){return null!==e})),n=a.map((function(e){return function(){var t=Na(xa().mark((function t(n){return xa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rt(0,e,n);case 2:return t.abrupt("return",{success:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),e.next=6,Pe.start(n);case 6:v(!1),alert("All done! For more information, check the console (Chrome Developer Tools). Posts with very short content (or content that could not be retrieved) are skipped."),Pe.reset();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yt=function(){var e=Na(xa().mark((function e(){var t,n;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("Enter the Post ID to synchronize with:")){e.next=3;break}return e.abrupt("return");case 3:return v("singleRun"),e.prev=4,e.next=7,rt(0,t);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),console.error(e.t0),alert(null!==(n=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&void 0!==n?n:e.t0);case 13:v(!1);case 14:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}(),vt=ka((function(){return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex"}},React.createElement(we.N,{scrolldown:!0,name:"environment",style:{flex:1,marginBottom:5},disabled:Me,value:(null==le?void 0:le.id)||"",onChange:function(e){return re(e)}},ee.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})),!(null!=ee&&ee.length)&&React.createElement(we.Z,{value:"",label:"None"}))),React.createElement("div",{style:{display:"flex"}},React.createElement(we.N,{scrolldown:!0,name:"server",description:Ve.COMMON.EMBEDDINGS_ENV+" / "+Ve.COMMON.EMBEDDINGS_INDEX,style:{marginRight:5,flex:1.5},disabled:Me,value:null==le?void 0:le.index,onChange:function(e){return Ue(e)}},ce.map((function(e){return React.createElement(we.Z,{key:e.name,value:e.name,label:e.name})})),!(null!=ce&&ce.length)&&React.createElement(we.Z,{value:"",label:"None"})),React.createElement(we.N,{scrolldown:!0,name:"namespace",disabled:!le||"none"===le.server||"gcp-starter"===le.server||Me,description:Ve.COMMON.NAMESPACE,style:{flex:1},value:oe,onChange:function(e){return ie(e)}},ue.map((function(e){return React.createElement(we.Z,{key:e,value:e,label:e})})),React.createElement(we.Z,{value:null,label:"None"}))))}),[le,ee,ce,oe,Me]);return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0,minimal:!0,style:{marginBottom:-10}},React.createElement("div",{style:{display:"flex"}},React.createElement(xe.H,{style:{margin:10},contentStyle:{padding:10}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Ft.Q,{style:{marginRight:10},disabled:Me||!fe||!me,onLabel:Ve.EMBEDDINGS.AI_SEARCH,offLabel:Ve.EMBEDDINGS.EDIT,width:110,onValue:"search",offValue:"edit",checked:"search"===O,onChange:S,onBackgroundColor:c.purple,offBackgroundColor:c.green}),"edit"===O&&React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary",disabled:Me||!fe||!me,onClick:function(){return V({type:"add",data:at})}},"Add")))),React.createElement(xe.H,{style:{margin:10,flex:"auto"},contentStyle:{padding:10,display:"flex"}},"edit"===O&&React.createElement(React.Fragment,null,G.length>0&&React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary",disabled:Me||!fe,isBusy:"bulkPushAll"===y,onClick:function(){return lt(!1)}},"Sync Selected"),React.createElement(E._,{className:"danger",disabled:Me||!fe||!me,onClick:Je},Ve.COMMON.DELETE_SELECTED)),G.length>0&&React.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:10,marginRight:10}},G.length," selected"),React.createElement(Yt.U,{busy:Pe.busy,style:{flex:"auto"},value:Pe.value,max:Pe.max,onStopClick:Pe.stop})),"search"===O&&React.createElement("div",{style:{flex:"auto",display:"flex"}},React.createElement(Ee.A,{style:{flex:"auto",marginRight:5},placeholder:"Search",disabled:Me||!fe||!me,value:_,onChange:C,onEnter:Ze,onReset:ze}),React.createElement(E._,{className:"primary",onClick:Ze,disabled:Me||!fe||!me||!_,isBusy:"searchVectors"===y},"Search"))))),React.createElement(g.z,{minimal:!0,style:{flex:3,marginRight:10}},React.createElement(w.v,{className:"primary"},React.createElement(Bt.a,{busy:Me,sort:Re.sort,onSortChange:function(e,t){Se(Sa(Sa({},Re),{},{sort:{accessor:e,by:t}}))},data:tt,columns:je,onSelectRow:function(e){B([e])},onSelect:function(e){B([].concat(Ra(G),Ra(e)))},onUnselect:function(e){B(Ra(G.filter((function(t){return!e.includes(t)}))))},selectedItems:G}),React.createElement(Oe.i,null),"search"!==O&&React.createElement("div",{style:{display:"flex",justifyContent:"end"}},React.createElement(Vt.Q,{currentPage:Re.page,limit:Re.limit,total:et,onClick:function(e){Se(Sa(Sa({},Re),{},{page:e}))}}),React.createElement(E._,{className:"primary",style:{marginLeft:5},disabled:ke||!fe,onClick:function(){l.invalidateQueries({queryKey:["vectors"]})}},Ve.COMMON.REFRESH),React.createElement(E._,{className:"primary",style:{marginLeft:5},onClick:function(){V({type:"export",data:{envId:ne,dbIndex:fe,dbNS:oe}})}},Ve.COMMON.EXPORT))),React.createElement(w.v,{className:"primary"},React.createElement("p",null,React.createElement("b",null,"If want to discuss embeddings with other users, visit the ",React.createElement("a",{href:"https://discord.gg/bHDGh38",target:"_blank",rel:"noreferrer"},"Meow Apps Discord Server"),".")),React.createElement("p",null,"An embedding is a textual piece of data (sentence, paragraph, a whole article) that has been converted by OpenAI into a vector. Vectors can then be used to find the most relevant data for a given query. In this dashboard, you can create embeddings, and they will be synchronized with ",React.createElement("a",{target:"_blank",href:"https://www.pinecone.io/",rel:"noreferrer"},"Pinecone"),", a very fast and affordable vector database."),React.createElement("p",null,"You can switch from EDIT to AI SEARCH and you will be able to query the database, and get your content, with a score. You can edit the content and it will be synchronized with Pinecone. Then make your content perfect so that the results are satisfying! You can use Sync and Sync One, it will go through your posts and create the embeddings if they don't exist yet, or update them if they do."),React.createElement("p",null,"Both the chatbots and the AI Forms can use embeddings to enrich their answers."))),React.createElement(g.z,{minimal:!0},React.createElement(Oe.i,{large:!0}),React.createElement(b.c,{inversed:!0,style:{marginRight:10}},React.createElement(b.P,{title:"Index"},vt,fe&&!me&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:15,padding:"8px 12px"}},"This index is currently being build by Pinecone. Wait a few minutes, then use the ",React.createElement("b",null,"Refresh")," button.")),React.createElement(b.P,{title:"Settings"},vt,React.createElement(Oe.i,null),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{className:"primary",onClick:function(){return D(ot)},style:{flex:1},isBusy:"addIndex"===y,disabled:Me},Ve.EMBEDDINGS.ADD_INDEX),React.createElement(E._,{className:"secondary",onClick:Ye,style:{flex:1},isBusy:"refreshIndexes"===y,disabled:Me},Ve.COMMON.REFRESH),React.createElement(E._,{className:"danger",onClick:He,style:{flex:1},isBusy:"deleteEmbeddings"===y,disabled:Me||!fe||!me},Ve.COMMON.DELETE)),React.createElement(Oe.i,null),fe&&!me&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:15,padding:"8px 12px"}},"This index is currently being build by Pinecone. Wait a few minutes, then use the ",React.createElement("b",null,"Refresh")," button."),React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{flex:1,marginRight:5}},React.createElement("label",null,"Minimum Score:"),React.createElement(Ee.A,{value:Z,type:"number",min:0,max:98,step:.5,onFinalChange:function(e){De(Sa(Sa({},Y),{},{minScore:parseFloat(e)}))}})),React.createElement("div",{style:{flex:1,marginLeft:5}},React.createElement("label",null,"Max Embedding(s):"),React.createElement(Ee.A,{value:z,type:"number",min:1,max:20,step:1,onFinalChange:function(e){De(Sa(Sa({},Y),{},{maxSelect:parseInt(e)}))}}))),React.createElement("p",null,"The ",z," best embedding(s) with a minimum score of ",Z," will be used to build the reply."))),React.createElement(Oe.i,null),"search"!==O&&React.createElement(b.c,{inversed:!0,style:{marginRight:10}},React.createElement(b.P,{title:"Sync Push",inversed:!0},React.createElement(Ht.b,{ref:W,onSelectFiles:Ke,accept:""},React.createElement(E._,{fullWidth:!0,className:"secondary",onClick:function(){return W.current.click()}},"Import CSV or JSON")),React.createElement(Oe.i,{line:!0}),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(we.N,{id:"postType",scrolldown:!0,disabled:Me,name:"postType",style:{width:100},onChange:d,value:m},null==he?void 0:he.map((function(e){return React.createElement(we.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(E._,{fullWidth:!0,className:"primary",style:{marginLeft:10},disabled:Me||!fe,isBusy:"bulkPushAll"===y,onClick:function(){return lt(!0)}},Ve.EMBEDDINGS.SYNC_ALL," ",!ve&&React.createElement(React.Fragment,null,"(","".concat(ge),")"))),React.createElement(Oe.i,{tiny:!0}),React.createElement(E._,{fullWidth:!0,className:"primary",disabled:Me||!fe,isBusy:"singleRun"===y,onClick:yt},Ve.EMBEDDINGS.SYNC_ONE)),React.createElement(b.P,{title:"Sync Pull",inversed:!0},React.createElement(E._,{fullWidth:!0,className:"primary",disabled:Me||!fe,isBusy:"bulkPullAll"===y,onClick:function(){return it()}},Ve.EMBEDDINGS.SYNC_ALL)),React.createElement(b.P,{title:"Settings",inversed:!0},React.createElement(h.P,{label:Ve.EMBEDDINGS.REWRITE_CONTENT,checked:Y.rewriteContent,disabled:y,onChange:function(e){De(Sa(Sa({},Y),{},{rewriteContent:e}))},description:Ve.EMBEDDINGS.REWRITE_CONTENT_DESCRIPTION}),React.createElement(Oe.i,null),Y.rewriteContent&&React.createElement(Te.l,{value:Y.rewritePrompt,rows:5,disabled:y,onBlur:function(e){De(Sa(Sa({},Y),{},{rewritePrompt:e}))},description:Ve.EMBEDDINGS.REWRITE_PROMPT_DESCRIPTION}),React.createElement(Oe.i,null),React.createElement(h.P,{label:Ve.EMBEDDINGS.FORCE_RECREATE,checked:Y.forceRecreate,disabled:y,onChange:function(e){De(Sa(Sa({},Y),{},{forceRecreate:e}))},description:Ve.EMBEDDINGS.FORCE_RECREATE_DESCRIPTION}),React.createElement(Oe.i,{medium:!0,line:!0}),React.createElement("h3",{style:{marginTop:0}},"Auto Sync"),React.createElement(h.P,{label:Ve.EMBEDDINGS.AUTO_SYNC_POSTS,checked:Y.syncPosts,disabled:y,onChange:function(e){De(Sa(Sa({},Y),{},{syncPosts:e}))},description:Ve.EMBEDDINGS.AUTO_SYNC_POSTS_DESCRIPTION}),Y.syncPosts&&React.createElement(React.Fragment,null,React.createElement("p",null,!Y.syncPostsEnv&&"Auto Sync is not set.",Y.syncPostsEnv&&React.createElement(React.Fragment,null,React.createElement("ul",{style:{lineHeight:"10px",marginLeft:15,listStyle:"disc"}},React.createElement("li",null,"Environment: ",React.createElement("b",null,Ge)),React.createElement("li",null,"Index: ",React.createElement("b",null,Y.syncPostsEnv.dbIndex)),React.createElement("li",null,"Namespace: ",React.createElement("b",null,Y.syncPostsEnv.dbNS))))),Fe&&React.createElement(React.Fragment,null,React.createElement(Ne.S,{variant:"danger",style:{padding:"10px 20px",marginBottom:10}},"The current environment is different from the one set for Auto Sync. Do you want to use it instead?"),React.createElement(E._,{fullWidth:!0,className:"primary",onClick:function(){return De(Sa(Sa({},Y),{},{syncPostsEnv:{envId:ne,dbIndex:fe,dbNS:oe}}))},style:{flex:1},disabled:Me},"Use Current Environment"),React.createElement(Oe.i,null)),React.createElement(Ee.A,{name:"syncPostTypes",value:Y.syncPostTypes,isCommaSeparatedArray:!0,description:Ve.HELP.POST_TYPES,onBlur:function(e){De(Sa(Sa({},Y),{},{syncPostTypes:e}))}}),React.createElement(Oe.i,null),React.createElement(Ee.A,{name:"syncPostStatus",value:Y.syncPostStatus||"publish",isCommaSeparatedArray:!0,description:Ve.HELP.POST_STATUS,onBlur:function(e){De(Sa(Sa({},Y),{},{syncPostStatus:e}))}})))))),React.createElement(Kr,{modal:H,setModal:V,busy:y,onAddEmbedding:We,onModifyEmbedding:Xe}),React.createElement(ia,{modal:H,setModal:V,busy:y}),React.createElement(ga,{modal:H,setModal:V,busy:y,onAddEmbedding:We,onModifyEmbedding:Xe}),React.createElement(_e.L,{isOpen:M,title:Ve.EMBEDDINGS.ADD_INDEX,onRequestClose:function(){return D(null)},content:React.createElement(React.Fragment,null,React.createElement("p",null,Ve.EMBEDDINGS.ADD_INDEX_DESCRIPTION),React.createElement(Oe.i,{height:30}),React.createElement("label",null,"Name:"),React.createElement(Oe.i,null),React.createElement(Ee.A,{value:null==M?void 0:M.name,placeholder:"Name for your index",onChange:function(e){return D(Sa(Sa({},M),{},{name:e}))}}),React.createElement(Oe.i,null),React.createElement("label",null,"Type:"),React.createElement(Oe.i,null),React.createElement(we.N,{scrolldown:!0,name:"podType",disabled:Me,value:null==M?void 0:M.podType,onChange:function(e){D(Sa(Sa({},M),{},{podType:e}))},description:React.createElement(React.Fragment,null,"Pick S1 only if you will have more than 1 million of embeddings. P2 is faster for querying, slower for adding, and more expensive if you are not using the ",React.createElement("a",{href:"https://www.pinecone.io/pricing/",target:"_blank",rel:"noreferrer"},"Starter Plan")," (free) of Pinecone. P2 is recommended.")},React.createElement(we.Z,{value:"s1",label:"S1 (5M Embeddings)"}),React.createElement(we.Z,{value:"p1",label:"P1 (1M Embeddings & High Perf)"}),React.createElement(we.Z,{value:"p2",label:"P2 (1M Embeddings & Max Perf)"}))),okButton:{label:Ve.EMBEDDINGS.ADD_INDEX,onClick:Be,disabled:!(null!=M&&M.name&&null!=M&&M.podType),busy:"addIndex"===y},cancelButton:{onClick:function(){return D(null)},disabled:y}}),Pe.TasksErrorModal)};function Ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Za=wp.element,za=Za.useMemo,Wa=Za.useState,Xa=function(e){var t,n,r=e.month,a=e.usageData,o=(new Date).toISOString().slice(0,7),i=(t=Wa(o==r),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ya(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],c=i[1];return React.createElement("li",null,React.createElement("strong",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return c(!l)}},"🗓️ ",r," (",a[r].totalPrice.toFixed(2),"$)",React.createElement("span",{style:{marginLeft:5}},l?"🔽":"🔼")),React.createElement("ul",null,l&&a[r].data.map((function(e,t){var n=e.isImage?"images":e.isAudio?"seconds":"tokens",r=e.isImage?e.outUnits:e.inUnits+e.outUnits;return React.createElement("li",{key:t,style:{marginTop:5,marginLeft:18}},React.createElement("strong",null,"• ",e.name),": ".concat(r," ").concat(n),e.price>0&&" (".concat(e.price.toFixed(4),"$)"))}))))};const qa=function(e){var t=e.options,n=ct(t),r=n.models,a=n.getModelName,o=n.getModel,i=n.calculatePrice,l=null==t?void 0:t.openai_usage,c=za((function(){var e={};try{var t=(new Date).toISOString().slice(0,7);Object.keys(l).forEach((function(n){var r=l[n];e[n]||(e[n]={totalPrice:0,data:[]}),Object.keys(r).forEach((function(l){var c=r[l],u=o(l);if(u){var s=null,f=null,m=!1,d=!1;"image"===u.type?(f=(null==c?void 0:c.images)||0,d=!0):"second"===u.type?(f=(null==c?void 0:c.seconds)||0,m=!0):(s=(null==c?void 0:c.prompt_tokens)||0,f=(null==c?void 0:c.completion_tokens)||0);var p=i(l,s,f);e[n].totalPrice+=p,e[n].data.push({name:a(l),isImage:d,isAudio:m,inUnits:s,outUnits:f,price:p})}else n===t&&console.warn("Cannot find price for model ".concat(l,"."))}))})),Object.keys(e).forEach((function(t){e[t].data.sort((function(e,t){return t.price-e.price}))}))}catch(e){console.error(e)}return React.createElement("ul",{style:{marginLeft:-7,marginTop:10,marginBottom:0,paddingBottom:0}},Object.keys(e).reverse().map((function(t,n){return React.createElement(Xa,{key:n,month:t,usageData:e})})))}),[l,r]);return React.createElement(React.Fragment,null,!!l&&!!Object.keys(l).length&&c)};function Qa(e){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(e)}function Ka(){Ka=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Qa(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Qa(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ja(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function $a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var to=wp.element.useState;const no=function(){var e=$a(to(""),2),t=e[0],n=e[1],r=$a(to("transcription"),2),a=r[0],o=r[1],i=$a(to(""),2),l=i[0],c=i[1],u=$a(to(""),2),s=u[0],f=u[1],m=$a(to(!1),2),d=m[0],p=m[1],h=function(){var e,n=(e=Ka().mark((function e(){var n,r,o;return Ka().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/ai/transcribe"),{method:"POST",nonce:A,json:{url:t,prompt:s,mode:a}});case 4:r=e.sent,null!=(o=r.data)&&null!==(n=o.error)&&void 0!==n&&n.message?alert(o.error.message):c(o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0.message);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ja(o,r,a,i,l,"next",e)}function l(e){Ja(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:d,title:"Params",className:"primary"},React.createElement("p",null,"I have added this for you to play with. Let's see if we move into other parts of the WordPress UI or not! 😬 Don't hesitate to share your ideas. Costs are not added in AI Engine, as the requires usage data is not returned by OpenAI for this model."),React.createElement("label",null,"Audio URL:"),React.createElement(Oe.i,null),React.createElement(Te.l,{name:"url",rows:1,value:t,onChange:n}),React.createElement(Oe.i,null),React.createElement("label",null,"Prompt:"),React.createElement(Oe.i,null),React.createElement(Te.l,{rows:2,value:s,onChange:f,description:React.createElement(React.Fragment,null,"This optional prompt allows you to give more information about the audio transcript. More information ",React.createElement("a",{href:"https://platform.openai.com/docs/guides/speech-to-text/prompting",target:"_blank"},"here"),".")}),React.createElement(Oe.i,null),React.createElement("label",null,"Mode:"),React.createElement(Oe.i,null),React.createElement(we.N,{fullWidth:!0,scrolldown:!0,value:a,onChange:o,description:React.createElement(React.Fragment,null,"For more information about languages support, have a look ",React.createElement("a",{href:"https://platform.openai.com/docs/guides/speech-to-text/translations",target:"_blank"},"here"),".")},React.createElement(we.Z,{value:"transcription",label:"Transcription (Any Language)"}),React.createElement(we.Z,{value:"translation",label:"Transcription (Any Language) + Translation into English"})),React.createElement(Oe.i,{height:65}),React.createElement(E._,{fullWidth:!0,style:{height:40},onClick:h},"Transcribe"))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{title:"Transcription",className:"primary"},React.createElement(Oe.i,null),React.createElement(Te.l,{name:"context",rows:21,value:l,disabled:!l})))))};function ro(e){return ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ro(e)}var ao,oo,io,lo;function co(e){return function(e){if(Array.isArray(e))return po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==ro(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ro(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ro(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||mo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mo(e,t){if(e){if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?po(e,t):void 0}}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ho(){ho=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==ro(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ro(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function yo(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function vo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){yo(o,r,a,i,l,"next",e)}function l(e){yo(o,r,a,i,l,"throw",e)}i(void 0)}))}}function go(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bo=wp.element,Eo=bo.useMemo,wo=bo.useState,Ro=bo.useEffect,xo=F.ZP.div(ao||(ao=go(["\n  font-size: 12px;\n  border-bottom: 1px solid black;\n"]))),Oo=F.ZP.span(oo||(oo=go(["\n  font-weight: bold;\n  text-transform: uppercase;\n"]))),So=F.ZP.div(io||(io=go(["\n  font-size: 12px;\n  color: #bdb8b8;\n  background: #eeeeee;\n  padding: 2px 8px;\n"]))),To=F.ZP.div(lo||(lo=go(["\n"]))),No=function(e){var t,n,r,a,o=e.message,i=null!=o&&null!==(t=o.extra)&&void 0!==t&&t.embeddings?null==o||null===(n=o.extra)||void 0===n?void 0:n.embeddings:null!=o&&null!==(r=o.extra)&&void 0!==r&&r.embedding?[null==o||null===(a=o.extra)||void 0===a?void 0:a.embedding]:[];return React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement(xo,null,React.createElement(Oo,null,o.role||o.type)),(null==i?void 0:i.length)>0&&React.createElement(So,null,i.map((function(e){return React.createElement("div",null,React.createElement("span",null,e.title)," (",React.createElement("span",null,(100*e.score.toFixed(4)).toFixed(2)),")")}))),React.createElement(To,null,o.content||o.text))},_o=[{accessor:"updated",title:"Time",width:"80px",sortable:!0},{accessor:"user",title:"User",width:"85px",filters:{type:"text",description:Ve.HELP.USER_FILTER}},{accessor:"preview",title:Ve.COMMON.PREVIEW,filters:{type:"text"}},{accessor:"messages",title:"#",width:"45px"}],Co=function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.offset=(t.page-1)*t.limit,e.next=3,(0,R.PV)("".concat(T,"/discussions/list"),{nonce:A,method:"POST",json:t});case 3:return n=e.sent,e.abrupt("return",n?{total:n.total,chats:n.chats}:{total:0,chats:[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Lo=function(){var e=vo(ho().mark((function e(){var t,n,r=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:[],e.next=3,(0,R.PV)("".concat(T,"/discussions/delete"),{nonce:A,method:"POST",json:{chatIds:t}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const Ao=function(){var e,t,n,r,a=(0,u.NL)(),o=fo(wo(!1),2),i=o[0],l=o[1],c=fo(wo(!1),2),s=c[0],f=c[1],m=fo(wo((function(){return _o.filter((function(e){return e.filters})).map((function(e){return{accessor:e.accessor,value:null}}))})),2),d=m[0],p=m[1],y=fo(wo([]),2),v=y[0],b=y[1],R=fo(wo({filters:d,sort:{accessor:"created",by:"desc"},page:1,limit:10}),2),x=R[0],O=R[1],S=(0,Ce.a)({queryKey:["chats",x],queryFn:function(){return Co(x)},keepPreviousData:!0,refetchInterval:s?5e3:null}),T=S.isFetching,N=S.data;Ro((function(){O(so(so({},x),{},{filters:d}))}),[d]);var _=Eo((function(){return(null==N?void 0:N.total)||0}),[N]),C=Eo((function(){return null!=N&&N.chats?null==N?void 0:N.chats.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t,n,r,a=JSON.parse(e.messages),o=JSON.parse(e.extra),i=yt(e.created),l=yt(e.updated),c=vt(null!==(t=e.userId)&&void 0!==t?t:null==o?void 0:o.userId,null!==(n=e.ip)&&void 0!==n?n:null==o?void 0:o.ip),u=null==a?void 0:a.filter((function(e){return"user"===e.role||"user"===e.type})),s=null!=u&&u.length?u[0].content||u[0].text:"",f=null!=u&&u.length?u[u.length-1].content||u[u.length-1].text:"";return{id:e.id,chatId:e.chatId,user:c,messages:null!==(r=null==a?void 0:a.length)&&void 0!==r?r:0,preview:React.createElement(React.Fragment,null,React.createElement("div",null,s),React.createElement("small",null,f)),extra:o.model,created:i,updated:l}})):[]}),[N]),L=Eo((function(){if(1!==(null==v?void 0:v.length))return null;var e=null==N?void 0:N.chats.find((function(e){return e.id===v[0]}));if(!e)return null;var t=[],n={};try{t=JSON.parse(e.messages),n=JSON.parse(e.extra)}catch(e){console.log(e)}return{id:e.id,chatId:e.chatId,botId:e.botId,messages:t,extra:n,created:e.created,updated:e.updated}}),[v,N]),A=function(){var e=vo(ho().mark((function e(){var t,n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),v.length){e.next=8;break}if(window.confirm(Ve.ALERTS.ARE_YOU_SURE)){e.next=5;break}return l(!1),e.abrupt("return");case 5:return e.next=7,Lo();case 7:a.invalidateQueries("chats");case 8:return t=null==N?void 0:N.chats.filter((function(e){return v.includes(e.id)})),n=t.map((function(e){return e.chatId})),e.next=12,Lo(n);case 12:b([]),a.invalidateQueries("chats"),l(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=Eo((function(){return React.createElement("div",null,React.createElement("div",{style:{display:"flex",flexDirection:"row"}},React.createElement(Vt.Q,{currentPage:x.page,limit:x.limit,total:_,onClick:function(e){O(so(so({},x),{},{page:e}))}})))}),[x,_]);return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,style:{flex:2}},React.createElement(w.v,{className:"primary",title:Ve.COMMON.DISCUSSIONS,action:React.createElement(React.Fragment,null,React.createElement("div",null,!s&&React.createElement(E._,{className:"secondary",style:{marginLeft:5},disabled:T,onClick:function(){a.invalidateQueries({queryKey:["chats"]})}},Ve.COMMON.REFRESH),v.length>0&&React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",disabled:!1,onClick:A},v.length>1?Ve.COMMON.DELETE_SELECTED:Ve.COMMON.DELETE)),!v.length&&React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",disabled:!1,onClick:A},Ve.COMMON.DELETE_ALL))))},React.createElement(Bt.a,{busy:!s&&T||i,sort:x.sort,onSortChange:function(e,t){O(so(so({},x),{},{sort:{accessor:e,by:t}}))},filters:d,onFilterChange:function(e,t){var n=[].concat(co(d.filter((function(t){return t.accessor!==e}))),[{accessor:e,value:t}]);p(n)},data:C,columns:_o,selectedItems:v,onSelectRow:function(e){b([e])},onSelect:function(e){b([].concat(co(v),co(e)))},onUnselect:function(e){b(co(v.filter((function(t){return!e.includes(t)}))))}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},React.createElement(h.P,{name:"auto-refresh",label:"Auto Refresh",value:"1",checked:s,onChange:function(){return f(!s)}}),I))),React.createElement(g.z,{minimal:!0,style:{flex:1}},React.createElement(w.v,{className:"primary",title:"Selected Discussion",action:React.createElement(React.Fragment,null)},!L&&React.createElement("div",{style:{textAlign:"center",padding:10}},"No discussion selected."),null==L||null===(e=L.messages)||void 0===e?void 0:e.map((function(e,t){return React.createElement(No,{key:t,message:e})}))),!!L&&React.createElement(w.v,{className:"primary",title:"Information",action:React.createElement(React.Fragment,null)},React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Model"),React.createElement("div",null,null==L||null===(t=L.extra)||void 0===t?void 0:t.model)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Context"),React.createElement("div",null,null==L||null===(n=L.extra)||void 0===n?void 0:n.context)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Bot ID (or Custom ID)"),React.createElement("div",null,null==L?void 0:L.botId)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Chat ID"),React.createElement("div",null,null==L?void 0:L.chatId)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Session"),React.createElement("div",null,null==L||null===(r=L.extra)||void 0===r?void 0:r.session)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Created"),React.createElement("div",null,null==L?void 0:L.created)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Updated"),React.createElement("div",null,null==L?void 0:L.updated))))))};var Io=wp.element,ko=Io.useMemo,jo=Io.useEffect,Po=["chat-openai.svg","chat-robot-1.svg","chat-robot-2.svg","chat-robot-3.svg","chat-robot-4.svg","chat-robot-5.svg","chat-robot-6.svg","chat-color-blue.svg","chat-color-green.svg","chat-color-red.svg","chat-traditional-1.svg","chat-traditional-2.svg","chat-traditional-3.svg"];const Mo=function(e){var t,n,r=e.themes,a=e.shortcodeParams,o=e.updateShortcodeParams,i=e.defaultChatbot,l=e.deleteCurrentChatbot,c=e.resetCurrentChatbot,u=e.duplicateCurrentChatbot,s=e.options,f=ct(s),m=f.completionModels,d=f.isFineTunedModel,p=f.getModel,y=null==s?void 0:s.shortcode_chat_inject,v=null!==(t="chat"===a.mode)&&void 0!==t?t:"chat",b=null!==(n="images"===a.mode)&&void 0!==n&&n,w=d(a.model),x=p(a.model),O=a.contentAware,S=a.context&&a.context.includes("{CONTENT}"),T=a.icon?a.icon:"chat-color-green.svg",_=(null==T?void 0:T.startsWith("https://"))||(null==T?void 0:T.startsWith("http://")),C=_?T:"".concat(N,"/images/").concat(T),A=s.embeddings_envs||[],I=ko((function(){return A.find((function(e){return e.id===a.embeddingsEnvId}))||null}),[A,a.embeddingsEnvId]),k=ko((function(){return(null==I?void 0:I.indexes)||[]}),[I]),j=ko((function(){return(null==I?void 0:I.namespaces)||[]}),[I]);jo((function(){!I&&a.embeddingsIndex&&o(null,"embeddingsIndex"),!I&&a.embeddingsNamespace&&o(null,"embeddingsNamespace")}),[a.embeddingsIndex]),jo((function(){"gcp-starter"===(null==I?void 0:I.server)&&a.embeddingsNamespace&&o(null,"embeddingsNamespace")}),[I]);var P=ko((function(){var e=[];for(var t in a)if(!(void 0===a[t]||null===a[t]||"botId"===t||"name"===t||"maxSentences"===t||""===a[t]||i&&i[t]===a[t])){var n=a[t];n&&"string"==typeof n&&n.includes('"')&&(n=n.replace(/"/g,"'")),n&&"string"==typeof n&&n.includes("\n")&&(n=n.replace(/\n/g,"\\n")),n&&"string"==typeof n&&n.includes("[")&&(n=n.replace(/\[/g,"&#91;")),n&&"string"==typeof n&&n.includes("]")&&(n=n.replace(/\]/g,"&#93;"));var r=t.replace(/([A-Z])/g,(function(e){return"_".concat(e.toLowerCase())}));e.push("".concat(r,'="').concat(n,'"'))}var o=e.join(" ");return"[mwai_chatbot_v2"+(o?" ".concat(o):"")+"]"}),[a]);return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(wr,null,React.createElement(Se.F,{keepState:"chatbotParams"},React.createElement(Se.L,{title:Ve.COMMON.MAIN_SETTINGS},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.NAME,":"),React.createElement(Ee.A,{name:"name","data-form-type":"other",disabled:"default"===a.botId,value:a.name,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},Ve.COMMON.ID,":"),React.createElement(Ee.A,{name:"botId",type:"text",placeholder:"Optional",disabled:"default"===a.botId,value:a.botId,onBlur:o,onEnter:o}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.THEME,":"),React.createElement(we.N,{scrolldown:!0,name:"themeId",value:a.themeId,description:"",onChange:o},React.createElement(we.Z,{value:"none",label:"None"}),React.createElement(we.Z,{value:"chatgpt",label:"ChatGPT"}),React.createElement(we.Z,{value:"messages",label:"Messages (iOS)"}),null==r?void 0:r.filter((function(e){return"css"===e.type})).map((function(e){return React.createElement(we.Z,{key:e.themeId,value:e.themeId,label:e.name})})))),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.LOCAL_MEMORY,":"),React.createElement(h.P,{name:"localMemory",label:"Yes",checked:a.localMemory,value:"1",onChange:o}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{height:"chat"===a.mode?76:"inherit"}},React.createElement("label",null,Ve.COMMON.MODE,":"),React.createElement(we.N,{scrolldown:!0,id:"mode",name:"mode",value:a.mode,onChange:o},React.createElement(we.Z,{value:"chat",label:"Chat"}),React.createElement(we.Z,{value:"images",label:"Images"}))),v&&React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,Ve.COMMON.CONTEXT,":"),React.createElement(Te.l,{name:"context",rows:10,textAreaStyle:{resize:"none"},value:a.context,onBlur:o,onEnter:o})),b&&React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,Ve.COMMON.IMAGES_NUMBER,":"),React.createElement(Ee.A,{name:"maxResults",type:"number",value:a.maxResults,onBlur:o,onEnter:o})))),React.createElement(Se.L,{title:Ve.COMMON.VISUAL_SETTINGS},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.AI_NAME,":"),React.createElement(Ee.A,{name:"aiName","data-form-type":"other",value:a.aiName,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,Ve.COMMON.START_SENTENCE,":"),React.createElement(Ee.A,{name:"startSentence",value:a.startSentence,onBlur:o,onEnter:o}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.USER_NAME,":"),React.createElement(Ee.A,{name:"userName","data-form-type":"other",value:a.userName,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,Ve.COMMON.PLACEHOLDER,":"),React.createElement(Ee.A,{name:"textInputPlaceholder",value:a.textInputPlaceholder,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1.5}},React.createElement("label",null,Ve.COMMON.SEND,":"),React.createElement(Ee.A,{name:"textSend",value:a.textSend,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1.5}},React.createElement("label",null,Ve.COMMON.CLEAR,":"),React.createElement(Ee.A,{name:"textClear",value:a.textClear,onBlur:o,onEnter:o}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.COPY_BUTTON,":"),React.createElement(h.P,{name:"copyButton",label:"Yes",checked:a.copyButton,value:"1",onChange:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.POPUP,":"),React.createElement(h.P,{name:"window",label:"Yes",checked:a.window,value:"1",onChange:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.FULL_SCREEN,":"),React.createElement(h.P,{name:"fullscreen",label:"Yes",checked:a.fullscreen,value:"1",onChange:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.COMPLIANCE_TEXT,":"),React.createElement(Ee.A,{name:"textCompliance",value:a.textCompliance,onBlur:o,onEnter:o}))),(a.window||!a.aiName)&&React.createElement(React.Fragment,null,React.createElement("div",{style:{marginTop:10,border:"2px solid #d2e4f3",borderRadius:8,padding:"10px 10px 10px 10px",background:"#f5fcff"}},React.createElement("div",{className:"mwai-builder-row",style:{marginTop:0}},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.AI_AVATAR,":"),React.createElement("div",{style:{display:"flex"}},Po.map((function(e){return React.createElement("img",{key:e,style:{marginRight:2,cursor:"pointer"},width:24,height:24,src:"".concat(N,"/images/").concat(e),onClick:function(){o(e,"icon")}})})),React.createElement(E._,{small:!0,className:"primary",style:{marginLeft:5},onClick:function(){o("".concat(N,"/images/chat-color-green.svg"),"icon")}},Ve.SETTINGS.CUSTOM_URL))),React.createElement("div",{className:"mwai-builder-col",style:{width:48,display:"flex",alignItems:"end"}},React.createElement("img",{style:{marginRight:0,paddingTop:0},width:48,height:48,src:"".concat(C)}))),_&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.CUSTOM_ICON_URL,":"),React.createElement(Ee.A,{name:"icon",value:T,onBlur:o,onEnter:o})))))),React.createElement(Se.L,{title:Ve.COMMON.POPUP_SETTINGS,hide:!a.window},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.POSITION,":"),React.createElement(we.N,{scrolldown:!0,name:"iconPosition",disabled:!a.window,value:a.iconPosition,onChange:o},React.createElement(we.Z,{value:"bottom-right",label:"Bottom Right"}),React.createElement(we.Z,{value:"bottom-left",label:"Bottom Left"}),React.createElement(we.Z,{value:"top-right",label:"Top Right"}),React.createElement(we.Z,{value:"top-left",label:"Top Left"}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.ICON_TEXT,":"),React.createElement(Ee.A,{name:"iconText",disabled:!a.window,placeholder:"If set, appears next to icon",value:a.iconText,onBlur:o,onEnter:o})))),React.createElement(Se.L,{title:Ve.COMMON.AI_SETTINGS},v&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,Ve.COMMON.MODEL,":"),React.createElement(we.N,{scrolldown:!0,name:"model",value:a.model,onChange:o},m.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})})))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.CASUALLY_FINE_TUNED,":"),React.createElement(h.P,{name:"casuallyFineTuned",label:"Yes (Legacy)",disabled:!w&&!a.casuallyFineTuned,checked:a.casuallyFineTuned,value:"1",onChange:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.TEMPERATURE,":"),React.createElement(Ee.A,{name:"temperature",type:"number",step:"0.1",min:"0",max:"1",value:a.temperature,onBlur:o,onEnter:o}))),v&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.MAX_TOKENS,":"),React.createElement(Ee.A,{name:"maxTokens",type:"number",min:"10",max:"2048",value:a.maxTokens,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.MAX_MESSAGES,":"),React.createElement(Ee.A,{name:"maxSentences",step:"1",min:"1",max:"512",value:a.maxSentences,onBlur:o,onEnter:o})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.INPUT_MAXLENGTH,":"),React.createElement(Ee.A,{name:"textInputMaxLength",step:"1",min:"1",max:"512",value:a.textInputMaxLength,onBlur:o,onEnter:o}))),v&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.CONTENT_AWARE,":"),React.createElement(h.P,{name:"contentAware",label:"Yes",requirePro:!0,isPro:L,checked:a.contentAware,value:"1",onChange:o}))),y&&!a.window&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,Ve.SETTINGS.ALERT_INJECT_BUT_NO_POPUP)),!w&&a.casuallyFineTuned&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,Ve.SETTINGS.ALERT_CASUALLY_BUT_NO_FINETUNE)),O&&!S&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,(0,R.io)(Ve.SETTINGS.ALERT_CONTENTAWARE_BUT_NO_CONTENT)))),React.createElement(Se.L,{title:Ve.COMMON.EMBEDDINGS},v&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.EMBEDDINGS_ENV,":"),React.createElement(we.N,{fullWidth:!0,scrolldown:!0,name:"embeddingsEnvId",requirePro:!0,isPro:L,disabled:!(null!=A&&A.length)||"chat"!==(null==x?void 0:x.mode),value:a.embeddingsEnvId,onChange:o},A.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(we.Z,{value:"",label:"None"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.EMBEDDINGS_INDEX,":"),React.createElement(we.N,{scrolldown:!0,name:"embeddingsIndex",requirePro:!0,isPro:L,disabled:!(null!=k&&k.length)||"chat"!==(null==x?void 0:x.mode),value:a.embeddingsIndex,onChange:o},k.map((function(e){return React.createElement(we.Z,{key:e.name,value:e.name,label:e.name})})),React.createElement(we.Z,{value:"",label:"None"}))),a.embeddingsEnvId&&React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.NAMESPACE,":"),React.createElement(we.N,{scrolldown:!0,name:"embeddingsNamespace",requirePro:!0,isPro:L,disabled:!(null!=k&&k.length)||"chat"!==(null==x?void 0:x.mode),value:a.embeddingsNamespace,onChange:o},j.map((function(e){return React.createElement(we.Z,{key:e,value:e,label:e})})),React.createElement(we.Z,{value:"",label:"None"}))))),React.createElement(Se.L,{title:Ve.COMMON.CUSTOM_SHORTCODE},React.createElement("pre",null,P),React.createElement("p",null,Ve.HELP.CUSTOM_SHORTCODE)),React.createElement(Se.L,{title:Ve.COMMON.ACTIONS},React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement(E._,{className:"primary",onClick:u},Ve.COMMON.DUPLICATE),React.createElement(E._,{className:"secondary",onClick:c},Ve.COMMON.RESET),React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",disabled:"Default"===a.name,onClick:l},Ve.COMMON.DELETE))))))))},Do=function(e){var t,n,r,a,o,i,l,c,u,s,f,m,d,p,h,y,v,g,b,E=e.settings,w=e.onUpdateSettings;return React.createElement(React.Fragment,null,React.createElement(wr,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,Ve.COMMON.SPACING,":"),React.createElement(Ee.A,{id:"spacing",name:"spacing",value:null!==(t=null==E?void 0:E.spacing)&&void 0!==t?t:"15px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,Ve.COMMON.BORDER_RADIUS,":"),React.createElement(Ee.A,{id:"borderRadius",name:"borderRadius",value:null!==(n=null==E?void 0:E.borderRadius)&&void 0!==n?n:"10px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,Ve.COMMON.FONT_SIZE,":"),React.createElement(Ee.A,{id:"fontSize",name:"fontSize",value:null!==(r=null==E?void 0:E.fontSize)&&void 0!==r?r:"15px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"fontColor",name:"fontColor",value:null!==(a=null==E?void 0:E.fontColor)&&void 0!==a?a:"#FFFFFF",onBlur:w,onEnter:w}),React.createElement(Ar,{id:"fontColor",name:"fontColor",value:null!==(o=null==E?void 0:E.fontColor)&&void 0!==o?o:"#FFFFFF",onChange:w})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.BACK_PRIMARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",style:{flex:1},value:null!==(i=null==E?void 0:E.backgroundPrimaryColor)&&void 0!==i?i:"#454654",onBlur:w,onEnter:w}),React.createElement(Ar,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(l=null==E?void 0:E.backgroundPrimaryColor)&&void 0!==l?l:"#454654",onChange:w,onEnter:w}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.BACK_SECONDARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",style:{flex:1},value:null!==(c=null==E?void 0:E.backgroundSecondaryColor)&&void 0!==c?c:"#343541",onBlur:w,onEnter:w}),React.createElement(Ar,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(u=null==E?void 0:E.backgroundSecondaryColor)&&void 0!==u?u:"#343541",onChange:w,onEnter:w})))),React.createElement(Oe.i,null),React.createElement(Se.L,{title:Ve.COMMON.POPUP,isCollapsed:!1}),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,Ve.COMMON.WIDTH,":"),React.createElement(Ee.A,{id:"width",name:"width",value:null!==(s=null==E?void 0:E.width)&&void 0!==s?s:"460px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,Ve.COMMON.MAX_HEIGHT,":"),React.createElement(Ee.A,{id:"maxHeight",name:"maxHeight",value:null!==(f=null==E?void 0:E.maxHeight)&&void 0!==f?f:"40vh",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.AVATAR_MESSAGE_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(m=null==E?void 0:E.iconTextBackgroundColor)&&void 0!==m?m:"#343541",onBlur:w,onEnter:w}),React.createElement(Ar,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(d=null==E?void 0:E.iconTextBackgroundColor)&&void 0!==d?d:"#343541",onChange:w,onEnter:w}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.AVATAR_MESSAGE_FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"iconTextColor",name:"iconTextColor",value:null!==(p=null==E?void 0:E.iconTextColor)&&void 0!==p?p:"#FFFFFF",onBlur:w,onEnter:w}),React.createElement(Ar,{id:"iconTextColor",name:"iconTextColor",value:null!==(h=null==E?void 0:E.iconTextColor)&&void 0!==h?h:"#FFFFFF",onChange:w,onEnter:w})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.HEADER_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",style:{flex:1},value:null!==(y=null==E?void 0:E.backgroundHeaderColor)&&void 0!==y?y:"#343541",onBlur:w,onEnter:w}),React.createElement(Ar,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",value:null!==(v=null==E?void 0:E.backgroundHeaderColor)&&void 0!==v?v:"#343541",onChange:w,onEnter:w}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.HEADER_BUTTONS_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"headerButtonsColor",name:"headerButtonsColor",style:{flex:1},value:null!==(g=null==E?void 0:E.headerButtonsColor)&&void 0!==g?g:"#FFFFFF",onBlur:w,onEnter:w}),React.createElement(Ar,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(b=null==E?void 0:E.headerButtonsColor)&&void 0!==b?b:"#FFFFFF",onChange:w,onEnter:w}))))))};function Fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Go=wp.element,Bo=Go.useMemo,Uo=Go.useState,Ho=Go.useEffect;const Vo=function(e){var t,n,r=e.theme,a=e.onUpdateTheme,o=(t=Uo(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fo(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1];Ho((function(){l(r.style)}),[r]);var c=Bo((function(){return i!==r.style}),[i,r]);return React.createElement(wr,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.NAME,":"),React.createElement(Ee.A,{name:"name","data-form-type":"other",value:r.name,onBlur:a,onEnter:a})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},Ve.COMMON.ID,":"),React.createElement(Ee.A,{name:"themeId",type:"text",placeholder:"Optional",value:r.themeId,onBlur:a,onEnter:a})))),React.createElement(Oe.i,null),React.createElement("label",null,"Custom CSS:"),React.createElement(Te.l,{name:"css",value:i,onChange:l,rows:16,tabToSpaces:2}),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{fullWidth:!0,onClick:function(){l(".mwai-chat {\n  --mwai-spacing: 10px;\n  --mwai-fontSize: 13px;\n  --mwai-fontColor: black;\n  --mwai-backgroundPrimaryColor: white;\n  --mwai-primaryColor: #0084ff;\n  --mwai-secondaryColor: #f0f0f0;\n}\n\n.mwai-chat * {\n  box-sizing: border-box;\n}\n\n.mwai-content {\n  background: var(--mwai-backgroundPrimaryColor);\n  padding: var(--mwai-spacing);\n  font-size: var(--mwai-fontSize);\n  color: var(--mwai-fontColor);\n}\n\n.mwai-conversation {\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n\n.mwai-conversation .mwai-reply {\n  margin-bottom: var(--mwai-spacing);\n  padding: 5px 10px;\n  border-radius: 15px;\n  font-size: var(--mwai-fontSize);\n  color: var(--mwai-fontColor);\n  min-width: 30%;\n}\n\n.mwai-conversation .mwai-reply *:first-child {\n  margin-top: 0px;\n}\n\n.mwai-conversation .mwai-reply *:last-child {\n  margin-bottom: 0px;\n}\n\n.mwai-conversation .mwai-reply.mwai-ai {\n  align-self: flex-start;\n  background: var(--mwai-secondaryColor);\n}\n\n.mwai-conversation .mwai-reply.mwai-user {\n  align-self: flex-end;\n  background: var(--mwai-primaryColor);\n  color: white;\n}\n\n.mwai-conversation .mwai-avatar img {\n  width: 24px;\n  border-radius: 5px;\n}\n\n.mwai-conversation .mwai-reply.mwai-user .mwai-avatar {\n  text-align: right;\n}\n\n.mwai-input {\n  display: flex;\n  align-items: center;\n}\n\n.mwai-input textarea {\n  flex: auto;\n  padding: 5px 10px;\n  height: 32px;\n  font-family: inherit;\n}\n\n.mwai-input button {\n  margin-left: var(--mwai-spacing);\n  padding: 5px 15px;\n  background-color: #0084ff;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  height: 32px;\n  width: 110px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.mwai-input button:hover {\n  filter: brightness(1.2);\n}\n\n.mwai-compliance {\n  margin-top: 5px;\n  font-size: 12px;\n}\n\n.mwai-chat.mwai-window {\n  position: fixed;\n  right: 15px;\n  bottom: 15px;\n  width: 400px;\n  z-index: 9999;\n}\n\n.mwai-chat.mwai-window .mwai-header {\n  display: none;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons {\n  display: flex;\n  align-items: center;\n  margin-bottom: 5px;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button {\n  justify-content: center;\n  height: 32px;\n  width: 33px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--mwai-backgroundSecondaryColor);\n  border-radius: var(--mwai-borderRadius);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button:before {\n  transition: all 0.2s ease-out;\n  content: ' ';\n  cursor: pointer;\n  position: absolute;\n  height: 13px;\n  width: 13px;\n  opacity: 0.75;\n  border: 2px solid black;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button:hover:before {\n  width: 16px;\n  height: 16px;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button {\n  margin-left: 5px;\n  justify-content: center;\n  height: 32px;\n  width: 33px;\n  cursor: pointer;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:before {\n  transition: all 0.2s ease-out;\n  transform: translate(16px, 5px) rotate(45deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:after {\n  transition: all 0.2s ease-out;\n  transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:before, .mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:after {\n  content: ' ';\n  cursor: pointer;\n  position: absolute;\n  height: 22px;\n  width: 2px;\n  background: black;\n  opacity: 0.75;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:hover:before {\n  opacity: 1;\n  transform: translate(16px, 5px) rotate(135deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:hover:after {\n  opacity: 1;\n  transform: translate(16px, 5px) rotate(45deg);\n}\n\n.mwai-chat.mwai-window .mwai-content {\n  display: none;\n  opacity: 0;\n  max-height: 40vh;\noverflow: hidden;\n}\n\n.mwai-chat.mwai-window.mwai-bottom-left {\n  bottom: 30px;\n  right: inherit;\n  left: 30px;\n}\n\n.mwai-chat .mwai-open-button {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  transition: all 0.2s ease-out;\n  z-index: 9999;\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n  cursor: pointer;\n}\n\n.mwai-chat.mwai-window.mwai-bottom-left .mwai-open-button {\n  right: inherit;\n  left: 0;\n}\n\n.mwai-chat.mwai-window.mwai-top-right {\n  top: 30px;\n  bottom: inherit;\n  right: 30px;\n}\n\n.mwai-chat.mwai-window.mwai-top-right .mwai-open-button {\n  top: 0;\n  bottom: inherit;\n}\n\n.mwai-chat.mwai-window.mwai-top-left {\n  top: 30px;\n  bottom: inherit;\n  right: inherit;\n  left: 30px;\n}\n\n.mwai-chat.mwai-window.mwai-top-left .mwai-open-button {\n  top: 0;\n  bottom: inherit;\n  right: inherit;\n  left: 0;\n}\n\n.mwai-chat .mwai-gallery {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 5px;\n}\n\n.mwai-chat .mwai-gallery img {\n  width: 100%;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons {\n  margin-bottom: 0px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-resize-button:before {\n  width: 16px;\n  height: 16px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-resize-button:hover:before {\n  width: 13px;\n  height: 13px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-close-button {\n  margin-left: -5px;\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window), .mwai-chat.mwai-fullscreen.mwai-window.mwai-open {\n  position: fixed;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  top: 0 !important;\n  width: inherit;\n  height: inherit;\n  max-height: inherit;\n  max-width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  z-index: 999999;\n  background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window) .mwai-content, .mwai-chat.mwai-fullscreen.mwai-window.mwai-open .mwai-content {\n  height: 100%;\n  max-height: inherit;\n  border-radius: inherit;\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window) .mwai-content .mwai-conversation, .mwai-chat.mwai-fullscreen.mwai-window.mwai-open .mwai-content .mwai-conversation {\n  flex: auto;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-header {\n  display: flex;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-content {\n  display: block;\n  transition: opacity 200ms ease-in-out 0s;\n  opacity: 1;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-open-button {\n  display: none;\n}")}},"Default CSS"),React.createElement(E._,{fullWidth:!0,onClick:function(){a(i,"style")},disabled:!c},"Apply CSS")))},Yo=function(e){var t,n,r,a,o,i,l,c,u,s,f,m,d,p,h,y,v,g,b,E,w,R,x,O=e.settings,S=e.onUpdateSettings;return React.createElement(React.Fragment,null,React.createElement(wr,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,Ve.COMMON.SPACING,":"),React.createElement(Ee.A,{id:"spacing",name:"spacing",value:null!==(t=null==O?void 0:O.spacing)&&void 0!==t?t:"15px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,Ve.COMMON.BORDER_RADIUS,":"),React.createElement(Ee.A,{id:"borderRadius",name:"borderRadius",value:null!==(n=null==O?void 0:O.borderRadius)&&void 0!==n?n:"10px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,Ve.COMMON.FONT_SIZE,":"),React.createElement(Ee.A,{id:"fontSize",name:"fontSize",value:null!==(r=null==O?void 0:O.fontSize)&&void 0!==r?r:"15px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"fontColor",name:"fontColor",value:null!==(a=null==O?void 0:O.fontColor)&&void 0!==a?a:"#FFFFFF",onBlur:S,onEnter:S}),React.createElement(Ar,{id:"fontColor",name:"fontColor",value:null!==(o=null==O?void 0:O.fontColor)&&void 0!==o?o:"#FFFFFF",onChange:S})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.BACK_PRIMARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",style:{flex:1},value:null!==(i=null==O?void 0:O.backgroundPrimaryColor)&&void 0!==i?i:"#fafafa",onBlur:S,onEnter:S}),React.createElement(Ar,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(l=null==O?void 0:O.backgroundPrimaryColor)&&void 0!==l?l:"#fafafa",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.BACK_USER_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundUserColor",name:"backgroundUserColor",style:{flex:1},value:null!==(c=null==O?void 0:O.backgroundSecondaryColor)&&void 0!==c?c:"#0084ff",onBlur:S,onEnter:S}),React.createElement(Ar,{id:"backgroundUserColor",name:"backgroundUserColor",value:null!==(u=null==O?void 0:O.backgroundSecondaryColor)&&void 0!==u?u:"#0084ff",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.BACK_AI_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundAiColor",name:"backgroundAiColor",style:{flex:1},value:null!==(s=null==O?void 0:O.backgroundSecondaryColor)&&void 0!==s?s:"#eee",onBlur:S,onEnter:S}),React.createElement(Ar,{id:"backgroundAiColor",name:"backgroundAiColor",value:null!==(f=null==O?void 0:O.backgroundSecondaryColor)&&void 0!==f?f:"#eee",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.BACK_AI_SECONDARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundAiSecondaryColor",name:"backgroundAiSecondaryColor",style:{flex:1},value:null!==(m=null==O?void 0:O.backgroundSecondaryColor)&&void 0!==m?m:"#ddd",onBlur:S,onEnter:S}),React.createElement(Ar,{id:"backgroundAiSecondaryColor",name:"backgroundAiSecondaryColor",value:null!==(d=null==O?void 0:O.backgroundSecondaryColor)&&void 0!==d?d:"#ddd",onChange:S,onEnter:S})))),React.createElement(Oe.i,null),React.createElement(Se.L,{title:Ve.COMMON.POPUP,isCollapsed:!1}),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,Ve.COMMON.WIDTH,":"),React.createElement(Ee.A,{id:"width",name:"width",value:null!==(p=null==O?void 0:O.width)&&void 0!==p?p:"460px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,Ve.COMMON.MAX_HEIGHT,":"),React.createElement(Ee.A,{id:"maxHeight",name:"maxHeight",value:null!==(h=null==O?void 0:O.maxHeight)&&void 0!==h?h:"40vh",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.AVATAR_MESSAGE_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(y=null==O?void 0:O.iconTextBackgroundColor)&&void 0!==y?y:"#343541",onBlur:S,onEnter:S}),React.createElement(Ar,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(v=null==O?void 0:O.iconTextBackgroundColor)&&void 0!==v?v:"#343541",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.AVATAR_MESSAGE_FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"iconTextColor",name:"iconTextColor",value:null!==(g=null==O?void 0:O.iconTextColor)&&void 0!==g?g:"#FFFFFF",onBlur:S,onEnter:S}),React.createElement(Ar,{id:"iconTextColor",name:"iconTextColor",value:null!==(b=null==O?void 0:O.iconTextColor)&&void 0!==b?b:"#FFFFFF",onChange:S,onEnter:S})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.HEADER_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",style:{flex:1},value:null!==(E=null==O?void 0:O.backgroundHeaderColor)&&void 0!==E?E:"#343541",onBlur:S,onEnter:S}),React.createElement(Ar,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",value:null!==(w=null==O?void 0:O.backgroundHeaderColor)&&void 0!==w?w:"#343541",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.HEADER_BUTTONS_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"headerButtonsColor",name:"headerButtonsColor",style:{flex:1},value:null!==(R=null==O?void 0:O.headerButtonsColor)&&void 0!==R?R:"#FFFFFF",onBlur:S,onEnter:S}),React.createElement(Ar,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(x=null==O?void 0:O.headerButtonsColor)&&void 0!==x?x:"#FFFFFF",onChange:S,onEnter:S}))))))};function Zo(e){return Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(e)}function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach((function(t){Xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Zo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qo=function(e){var t,n,r=e.theme,a=e.updateTheme,o=e.resetTheme,i=e.deleteTheme,l=function(e,t){var n=Wo(Wo({},r.settings),{},Xo({},t,e));a(n,"settings")};return React.createElement(React.Fragment,null,"internal"===r.type&&"chatgpt"===r.themeId&&React.createElement(Do,{settings:null!==(t=r.settings)&&void 0!==t?t:[],onUpdateSettings:l}),"internal"===r.type&&"messages"===r.themeId&&React.createElement(Yo,{settings:null!==(n=r.settings)&&void 0!==n?n:[],onUpdateSettings:l}),"internal"!==r.type&&React.createElement(Vo,{theme:r,onUpdateTheme:a}),React.createElement(Oe.i,null),React.createElement(Se.L,{title:Ve.COMMON.ACTIONS}),React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement(E._,{className:"secondary",onClick:function(){o()}},Ve.COMMON.RESET),React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",disabled:"internal"===r.type,onClick:i},Ve.COMMON.DELETE)))};function Qo(e){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(e)}function Ko(){Ko=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Qo(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Qo(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Jo(e){return function(e){if(Array.isArray(e))return oi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ai(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ti(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Qo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ri(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ni(o,r,a,i,l,"next",e)}function l(e){ni(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ai(e,t){if(e){if("string"==typeof e)return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oi(e,t):void 0}}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ii=wp.element.useState;const li=function(e){var t,n,r=(0,u.NL)(),a=e.onSwitchTheme,o=void 0===a?function(){}:a,i=(t=ii(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||ai(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],c=i[1],s=(0,Ce.a)({queryKey:["themes"],queryFn:an,initialData:j}).data,f=e.currentTheme,m=function(){var e=ri(Ko().mark((function e(t,n){var a,o,i;return Ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),a=ei(ei({},f),{},ti({},n,t)),o=Jo(s),i=o.findIndex((function(e){return e.themeId===f.themeId})),o[i]=a,e.next=8,on(o);case 8:o=e.sent,r.setQueryData(["themes"],o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:c(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=ri(Ko().mark((function e(){var t;return Ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,on([].concat(Jo(s),[{type:"css",name:"New Theme",themeId:"theme-"+gt(),settings:[],style:""}]));case 4:t=e.sent,r.setQueryData(["themes"],t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:c(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=ri(Ko().mark((function e(){var t,n;return Ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t=Jo(s.filter((function(e){return e.themeId!==f.themeId}))),n=t[0],o(n.themeId),e.next=6,on(t);case 6:return e.next=8,r.setQueryData(["themes"],t);case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=ri(Ko().mark((function e(){var t,n;return Ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t=Jo(s),n=t.findIndex((function(e){return e.themeId===f.themeId})),t[n]={type:t[n].type,name:t[n].name,themeId:t[n].themeId,settings:[],style:""},e.next=6,on(t);case 6:return e.next=8,r.setQueryData(["themes"],t);case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(b.c,{inversed:!0,onChange:function(e,t){var n=s.find((function(e){return e.themeId===t.key}));n&&o(n.themeId)},currentTab:null==f?void 0:f.themeId,action:React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary-block",icon:"plus",onClick:d}))},null==s?void 0:s.map((function(e){return React.createElement(b.P,{key:e.themeId,title:e.name,busy:l},React.createElement(qo,{theme:e,updateTheme:m,resetTheme:h,deleteTheme:p}))}))))};var ci=n(3379),ui=n.n(ci),si=n(7795),fi=n.n(si),mi=n(569),di=n.n(mi),pi=n(3565),hi=n.n(pi),yi=n(9216),vi=n.n(yi),gi=n(4589),bi=n.n(gi),Ei=n(9184),wi={};wi.styleTagTransform=bi(),wi.setAttributes=hi(),wi.insert=di().bind(null,"head"),wi.domAPI=fi(),wi.insertStyleElement=vi(),ui()(Ei.Z,wi);const Ri=Ei.Z&&Ei.Z.locals?Ei.Z.locals:void 0;var xi=n(567),Oi={};Oi.styleTagTransform=bi(),Oi.setAttributes=hi(),Oi.insert=di().bind(null,"head"),Oi.domAPI=fi(),Oi.insertStyleElement=vi(),ui()(xi.Z,Oi);const Si=xi.Z&&xi.Z.locals?xi.Z.locals:void 0;function Ti(e){return Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ti(e)}var Ni=["active","disabled","style"];function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ci(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Li.apply(this,arguments)}function Ai(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ti(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ti(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ii=wp.element,ki=Ii.useState,ji=Ii.useMemo,Pi=Ii.useEffect,Mi=Ii.useRef,Di=function(e){var t,n=e.active,r=e.disabled,a=(e.style,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Ni));return Ai(t={display:"inline-block",width:"16px"},"display","flex"),Ai(t,"alignItems","center"),Ai(t,"justifyContent","center"),Ai(t,"animation",n?"pulse 2s infinite":""),Ai(t,"WebkitAnimation",n?"pulse 2s infinite":""),React.createElement("div",Li({active:n?"true":"false",disabled:r},a),React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",dangerouslySetInnerHTML:{__html:'<path d="M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z"/>'}}))},Fi=function(e){return{modCss:ji((function(){return function(t,n){var r=Ri;return e&&"none"!==e.themeId&&"css"!==e.type||(r=null),"messages"===(null==e?void 0:e.themeId)&&(r=Si),Array.isArray(t)||(t=[t]),n&&Object.entries(n).forEach((function(e){var n=_i(e,2),r=n[0];n[1]&&t.push(r)})),t.map((function(t){var n;return r?r[t]?"".concat(t," ").concat(r[t]):(console.warn('The class name "'.concat(t,'" is not defined in the "').concat(null!==(n=null==e?void 0:e.themeId)&&void 0!==n?n:"N/A",'" theme.')),t):t})).join(" ")}}),[e])}};function Gi(e){return 0===e.indexOf("http")}function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}function Ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==Bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Bi(a)?a:String(a)),r)}var a}var Hi=new(function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance)return e.instance;this.chatbots=[],this.filters={},this.actions={},e.instance=this,"undefined"!=typeof window&&(window.MwaiAPI=e.instance)}var t,n;return t=e,n=[{key:"getChatbot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this.chatbots.find((function(t){return t.botId===e||t.customId===e})):this.chatbots[0]}},{key:"addFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;this.filters[e]||(this.filters[e]=[]),this.filters[e].push({callback:t,priority:n}),this.filters[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"applyFilters",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return this.filters[e]?this.filters[e].reduce((function(e,t){return t.callback.apply(t,[e].concat(r))}),t):t}},{key:"addAction",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;this.actions[e]||(this.actions[e]=[]),this.actions[e].push({callback:t,priority:n}),this.actions[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"doAction",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.actions[e]&&this.actions[e].forEach((function(e){e.callback.apply(e,n)}))}}],n&&Ui(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Vi=function(e,t,n){return Hi.applyFilters(e,t,n)},Yi=n(5576);function Zi(){Zi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==qi(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(qi(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wi(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Xi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Wi(o,r,a,i,l,"next",e)}function l(e){Wi(o,r,a,i,l,"throw",e)}i(void 0)}))}}function qi(e){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(e)}var Qi=wp.element,Ki=Qi.useMemo,Ji=Qi.useEffect,$i=Qi.useState,el=function(){var e=new WeakSet;return function(t,n){if("object"===qi(n)&&null!==n){if(e.has(n))throw new Error("Circular reference found. Cancelled.",{key:t,value:n});e.add(n)}return n}};function tl(e,t){return nl.apply(this,arguments)}function nl(){return nl=Xi(Zi().mark((function e(t,n){var r,a,o,i,l,c,u,s,f,m,d,p,h,y,v=arguments;return Zi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.length>2&&void 0!==v[2]?v[2]:null,n){e.next=14;break}return e.prev=2,e.next=5,t.json();case 5:return a=e.sent,r&&console.log("[".concat(r,"] IN: "),a),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(2),console.error("Could not parse the regular response.",{err:e.t0,data}),e.abrupt("return",{success:!1,message:"Could not parse the regular response."});case 14:o=t.body.getReader(),i=new TextDecoder("utf-8"),l="",c="";case 18:return e.next=21,o.read();case 21:if(u=e.sent,s=u.value,f=u.done,l+=i.decode(s,{stream:!0}),!f){e.next=27;break}return e.abrupt("break",68);case 27:m=l.split("\n"),d=0;case 29:if(!(d<m.length-1)){e.next=65;break}if(0===m[d].indexOf("data: ")){e.next=32;break}return e.abrupt("continue",62);case 32:if("live"!==(p=JSON.parse(m[d].replace("data: ",""))).type){e.next=39;break}r&&console.log("[".concat(r," STREAM] LIVE: "),p),c+=p.data,n&&n(c,p.data),e.next=62;break;case 39:if("error"!==p.type){e.next=51;break}return e.prev=40,r&&console.error("[".concat(r," STREAM] ERROR: "),p.data),e.abrupt("return",{success:!1,message:p.data});case 45:return e.prev=45,e.t1=e.catch(40),console.error("Could not parse the 'error' stream.",{err:e.t1,data:p}),e.abrupt("return",{success:!1,message:"Could not parse the 'error' stream."});case 49:e.next=62;break;case 51:if("end"!==p.type){e.next=62;break}return e.prev=52,h=JSON.parse(p.data),r&&console.log("[".concat(r," STREAM] END: "),h),e.abrupt("return",h);case 58:return e.prev=58,e.t2=e.catch(52),console.error("Could not parse the 'end' stream.",{err:e.t2,data:p}),e.abrupt("return",{success:!1,message:"Could not parse the 'end' stream."});case 62:d++,e.next=29;break;case 65:l=m[m.length-1],e.next=18;break;case 68:return e.prev=68,y=JSON.parse(l),r&&console.log("[".concat(r," STREAM] IN: "),y),e.abrupt("return",y);case 74:return e.prev=74,e.t3=e.catch(68),console.error("Could not parse the buffer.",{err:e.t3,buffer:l}),e.abrupt("return",{success:!1,message:"Could not parse the buffer."});case 78:case"end":return e.stop()}}),e,null,[[2,10],[40,45],[52,58],[68,74]])}))),nl.apply(this,arguments)}function rl(e,t,n,r){return al.apply(this,arguments)}function al(){return(al=Xi(Zi().mark((function e(t,n,r,a){var o;return Zi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={"Content-Type":"application/json"},r&&(o["X-WP-Nonce"]=r),a&&(o.Accept="text/event-stream"),e.next=5,fetch("".concat(t),{method:"POST",headers:o,body:JSON.stringify(n,el())});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ol(){return Math.random().toString(36).substring(2)}var il=function(){var e,t,n=(e=$i(!0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];Ji((function(){var e=setTimeout((function(){var e=setInterval((function(){a((function(e){return!e}))}),500);return function(){return clearInterval(e)}}),200);return function(){return clearTimeout(e)}}),[]);var o={opacity:r?1:0,width:"1px",height:"1em",borderLeft:"8px solid",marginLeft:"2px"};return React.createElement("span",{style:o})},ll=function(e){var t,n=e.content,r=e.error,a=e.isStreaming,o=e.baseClass,i=void 0===o?"mwai-output-handler":o,l=null!==(t=r||n)&&void 0!==t?t:"";(l.match(/```/g)||[]).length%2!=0?l+="\n```":a&&(l+="<BlinkingCursor />");var c=Ki((function(){var e=[i];return r&&e.push("mwai-error"),e}),[r]),u=Ki((function(){return{wrapper:"div",forceWrapper:!0,overrides:{BlinkingCursor:{component:il},a:{props:{target:"_blank"}}}}}),[]);return React.createElement(Yi.Z,{options:u,className:c.join(" "),children:l})};function cl(e){return cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(e)}var ul=["children"];function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==cl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==cl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cl(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ml(){ml=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==cl(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(cl(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function dl(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function pl(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){dl(o,r,a,i,l,"next",e)}function l(e){dl(o,r,a,i,l,"throw",e)}i(void 0)}))}}function hl(e){return function(e){if(Array.isArray(e))return gl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||vl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(e,t){if(e){if("string"==typeof e)return gl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gl(e,t):void 0}}function gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bl=wp.element,El=bl.useContext,wl=bl.createContext,Rl=bl.useState,xl=bl.useMemo,Ol=bl.useEffect,Sl=bl.useCallback,Tl="AI: ",Nl=wl(),_l=function(){var e=El(Nl);if(!e)throw new Error("useChatbotContext must be used within a ChatbotContextProvider");return e},Cl=function(e){var t,n,r,a,o,i=e.children,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,ul),c=l.params,u=l.system,s=l.theme,f=l.atts,m=Fi(s).modCss,d=(null==s?void 0:s.settings)||{},p=yl(Rl([]),2),h=p[0],y=p[1],v=yl(Rl(ol()),2),g=v[0],b=v[1],E=yl(Rl(""),2),w=E[0],R=E[1],x=yl(Rl(!1),2),O=x[0],S=x[1],T=yl(Rl(),2),N=T[0],_=T[1],C=u.stream||!1,L=u.botId,A=u.customId,I=u.userData,k=u.sessionId,j=u.contextId,P=u.restNonce,M=u.pluginUrl,D=u.restUrl,F=u.debugMode,G=null!==(t=null==u?void 0:u.typewriter)&&void 0!==t&&t,B=null!==(n=null==u?void 0:u.speech_recognition)&&void 0!==n&&n,U=null!==(r=null==u?void 0:u.speech_synthesis)&&void 0!==r&&r,H=null!==(a=null===(o=c.startSentence)||void 0===o?void 0:o.trim())&&void 0!==a?a:"",V=function(e){var t,n,r,a,o,i,l,c,u,s,f,m,d,p,h,y,v,g,b,E,w,R,x=null!==(t=null===(n=e.guestName)||void 0===n?void 0:n.trim())&&void 0!==t?t:"",O=null!==(r=null===(a=e.textSend)||void 0===a?void 0:a.trim())&&void 0!==r?r:"",S=null!==(o=null===(i=e.textClear)||void 0===i?void 0:i.trim())&&void 0!==o?o:"",T=parseInt(e.textInputMaxLength),N=null!==(l=null===(c=e.textInputPlaceholder)||void 0===c?void 0:c.trim())&&void 0!==l?l:"",_=null!==(u=null===(s=e.textCompliance)||void 0===s?void 0:s.trim())&&void 0!==u?u:"",C=Boolean(e.window),L=Boolean(e.copyButton),A=Boolean(e.fullscreen),I=null!==(f=null===(m=e.icon)||void 0===m?void 0:m.trim())&&void 0!==f?f:"",k=null!==(d=null===(p=e.iconText)||void 0===p?void 0:p.trim())&&void 0!==d?d:"",j=null!==(h=null===(y=e.iconAlt)||void 0===y?void 0:y.trim())&&void 0!==h?h:"",P=null!==(v=null===(g=e.iconPosition)||void 0===g?void 0:g.trim())&&void 0!==v?v:"",M=null!==(b=null===(E=e.aiName)||void 0===E?void 0:E.trim())&&void 0!==b?b:"",D=null!==(w=null===(R=e.userName)||void 0===R?void 0:R.trim())&&void 0!==w?w:"";return{textSend:O,textClear:S,textInputMaxLength:T,textInputPlaceholder:N,textCompliance:_,window:C,copyButton:L,fullscreen:A,localMemory:Boolean(e.localMemory),icon:I,iconText:k,iconAlt:j,iconPosition:P,aiName:M,userName:D,guestName:x}}(c),Y=V.aiName,Z=V.userName,z=V.textSend,W=V.textClear,X=V.textInputMaxLength,q=V.textInputPlaceholder,Q=V.textCompliance,K=V.guestName,J=V.window,$=V.copyButton,ee=V.fullscreen,te=V.localMemory,ne=V.icon,re=V.iconText,ae=V.iconAlt,oe=V.iconPosition,ie=te&&(!!A||!!L),le=ie?"mwai-chat-".concat(A||L):null,ce=xl((function(){var e=ne?Gi(ne)?ne:M+"/images/"+ne:M+"/images/chat-green.svg";return{cssVariables:Object.keys(d).reduce((function(e,t){return e["--mwai-".concat(t)]=d[t],e}),{}),iconUrl:e}}),[ne,M,d]),ue=ce.cssVariables,se=ce.iconUrl;Y=function(e,t,n,r){if(e)e=Gi(e)?React.createElement("div",{className:r("mwai-avatar")},React.createElement("img",{src:e})):React.createElement("div",{className:r("mwai-name-text")},e);else{var a=n||"".concat(t,"/images/chat-openai.svg");e=React.createElement("div",{className:r(["mwai-avatar"])},React.createElement("img",{src:"".concat(a)}))}return e}(Y,M,se,m),Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Guest: ",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return e?Gi(e)?e=React.createElement("div",{className:a(["mwai-avatar"])},React.createElement("img",{src:e})):(e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Guest: ",n=arguments.length>2?arguments[2]:void 0;if(!n||0===Object.keys(n).length)return t;for(var r=0,a=Object.entries(n);r<a.length;r++){var o=_i(a[r],2),i=o[0],l=o[1],c="{".concat(i,"}");e.includes(c)&&(e=e.replace(c,l))}return e||t||"Guest: "}(e,t,n),e=React.createElement("div",{className:a(["mwai-name-text"])},e)):e=n?React.createElement("div",{className:a(["mwai-avatar"])},React.createElement("img",{src:n.AVATAR_URL})):React.createElement("div",{className:a(["mwai-avatar","mwai-svg"])},React.createElement("img",{src:"".concat(r,"/images/avatar-user.svg")})),e}(Z,K,I,M,m),Ol((function(){me()}),[H]);var fe=function(e){le&&localStorage.setItem(le,JSON.stringify({chatId:g,messages:e},el()))},me=function(){if(H){var e=[{id:ol(),role:"assistant",content:H,who:Tl,timestamp:(new Date).getTime()}];y(e)}else y([])},de=Sl((function(){var e=[];if(le&&(e=localStorage.getItem(le)))return e=JSON.parse(e),y(e.messages),void b(e.chatId);me()}),[L]);Ol((function(){de()}),[L]),Ol((function(){if(N){S(!1);var e=hl(h),t=e.length>0?e[e.length-1]:null;if(!N.success)return"assistant"===t.role&&t.isQuerying&&e.pop(),e.pop(),e.push({id:ol(),role:"system",content:N.message,who:Tl,timestamp:(new Date).getTime()}),y(e),void fe(e);if("assistant"===t.role&&t.isQuerying)t.content=Vi("ai.reply",N.reply),N.images&&(t.images=N.images),t.timestamp=(new Date).getTime(),delete t.isQuerying;else if("assistant"===t.role&&t.isStreaming)t.content=Vi("ai.reply",N.reply),N.images&&(t.images=N.images),t.timestamp=(new Date).getTime(),delete t.isStreaming;else{var n={id:ol(),role:"assistant",content:Vi("ai.reply",N.reply),who:Tl,timestamp:(new Date).getTime()};N.images&&(n.images=N.images),e.push(n)}y(e),fe(e)}}),[N]);var pe=Sl(pl(ml().mark((function e(){return ml().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(ol());case 2:le&&localStorage.removeItem(le),me(),R("");case 5:case"end":return e.stop()}}),e)}))),[L]),he=function(){var e=pl(ml().mark((function e(t){var n,r,a,o,i,l,c;return ml().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=3;break}return console.error("AI Engine: There is already a query in progress."),e.abrupt("return");case 3:return"string"!=typeof t&&(t=w),S(!0),R(""),n=[].concat(hl(h),[{id:ol(),role:"user",content:t,who:"User: ",timestamp:(new Date).getTime()}]),fe(n),r=ol(),a=[].concat(hl(n),[{id:r,role:"assistant",content:null,who:Tl,timestamp:null,isQuerying:!C,isStreaming:!!C}]),y(a),o=fl({botId:L,customId:A,session:k,chatId:g,contextId:j,messages:h,newMessage:t,stream:C},f),e.prev=12,F&&console.log("[CHATBOT] OUT: ",o),i=C?function(e){y((function(t){var n=hl(t),a=n.length>0?n[n.length-1]:null;return a&&a.id===r&&(a.content=e,a.timestamp=(new Date).getTime()),n}))}:null,e.next=17,rl("".concat(D,"/mwai-ui/v1/chats/submit"),o,P,C);case 17:return l=e.sent,e.next=20,tl(l,i,F?"CHATBOT":null);case 20:c=e.sent,_(c),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(12),console.error("An error happened in the handling of the chatbot response.",{err:e.t0}),S(!1);case 28:case"end":return e.stop()}}),e,null,[[12,24]])})));return function(t){return e.apply(this,arguments)}}(),ye={setInputText:R,saveMessages:fe,initChatbot:de,setMessages:y,setClientId:b,resetMessages:me,onClear:pe,onSubmit:he},ve={botId:L,customId:A,userData:I,pluginUrl:M,inputText:w,messages:h,busy:O,setBusy:S,typewriter:G,speechRecognition:B,speechSynthesis:U,modCss:m,localMemory:ie,textSend:z,textClear:W,textInputMaxLength:X,textInputPlaceholder:q,textCompliance:Q,aiName:Y,userName:Z,guestName:K,isWindow:J,copyButton:$,fullscreen:ee,icon:ne,iconText:re,iconAlt:ae,iconPosition:oe,cssVariables:ue,iconUrl:se};return React.createElement(Nl.Provider,{value:{state:ve,actions:ye}},i)},Ll=n(8514),Al=n(9911);function Il(e){return Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(e)}function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Il(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Il(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Il(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pl=function(e){var t={width:9,height:9,margin:"5px 0px 0px 5px",borderRadius:"50%",backgroundColor:"#a3a1a1",opacity:1,animation:"bouncing-loader 0.4s infinite alternate"};return React.createElement(React.Fragment,null,React.createElement("style",null,"\n          @keyframes bouncing-loader {\n            to {\n              opacity: 0.6;\n              transform: translateY(-10px);\n            }\n          }\n        "),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:26}},["0.1s","0.2s","0.3s"].map((function(e,n){return React.createElement("div",{key:n,style:jl(jl({},t),{},{animationDelay:e})})}))))};function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dl=wp.element.useState;const Fl=function(e){var t,n,r=e.content,a=e.modCss,o=(t=Dl(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ml(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ml(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1];return React.createElement("div",{className:a("mwai-copy-button",{"mwai-animate":i}),onClick:function(){try{navigator.clipboard.writeText(r),l(!0),setTimeout((function(){l(!1)}),1e3)}catch(e){console.warn("Not allowed to copy to clipboard. Make sure your website uses HTTPS.",{content:r})}}},React.createElement("div",{className:a("mwai-copy-button-one")}),React.createElement("div",{className:a("mwai-copy-button-two")}))};function Gl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ul=wp.element,Hl=Ul.useState,Vl=Ul.useMemo,Yl=Ul.useEffect,Zl=Ul.useRef,zl=function(e){var t,n=e.message,r=e.onRendered,a=void 0===r?function(){}:r,o=_l().state,i=o.copyButton,l=o.userName,c=o.aiName,u=o.modCss,s="user"===n.role,f="assistant"===n.role,m=s?l:f?c:null,d=Gl(Hl(n.isQuerying||n.isStreaming),1)[0],p=n.isQuerying,h=n.isStreaming,y=null!==(t=n.content)&&void 0!==t?t:"";(y.match(/```/g)||[]).length%2!=0?y+="\n```":n.isStreaming&&(y+="<BlinkingCursor />"),Yl((function(){d&&(!d||p||h)||a()}),[d,p,h]);var v=Vl((function(){return{overrides:{BlinkingCursor:{component:il},a:{props:{target:"_blank"}}}}}),[p,h,y]);return p||h&&!y?React.createElement(Pl,null):React.createElement(React.Fragment,null,React.createElement("span",{className:u("mwai-name")},m),React.createElement("span",{className:u("mwai-text")},React.createElement("span",null,s&&y.split("\n").map((function(e,t,n){return React.createElement(React.Fragment,null,e,t===n.length-1?null:React.createElement("br",null))})),!s&&React.createElement(Yi.Z,{children:y,options:v}))),i&&React.createElement(Fl,{content:n.content,modCss:u}))},Wl=function(e){var t=e.message,n=e.onRendered,r=void 0===n?function(){}:n,a=_l().state,o=a.userName,i=a.aiName,l=a.modCss,c="user"===t.role,u="assistant"===t.role,s=c?o:u?i:null,f=Gl(Hl(null==t?void 0:t.images),2),m=f[0],d=f[1];return Yl((function(){r()})),t.isQuerying?React.createElement(Pl,null):React.createElement(React.Fragment,null,React.createElement("span",{className:l("mwai-name")},s),React.createElement("span",{className:l("mwai-text")},React.createElement("div",{className:l("mwai-gallery")},null==m?void 0:m.map((function(e,t){return React.createElement("a",{key:t,href:e,target:"_blank",rel:"noopener noreferrer"},React.createElement("img",{key:t,src:e,onError:function(){return function(e){d((function(t){return t.map((function(t,n){return n===e?"https://via.placeholder.com/600?text=Image+Gone":t}))}))}(t)}}))})))))},Xl=function(e){var t=e.message,n=e.conversationRef,r=e.onRendered,a=void 0===r?function(){}:r,o=_l().state,i=o.copyButton,l=o.userName,c=o.aiName,u=o.modCss,s=Zl(null),f=Gl(Hl(t.isQuerying),1)[0],m=Gl(Hl(!t.isQuerying),2),d=m[0],p=m[1],h=Gl(Hl(!1),2),y=h[0],v=h[1],g="user"===t.role?l:c,b=t.content;return function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Mi();Pi((function(){r.current=t}),[t]),Pi((function(){if(null!==e&&n){var t=setInterval((function(){r.current()}),e);return function(){return clearInterval(t)}}}),[e,n])}(200,(function(){n.current&&!y&&(n.current.scrollTop=n.current.scrollHeight)}),!d),Yl((function(){if(n.current){var e=function(){var e=n.current,t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;v(r-(t+a)>20)};return n.current.addEventListener("scroll",e),function(){n.current&&n.current.removeEventListener("scroll",e)}}}),[n]),Yl((function(){if(f){if(s.current){var e={strings:[b],typeSpeed:Vi("typewriter.speed",15),showCursor:!1,onComplete:function(e){e.cursor&&e.cursor.remove(),a(),p((function(){return!0}))}},t=new Al.Z(s.current,e);return function(){t.destroy()}}}else a()}),[t,t.isQuerying]),React.createElement(React.Fragment,null,t.isQuerying&&React.createElement(Pl,null),!t.isQuerying&&f&&React.createElement(React.Fragment,null,React.createElement("span",{className:u("mwai-name")},g),React.createElement("span",{className:u("mwai-text"),ref:s})),!t.isQuerying&&!f&&React.createElement(React.Fragment,null,React.createElement("span",{className:u("mwai-name")},g),React.createElement("span",{className:u("mwai-text")},React.createElement(Yi.Z,null,b))),d&&i&&React.createElement(Fl,{content:b,modCss:u}))};const ql=function(e){var t,n=e.message,r=e.conversationRef,a=_l().state,o=a.typewriter,i=a.modCss,l=Zl(),c=i("mwai-reply",{"mwai-ai":"assistant"===n.role,"mwai-user":"user"===n.role,"mwai-system":"system"===n.role}),u=(null==n||null===(t=n.images)||void 0===t?void 0:t.length)>0,s=function(){l.current&&(n.isQuerying||l.current.classList.contains("mwai-rendered")||"undefined"!=typeof hljs&&(l.current.classList.add("mwai-rendered"),l.current.querySelectorAll("pre code").forEach((function(e){hljs.highlightElement(e),["hljs","hljs-title","hljs-keyword","hljs-string"].forEach((function(t){e.querySelectorAll("."+t).forEach((function(e){e.classList.remove(t);var n=i(t).split(" ");n&&n.length>1?e.classList.add(n[1]):console.warn("Could not find class for "+t)}))}))}))))};return Vl((function(){return"user"===n.role?React.createElement("div",{ref:l,className:c},React.createElement(zl,{message:n})):"assistant"===n.role?u?React.createElement("div",{ref:l,className:c},React.createElement(Wl,{message:n,conversationRef:r,onRendered:s})):o&&!n.isStreaming?React.createElement("div",{ref:l,className:c},React.createElement(Xl,{message:n,conversationRef:r,onRendered:s})):React.createElement("div",{ref:l,className:c},React.createElement(zl,{message:n,conversationRef:r,onRendered:s})):"system"===n.role?React.createElement("div",{ref:l,className:c},React.createElement(zl,{message:n,conversationRef:r,onRendered:s})):React.createElement("div",null,React.createElement("i",null,"Unhandled role."))}),[n,r,u,o])};function Ql(e){return Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(e)}function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Ql(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ql(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ql(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $l(e){return function(e){if(Array.isArray(e))return ac(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(){ec=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Ql(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ql(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function tc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function nc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||rc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){if(e){if("string"==typeof e)return ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ac(e,t):void 0}}function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oc=wp.element,ic=oc.useState,lc=oc.useMemo,cc=oc.useEffect,uc=oc.useLayoutEffect,sc=oc.useRef;const fc=function(e){var t=e.theme,n=e.style,r=function(){var e=_i(ki(null),2),t=e[0],n=e[1],r=Mi(null);return Pi((function(){return function(){clearInterval(r.current)}}),[]),{timeElapsed:t,startChrono:function(){if(null===r.current){var e=Date.now();r.current=setInterval((function(){var t,r,a,o=Math.floor((Date.now()-e)/1e3);n((t=o,r=Math.floor(t/60),a=t%60,"".concat(r,":").concat(a.toString().padStart(2,"0"))))}),500)}},stopChrono:function(){clearInterval(r.current),r.current=null,n(null)}}}(),a=r.timeElapsed,o=r.startChrono,i=r.stopChrono,l=nc(ic(!1),2),c=l[0],u=l[1],s=nc(ic(!1),2),f=s[0],m=s[1],d=nc(ic(!0),2),p=d[0],h=d[1],y=Fi(t).modCss,v=lc((function(){return"css"===(null==t?void 0:t.type)?null==t?void 0:t.style:null}),[t]),g=sc(),b=sc(),E=sc(!1),w=document.innerWidth<=768,R=_l(),x=R.state,O=R.actions,S=x.botId,T=x.customId,N=x.messages,_=x.inputText,C=x.textInputMaxLength,L=x.textSend,A=x.textClear,I=x.textInputPlaceholder,k=x.textCompliance,j=x.isWindow,P=x.fullscreen,M=x.iconText,D=x.iconAlt,F=x.iconPosition,G=x.cssVariables,B=x.iconUrl,U=x.busy,H=x.speechRecognition,V=O.onClear,Y=O.onSubmit,Z=O.setInputText,z=O.setMessages,W=O.setClientId,X=function(e){var t=_i(ki(!1),2),n=t[0],r=t[1],a=_i(ki(!1),2),o=a[0],i=a[1];return Pi((function(){"undefined"!=typeof window&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window)&&i(!0)}),[]),Pi((function(){if(o){var e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.interimResults=!0,e.continuous=!0;var t=function(e){!function(e){Z((function(){return _+e}))}(Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join(""))};return n?(e.addEventListener("result",t),e.start()):(e.removeEventListener("result",t),e.abort()),function(){e.abort()}}}),[n,o]),{isListening:n,setIsListening:r,speechRecognitionAvailable:o}}(),q=X.isListening,Q=X.setIsListening,K=X.speechRecognitionAvailable,J=sc(x);cc((function(){J.current=x}),[x]);var $=nc(ic([]),2),ee=$[0],te=$[1],ne=function(){var e,t=(e=ec().mark((function e(){var t,n,r,a,o,i;return ec().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee.length>0&&("ask"===(t=ee[0]).action?(n=t.data,r=n.text,n.submit?Y(r):Z(r)):"toggle"===t.action?m(!f):"open"===t.action?m(!0):"close"===t.action?m(!1):"clear"===t.action?V():"setContext"===t.action&&(a=t.data,o=a.chatId,i=a.messages,W(o),z(i)),te((function(e){return e.slice(1)})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){tc(o,r,a,i,l,"next",e)}function l(e){tc(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();cc((function(){ne()}),[ee]),cc((function(){(T||S)&&Hi.chatbots.push({botId:S,customId:T,open:function(){te((function(e){return[].concat($l(e),[{action:"open"}])}))},close:function(){te((function(e){return[].concat($l(e),[{action:"close"}])}))},clear:function(){te((function(e){return[].concat($l(e),[{action:"clear"}])}))},toggle:function(){te((function(e){return[].concat($l(e),[{action:"toggle"}])}))},ask:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];te((function(n){return[].concat($l(n),[{action:"ask",data:{text:e,submit:t}}])}))},setContext:function(e){var t=e.chatId,n=e.messages;te((function(e){return[].concat($l(e),[{action:"setContext",data:{chatId:t,messages:n}}])}))}})}),[]),cc((function(){U?o():(!w&&E.current&&g.current.focus(),i())}),[U]),cc((function(){!w&&f&&g.current.focus(),b.current.scrollTop=b.current.scrollHeight}),[f]),uc((function(){b.current.scrollTop=b.current.scrollHeight}),[N]);var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;E.current=document.activeElement===g.current,e?Y(e):_.length>0&&Y(_)},ae=y("mwai-chat",{"mwai-window":j,"mwai-open":f,"mwai-fullscreen":!p||!j&&P,"mwai-bottom-left":"bottom-left"===F,"mwai-top-right":"top-right"===F,"mwai-top-left":"top-left"===F}),oe=_.length<1&&(null==N?void 0:N.length)>1;return React.createElement(React.Fragment,null,React.createElement("div",{id:"mwai-chatbot-".concat(T||S),className:ae,style:Jl(Jl({},G),n)},v&&React.createElement("style",null,v),j&&React.createElement(React.Fragment,null,React.createElement("div",{className:y("mwai-open-button")},M&&React.createElement("div",{className:y("mwai-icon-text"),onClick:function(){return m(!f)}},M),React.createElement("img",{width:"64",height:"64",alt:D,src:B,className:"no-lightbox",onClick:function(){return m(!f)}})),React.createElement("div",{className:y("mwai-header")},React.createElement("div",{className:y("mwai-buttons")},P&&React.createElement("div",{className:y("mwai-resize-button"),onClick:function(){return h(!p)}}),React.createElement("div",{className:y("mwai-close-button"),onClick:function(){return m(!f)}})))),React.createElement("div",{className:y("mwai-content")},React.createElement("div",{ref:b,className:y("mwai-conversation")},!!N&&N.map((function(e){return React.createElement(ql,{key:e.id,conversationRef:b,message:e})}))),React.createElement("div",{className:y("mwai-input")},React.createElement("div",{className:y("mwai-input-text")},React.createElement(Ll.Z,{ref:g,disabled:U,placeholder:I,value:_,maxLength:C,onCompositionStart:function(){return u(!0)},onCompositionEnd:function(){return u(!1)},onKeyDown:function(e){c||"Enter"!==e.code||e.shiftKey||(e.preventDefault(),e.stopPropagation(),re())},onChange:function(e){return t=e.target.value,q&&Q(!1),void Z(t);var t}}),H&&!w&&React.createElement("div",null,React.createElement(Di,{active:q,disabled:!K||U,className:y("mwai-microphone"),onClick:function(){return Q(!q)}}))),U&&React.createElement("button",{disabled:!0},a&&React.createElement("div",{className:y("mwai-timer")},a)),!U&&React.createElement("button",{disabled:U,onClick:function(){q&&Q(!1),oe?V():re()}},React.createElement("span",null,oe?A:L))),k&&React.createElement("div",{className:y("mwai-compliance"),dangerouslySetInnerHTML:{__html:k}}))))},mc=function(e){return React.createElement(Cl,e,React.createElement(fc,e))};function dc(e){return dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(e)}var pc;function hc(e){return function(e){if(Array.isArray(e))return Oc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){gc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==dc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==dc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===dc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bc(){bc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==dc(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(dc(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ec(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function wc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ec(o,r,a,i,l,"next",e)}function l(e){Ec(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||xc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){if(e){if("string"==typeof e)return Oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oc(e,t):void 0}}function Oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sc=wp.element,Tc=Sc.useMemo,Nc=Sc.useState,_c=F.ZP.div(pc||(pc=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  pre {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #f8fcff;\n    height: 26px;\n    color: #779bb8;\n    margin: 0px;\n    padding: 0px 10px;\n    font-size: 13px;\n    text-align: center;\n    border: 2px solid rgb(210 228 243);\n    border-radius: 8px;\n    font-family: system-ui;\n    cursor: pointer;\n  }\n"]))),Cc=function(e){var t,n=e.currentChatbot,r=Rc(Nc(null),2),a=r[0],o=r[1],i=null!==(t=null==n?void 0:n.botId)&&void 0!==t?t:"default",l=function(){var e=wc(bc().mark((function e(){var t;return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t='[mwai_chatbot_v2 id="'.concat(i,'"]'),navigator.clipboard){e.next=4;break}return alert("Clipboard is not enabled (only works with https)."),e.abrupt("return");case 4:return e.next=6,navigator.clipboard.writeText(t);case 6:o("Copied!"),setTimeout((function(){o(null)}),1e3);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(!n)return null;var c=React.createElement("span",null,'[mwai_chatbot_v2 id="',React.createElement("span",{style:{color:"var(--neko-green)"}},i),'"]');return React.createElement(React.Fragment,null,React.createElement("pre",{onClick:l},!a&&c,a&&React.createElement("span",null,a)))};const Lc=function(e){var t,n,r=(0,u.NL)(),a=e.options,o=e.updateOption,i=e.busy,l=Rc(Nc(!0),2),c=l[0],s=l[1],f=Rc(Nc(!1),2),m=f[0],d=f[1],p=Rc(Nc(!0),2),h=p[0],y=p[1],v=Rc(Nc(!1),2),w=v[0],R=v[1],x=Rc(Nc(null!=(n=localStorage.getItem("mwai-admin-chatbotId"))?n:"default"),2),O=x[0],T=x[1],C=null==a?void 0:a.chatbot_defaults,L=(0,Ce.a)({queryKey:["chatbots"],queryFn:nn,initialData:M}).data,I=(0,Ce.a)({queryKey:["themes"],queryFn:an,initialData:j}).data,D=null!==(t=null==a?void 0:a.botId)&&void 0!==t?t:"none",F=i||w,G=Tc((function(){if(L)return L.find((function(e){return"default"===e.botId}))}),[L]),B=Tc((function(){if(L){var e=L.find((function(e){return e.botId===O}));return function(e){e?localStorage.setItem("mwai-admin-chatbotId",e):localStorage.removeItem("mwai-admin-chatbotId")}(null==e?void 0:e.botId),e}}),[L,O]),U=Tc((function(){return I&&B?I.find((function(e){return e.themeId===(null==B?void 0:B.themeId)})):I.find((function(e){return"chatgpt"===e.themeId}))}),[B,I,L]),H=function(){var e=wc(bc().mark((function e(t,n){var a,o,i;return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("botId"!==n||"default"!==t){e.next=3;break}return alert("You cannot name a chatbot 'default'. Please choose another name."),e.abrupt("return");case 3:if("botId"!==n||""!==t){e.next=6;break}return alert("Your chatbot must have an ID."),e.abrupt("return");case 6:if("botId"!==n||!L.find((function(e){return e.botId===t}))){e.next=9;break}return alert("This chatbot ID is already in use. Please choose another ID."),e.abrupt("return");case 9:return"botId"===n&&t!==B[n]&&T(t),R(!0),a=vc(vc({},B),{},gc({},n,t)),o=hc(L),i=o.findIndex((function(e){return e.botId===B.botId})),o[i]=a,e.next=17,rn(o);case 17:o=e.sent,r.setQueryData(["chatbots"],o),R(!1);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=wc(bc().mark((function e(){var t,n,a,o=arguments;return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:C,R(!0),n="chatbot-"+gt(),e.next=6,rn([].concat(hc(L),[vc(vc({},t),{},{botId:n,name:"New Chatbot"})]));case 6:a=e.sent,r.setQueryData(["chatbots"],a),R(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=wc(bc().mark((function e(){var t;return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),t=hc(L.filter((function(e){return e.botId!==B.botId}))),T("default"),e.next=5,rn(t);case 5:t=e.sent,r.setQueryData(["chatbots"],t),R(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=wc(bc().mark((function e(){var t,n;return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),t=hc(L),n=t.findIndex((function(e){return e.botId===B.botId})),t[n]=vc(vc({},C),{},{botId:B.botId,name:B.name}),e.next=6,rn(t);case 6:t=e.sent,r.setQueryData(["chatbots"],t),R(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=wc(bc().mark((function e(){return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(B);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,fullWidth:!0,style:{margin:10}},React.createElement(xe.H,{contentStyle:{padding:10,marginBottom:-20}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("label",null,Ve.COMMON.SITE_WIDE_CHAT,":"),React.createElement(we.N,{scrolldown:!0,style:{marginLeft:10},name:"botId",disabled:F,value:D,onChange:o},React.createElement(we.Z,{value:"none",label:"None"}),null==L?void 0:L.map((function(e){return React.createElement(we.Z,{key:e.botId,value:e.botId,label:e.name})}))),React.createElement("div",{style:{flex:"auto"}}),React.createElement("label",null,Ve.COMMON.CHATBOT_EDITOR,":"),React.createElement(Ft.Q,{style:{marginLeft:10},disabled:F,onLabel:"",offLabel:"",width:50,checked:c,onChange:s}),React.createElement("label",{style:{marginLeft:10}},Ve.COMMON.THEME_EDITOR,":"),React.createElement(Ft.Q,{style:{marginLeft:10},disabled:F,onLabel:"",offLabel:"",width:50,checked:m,onChange:d}),React.createElement("label",{style:{marginLeft:10}},Ve.COMMON.PREVIEW,":"),React.createElement(Ft.Q,{style:{marginLeft:10},disabled:F,onLabel:"",offLabel:"",width:50,checked:h,onChange:y}),React.createElement(_c,{style:{marginLeft:10}},React.createElement(Cc,{currentChatbot:B}))))),(c||m)&&React.createElement(g.z,{minimal:!0,style:{margin:10}},c&&React.createElement(b.c,{inversed:!0,onChange:function(e,t){T(t.key)},currentTab:O,action:React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary-block",icon:"plus",onClick:function(){return V()}}))},null==L?void 0:L.map((function(e){return React.createElement(b.P,{key:e.botId,title:e.name,busy:w},React.createElement(Mo,{options:a,themes:I,defaultChatbot:G,deleteCurrentChatbot:Y,resetCurrentChatbot:Z,duplicateCurrentChatbot:z,shortcodeParams:e,updateShortcodeParams:H}))}))),c&&m&&React.createElement(Oe.i,{large:!0}),m&&React.createElement(li,{themes:I,options:a,updateOption:o,currentTheme:U,onSwitchTheme:function(e){H(e,"themeId")}})),h&&React.createElement(g.z,{minimal:!0},React.createElement("small",{style:{marginLeft:15,marginBottom:-20}},"Chatbot: ",React.createElement("b",null,null==B?void 0:B.name)," - Theme: ",React.createElement("b",null,null==U?void 0:U.name)),React.createElement("div",{style:{position:"relative",margin:"5px 10px 10px 10px",minHeight:480,borderRadius:5,padding:10,border:"2px dashed rgb(0 0 0 / 20%)",background:"rgb(0 0 0 / 5%)"}},!!B&&React.createElement(mc,{system:{botId:B.botId,userData:_,sessionId:k,restNonce:A,pluginUrl:N,restUrl:S,stream:P,debugMode:null==a?void 0:a.debug_mode,typewriter:null==a?void 0:a.shortcode_chat_typewriter,speech_recognition:null==a?void 0:a.shortcode_chat_speech_recognition,speech_synthesis:null==a?void 0:a.shortcode_chat_speech_synthesis},params:B,theme:U,style:B.window||B.fullscreen?{position:"absolute"}:{}})),React.createElement("div",{style:{marginLeft:10,fontSize:11,lineHeight:"140%",opacity:.5}},"This is the actual chatbot, but there might be some differences when run on your front-end, depending on your theme and the other plugins you use."))))};var Ac=n(9133);function Ic(e){return Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(e)}function kc(e){return function(e){if(Array.isArray(e))return Fc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Dc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Ic(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ic(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ic(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Dc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){if(e){if("string"==typeof e)return Fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fc(e,t):void 0}}function Fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gc(){Gc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Ic(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ic(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Bc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Uc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Bc(o,r,a,i,l,"next",e)}function l(e){Bc(o,r,a,i,l,"throw",e)}i(void 0)}))}}var Hc=wp.element,Vc=Hc.useMemo,Yc=Hc.useState,Zc=Hc.useEffect,zc=[{accessor:"id",visible:!1},{accessor:"time",title:"Time",width:"80px",sortable:!0},{accessor:"env",title:"Env",width:"90px",filters:{type:"checkbox",options:[{value:"chatbot",label:"Chatbot"},{value:"form",label:"Form"},{value:"playground",label:"Playground"}]}},{accessor:"user",title:"User",width:"85px",filters:{type:"text",description:"Type an User ID, or an IP."}},{accessor:"model",title:"Model"},{accessor:"units",title:"Units",width:"65px",align:"right",sortable:!0},{accessor:"price",title:"Price",width:"85px",align:"right",sortable:!0}],Wc=function(){var e=Uc(Gc().mark((function e(t){var n;return Gc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.offset=(t.page-1)*t.limit,e.next=3,(0,R.PV)("".concat(T,"/system/logs/list"),{nonce:A,method:"POST",json:t});case 3:return n=e.sent,e.abrupt("return",n?{total:n.total,logs:n.logs}:{total:0,logs:[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xc=function(){var e=Uc(Gc().mark((function e(){var t,n,r=arguments;return Gc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:[],e.next=3,(0,R.PV)("".concat(T,"/system/logs/delete"),{nonce:A,method:"POST",json:{logIds:t}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const qc=function(e){var t=e.setSelectedLogIds,n=e.selectedLogIds,r=(0,u.NL)(),a=Mc(Yc(!1),2),o=a[0],i=a[1],l=ct(I).getModelName,c=Mc(Yc((function(){return zc.filter((function(e){return e.filters})).map((function(e){return{accessor:e.accessor,value:[]}}))})),2),s=c[0],f=c[1],m=Mc(Yc({filters:s,sort:{accessor:"time",by:"desc"},page:1,limit:20}),2),d=m[0],p=m[1],h=(0,Ce.a)({queryKey:["logs",d],queryFn:function(){return Wc(d)},keepPreviousData:!0}),y=h.isFetching,v=h.data;Zc((function(){p(Pc(Pc({},d),{},{filters:s}))}),[s]);var g=Vc((function(){return(null==v?void 0:v.total)||0}),[v]),b=Vc((function(){return null!=v&&v.logs?null==v?void 0:v.logs.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t=yt(e.time),n=vt(e.userId,e.ip),r=Math.round(1e3*e.price)/1e3,a=React.createElement(React.Fragment,null,"∞");return e.price>=.001&&(a=React.createElement("b",null,"$",r.toFixed(3))),e.price>=.01&&(a=React.createElement("b",null,"$",r.toFixed(2))),e.price>=.1&&(a=React.createElement("b",{style:{color:"red"}},"$",r.toFixed(2))),{id:e.id,env:React.createElement("div",null,e.env,React.createElement("br",null),React.createElement("small",null,e.session)),user:n,model:React.createElement("div",null,React.createElement("span",{title:e.model},l(e.model)),React.createElement("br",null),React.createElement("small",null,e.apiSrv," (key: ",e.apiOwn,")")),units:React.createElement("div",{style:{textAlign:"right"}},e.units,React.createElement("br",null),React.createElement("small",null,e.type)),price:React.createElement(React.Fragment,null,a,React.createElement("br",null),React.createElement("small",null,"$",e.price)),time:t}})):[]}),[v]),R=function(){var e=Uc(Gc().mark((function e(){return Gc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),n.length){e.next=8;break}if(window.confirm(Ve.ALERTS.ARE_YOU_SURE)){e.next=5;break}return i(!1),e.abrupt("return");case 5:return e.next=7,Xc();case 7:r.invalidateQueries({queryKey:["logs"]});case 8:return e.next=10,Xc(n);case 10:t([]),r.invalidateQueries({queryKey:["logs"]}),i(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(w.v,{className:"primary",title:Ve.COMMON.QUERIES,action:React.createElement(React.Fragment,null,React.createElement("div",null,React.createElement(E._,{className:"secondary",style:{marginLeft:5},disabled:y,onClick:function(){r.invalidateQueries({queryKey:["logs"]})}},Ve.COMMON.REFRESH),n.length>0&&React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",disabled:!1,onClick:R},n.length>1?Ve.COMMON.DELETE_SELECTED:Ve.COMMON.DELETE)),!n.length&&React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",disabled:!1,onClick:R},Ve.COMMON.DELETE_ALL))))},React.createElement(Bt.a,{busy:y||o,onSelectRow:function(e){t([e])},onSelect:function(e){t([].concat(kc(n),kc(e)))},onUnselect:function(e){t(kc(null==n?void 0:n.filter((function(t){return!e.includes(t)}))))},selectedItems:n,sort:d.sort,onSortChange:function(e,t){p(Pc(Pc({},d),{},{sort:{accessor:e,by:t}}))},filters:s,onFilterChange:function(e,t){var n=[].concat(kc(s.filter((function(t){return t.accessor!==e}))),[{accessor:e,value:t}]);f(n)},data:b,columns:zc}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10,marginBottom:-5}},React.createElement("div",null),React.createElement("div",null,React.createElement("div",{style:{display:"flex",flexDirection:"row"}},React.createElement(Vt.Q,{currentPage:d.page,limit:d.limit,total:g,onClick:function(e){p(Pc(Pc({},d),{},{page:e}))}}))))))};function Qc(e){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(e)}function Kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(n),!0).forEach((function(t){$c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Qc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Qc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nu(){nu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Qc(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Qc(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ru(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function au(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ru(o,r,a,i,l,"next",e)}function l(e){ru(o,r,a,i,l,"throw",e)}i(void 0)}))}}var ou=wp.element,iu=ou.useMemo,lu=ou.useState,cu=function(){var e=au(nu().mark((function e(t){var n;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,(0,R.PV)("".concat(T,"/system/logs/meta"),{nonce:A,method:"POST",json:{logId:t,metaKeys:["query","reply"]}});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const uu=function(e){var t,n=e.options,r=e.updateOption,a=e.busy,o=eu(lu([]),2),i=o[0],l=o[1],c=eu(lu("users"),2),u=c[0],s=c[1],f=iu((function(){return 1===i.length?i[0]:null}),[i]),m=null==n?void 0:n.limits,d=null==n?void 0:n.default_limits,p=(0,Ce.a)({queryKey:["logsMeta",f],queryFn:function(){return cu(f)},staleTime:864e5,keepPreviousData:!0}),y=p.isFetching,v=p.data,x=function(){var e=au(nu().mark((function e(t,n){var a;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Jc(Jc({},m),{},$c({},n,t)),e.next=3,r(a,"limits");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=iu((function(){return null!=m&&m[u]?null==m?void 0:m[u]:{credits:1,creditType:"price",timeFrame:"month",isAbsolute:!1,overLimitMessage:"You have reached the limit.",ignoredUsers:""}}),[m,u]),S=function(){var e=au(nu().mark((function e(t,n){var a,o;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"credits"===n&&(t=Math.max(0,t)),a=Jc(Jc({},O),{},$c({},n,t)),o=Jc(Jc({},m),{},$c({},u,a)),e.next=5,r(o,"limits");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=au(nu().mark((function e(){return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(d,"limits");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=iu((function(){return Array.isArray(v)?null:v}),[v]);return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,style:{flex:2.5}},React.createElement(qc,{selectedLogIds:i,setSelectedLogIds:l})),React.createElement(g.z,{minimal:!0},f&&React.createElement(React.Fragment,null,React.createElement(Oe.i,{large:!0}),React.createElement(b.c,{inversed:!0,style:{marginRight:10,marginLeft:10}},React.createElement(b.P,{title:"Query"},React.createElement("div",{style:{height:380,overflow:"auto",maxHeight:380}},y&&React.createElement("i",{style:{color:"gray"}},"Loading..."),!y&&!N&&React.createElement("i",{style:{color:"gray"}},Ve.COMMON.DATA_NOT_AVAILABLE),!y&&N&&React.createElement(Ac.he,{value:N.query,indentWidth:2,displayDataTypes:!1,displayObjectSize:!1,displayArrayKey:!1,enableClipboard:!1,style:{fontSize:12}}))),React.createElement(b.P,{title:"Reply"},React.createElement("div",{style:{height:380,overflow:"auto",maxHeight:380}},y&&React.createElement("i",{style:{color:"gray"}},"Loading..."),!y&&!N&&React.createElement("i",{style:{color:"gray"}},Ve.COMMON.DATA_NOT_AVAILABLE),!y&&N&&React.createElement(Ac.he,{value:N.reply,indentWidth:2,displayDataTypes:!1,displayObjectSize:!1,displayArrayKey:!1,enableClipboard:!1,style:{fontSize:12}}))))),React.createElement(wr,null,React.createElement(w.v,{className:"primary",busy:a,title:"Limits",style:{flex:1},action:React.createElement(E._,{className:"danger",onClick:T},"Reset Limits")},React.createElement(h.P,{name:"enabled",label:Ve.STATISTICS.ENABLE_LIMITS,checked:null==m?void 0:m.enabled,value:"1",onChange:x}),React.createElement(Oe.i,null),React.createElement(Gt.h,{value:u,busy:a,onChange:function(e){s(e)}},React.createElement(Gt.S,{title:Ve.COMMON.USERS,value:"users",disabled:!(null!=m&&m.enabled)}),React.createElement(Gt.S,{title:Ve.COMMON.GUESTS,value:"guests"}),React.createElement(Gt.S,{title:Ve.COMMON.SYSTEM,value:"system"})),"userId"===(null==m?void 0:m.target)&&React.createElement(React.Fragment,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Message for Guests:"),React.createElement(Ee.A,{id:"guestMessage",name:"guestMessage",disabled:!(null!=m&&m.enabled),value:null==m?void 0:m.guestMessage,onEnter:S,onBlur:S})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.CREDITS,":"),React.createElement(Ee.A,{id:"credits",name:"credits",type:"number",min:"0",max:"1000000",disabled:!(null!=m&&m.enabled),value:O.credits,onEnter:S,onBlur:S})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.TYPE,":"),React.createElement(we.N,{scrolldown:!0,id:"creditType",name:"creditType",disabled:!(null!=m&&m.enabled),value:O.creditType,onChange:S},React.createElement(we.Z,{key:"queries",id:"queries",value:"queries",label:"Queries"}),React.createElement(we.Z,{key:"units",id:"units",value:"units",label:"Tokens"}),React.createElement(we.Z,{key:"price",id:"price",value:"price",label:"Dollars"})))),0!==O.credits&&React.createElement("p",null,"If you want to apply variable amount of credits, ",React.createElement("a",{href:"https://meowapps.com/ai-engine/faq/#limits",target:"_blank"},"click here"),"."),0!==O.credits&&"price"===O.creditType&&React.createElement("p",null,"The dollars represent the budget you spent through OpenAI."),0===O.credits&&React.createElement("p",null,"Since there are no credits, the Message for No Credits Message with be displayed."),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.TIMEFRAME,":"),React.createElement(we.N,{scrolldown:!0,id:"timeFrame",name:"timeFrame",disabled:!(null!=m&&m.enabled),value:O.timeFrame,onChange:S},React.createElement(we.Z,{key:"second",id:"second",value:"second",label:"Second"}),React.createElement(we.Z,{key:"minute",id:"minute",value:"minute",label:"Minute"}),React.createElement(we.Z,{key:"hour",id:"hour",value:"hour",label:"Hour"}),React.createElement(we.Z,{key:"day",id:"day",value:"day",label:"Day"}),React.createElement(we.Z,{key:"week",id:"week",value:"week",label:"Week"}),React.createElement(we.Z,{key:"month",id:"month",value:"month",label:"Month"}),React.createElement(we.Z,{key:"year",id:"year",value:"year",label:"Year"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.ABSOLUTE,":"),React.createElement(h.P,{name:"isAbsolute",label:"Yes",disabled:!(null!=m&&m.enabled),checked:O.isAbsolute,value:"1",onChange:S}))),O.isAbsolute&&React.createElement("p",null,(0,R.io)(Ve.STATISTICS.ABSOLUTE_HELP)),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.STATISTICS.NO_CREDITS_MESSAGE,":"),React.createElement(Ee.A,{id:"overLimitMessage",name:"overLimitMessage",disabled:!(null!=m&&m.enabled),value:O.overLimitMessage,onEnter:S,onBlur:S}))),"users"===u&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.STATISTICS.FULL_ACCESS_USERS,":"),React.createElement(we.N,{scrolldown:!0,id:"ignoredUsers",name:"ignoredUsers",disabled:!(null!=m&&m.enabled),value:null==m||null===(t=m.users)||void 0===t?void 0:t.ignoredUsers,description:"",onChange:S},React.createElement(we.Z,{key:"none",id:"none",value:"",label:Ve.COMMON.NONE}),React.createElement(we.Z,{key:"editor",id:"editor",value:"administrator,editor",label:Ve.COMMON.EDITORS_ADMINS}),React.createElement(we.Z,{key:"admin",id:"admin",value:"administrator",label:Ve.COMMON.ADMINS_ONLY})))))))))};function su(e){return su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(e)}function fu(){fu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==su(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(su(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function mu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var du=wp.element;du.useMemo,du.useState,du.useEffect;const pu=function(e){e.options,e.setOptions;var t=function(){var e,t=(e=fu().mark((function e(){var t,n,r,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("Enter the Post ID you want to retrieve the content from.")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,dt(null,null,t);case 5:n=e.sent,console.log("Data for Post ID ".concat(t),n),null!=n&&n.content&&(r=n.content.trim().replace(/<[^>]*>?/gm,""),a=r.split(" ")[0],o=r.split(" ").pop(),console.log("Content First Word: ".concat(a)),console.log("Content Last Word: ".concat(o)));case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mu(o,r,a,i,l,"next",e)}function l(e){mu(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("p",null,"Those are only for developers, for debugging purposes."),React.createElement(w.v,null,React.createElement("p",null,"This button will display the content of the post, as seen by AI Engine, in your Developer Tools Console. That allows you to check what AI Engine uses when using Content Aware, Embeddings Sync, etc."),React.createElement(E._,{onClick:t},"Get Content")))};function hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const yu=function(e){var t=e.environments,n=e.updateEnvironment,r=e.updateOption,a=e.busy;return React.createElement("div",{style:{padding:"0px 10px 20px 10px",marginTop:-5}},React.createElement(m.O,{h2:!0,style:{color:"white"}},"Embeddings Environments"),React.createElement(b.c,{inversed:!0,keepTabOnReload:!0,style:{marginTop:-5},action:React.createElement(E._,{className:"primary-block",icon:"plus",onClick:function(){var e,n=[].concat(function(e){if(Array.isArray(e))return hu(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return hu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{name:"New Environment",type:"pinecone",apikey:"",server:"",indexes:[],namespaces:[]}]);r(n,"embeddings_envs")}})},t.map((function(e){var o;return React.createElement(b.P,{key:e.id,title:e.name,busy:a},React.createElement(d.r,{title:Ve.COMMON.NAME},React.createElement(Ee.A,{name:"name",value:e.name,onBlur:function(t){return n(e.id,{name:t})}})),React.createElement(d.r,{title:Ve.COMMON.TYPE},React.createElement(we.N,{scrolldown:!0,name:"type",value:e.type,onChange:function(t){return n(e.id,{type:t})}},React.createElement(we.Z,{value:"pinecone",label:"Pinecone"}))),React.createElement(d.r,{title:Ve.COMMON.API_KEY},React.createElement(Ee.A,{name:"apikey",value:e.apikey,description:(0,R.io)(Ve.COMMON.EMBEDDINGS_APIKEY_HELP),onBlur:function(t){return n(e.id,{apikey:t})}})),React.createElement(d.r,{title:Ve.COMMON.SERVER},React.createElement(we.N,{scrolldown:!0,name:"server",value:e.server,description:(0,R.io)(Ve.COMMON.SERVER_HELP),onChange:function(t){n(e.id,{server:t})}},React.createElement(we.Z,{value:"gcp-starter",label:"gcp-starter",description:(0,R.io)(Ve.EMBEDDINGS.NO_NAMESPACE_SUPPORT)}),React.createElement(we.Z,{value:"us-east1-gcp",label:"us-east1-gcp"}),React.createElement(we.Z,{value:"us-east4-gcp",label:"us-east4-gcp"}),React.createElement(we.Z,{value:"us-west1-gcp",label:"us-west1-gcp"}),React.createElement(we.Z,{value:"us-west1-gcp-free",label:"us-west1-gcp-free"}),React.createElement(we.Z,{value:"us-west4-gcp",label:"us-west4-gcp"}),React.createElement(we.Z,{value:"us-west4-gcp-free",label:"us-west4-gcp-free"}),React.createElement(we.Z,{value:"us-east-1-aws",label:"us-east-1-aws"}),React.createElement(we.Z,{value:"us-west-1-aws",label:"us-west-1-aws"}),React.createElement(we.Z,{value:"us-central1-gcp",label:"us-central1-gcp"}),React.createElement(we.Z,{value:"northamerica-northeast1-gcp",label:"northamerica-northeast1-gcp"}),React.createElement(we.Z,{value:"eu-west1-gcp",label:"eu-west1-gcp"}),React.createElement(we.Z,{value:"asia-northeast1-gcp",label:"asia-northeast1-gcp"}),React.createElement(we.Z,{value:"asia-southeast1-gcp-free",label:"asia-southeast1-gcp-free"}))),React.createElement(d.r,{title:Ve.COMMON.NAMESPACES},React.createElement(Ee.A,{isCommaSeparatedArray:!0,name:"namespaces",value:e.namespaces,disabled:"gcp-starter"===e.server,description:(0,R.io)(Ve.COMMON.NAMESPACES_HELP),onBlur:function(t){n(e.id,{namespaces:t})}})),0===(null==e||null===(o=e.indexes)||void 0===o?void 0:o.length)&&React.createElement(React.Fragment,null,React.createElement(Ne.S,{variant:"danger"},"Currently, AI Engine does not know about the indexes for this ",React.createElement("b",null,"API Key")," and this ",React.createElement("b",null,"Server"),". Visit the ",React.createElement("b",null,"Embeddings")," tab, then ",React.createElement("b",null,"Refresh")," your indexes or ",React.createElement("b",null,"Add")," a new one."),React.createElement(Oe.i,null)),React.createElement(Se.F,null,React.createElement(Se.L,{title:Ve.COMMON.ACTIONS},React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",onClick:function(){return function(e){if(1!==t.length){var n=t.filter((function(t){return t.id!==e}));r(n,"embeddings_envs")}else alert("You can't delete the last environment.")}(e.id)}},Ve.COMMON.DELETE)))))}))))};function vu(e){return vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(e)}function gu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Eu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bu(e){return function(e){if(Array.isArray(e))return wu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Eu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eu(e,t){if(e){if("string"==typeof e)return wu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wu(e,t):void 0}}function wu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ru(){Ru=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==vu(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(vu(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){Su(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Su(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==vu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==vu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Nu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Tu(o,r,a,i,l,"next",e)}function l(e){Tu(o,r,a,i,l,"throw",e)}i(void 0)}))}}var _u=wp.element,Cu=_u.useMemo,Lu=_u.useState,Au=_u.useEffect,Iu=["chat-robot-1.svg","chat-robot-2.svg","chat-robot-3.svg","chat-robot-4.svg","chat-robot-5.svg","chat-robot-6.svg","chat-color-blue.svg","chat-color-green.svg","chat-color-red.svg","chat-traditional-1.svg","chat-traditional-2.svg","chat-traditional-3.svg"],ku=function(){var e=Nu(Ru().mark((function e(){var t,n;return Ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/openai/incidents"),{nonce:A});case 2:if(null==(t=e.sent)||!t.incidents){e.next=6;break}return n=t.incidents.map((function(e){var t=e.date,n=(t=new Date(1e3*t)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});return Ou(Ou({},e),{},{date:n})})),e.abrupt("return",n);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ju=function(e){var t=e.updateOption,n=e.deployments,r=e.models,a=function(e,r,a){var o=JSON.parse(JSON.stringify(n));o[e][r]=a,t(o,"openai_azure_deployments")};return React.createElement(d.r,{title:Ve.COMMON.OPENAI_AZURE_DEPLOYMENTS},n.map((function(e,o){return React.createElement("div",{key:o,style:{display:"flex",marginBottom:10}},React.createElement(Ee.A,{style:{flex:1},value:e.name,placeholder:Ve.COMMON.OPENAI_AZURE_DEPLOYMENT_NAME,onBlur:function(e){return a(o,"name",e)},onEnter:function(e){return a(o,"name",e)}}),React.createElement(we.N,{style:{flex:1,marginLeft:10},scrolldown:!0,id:"model",name:"model",value:e.model,onChange:function(e){return a(o,"model",e)}},r.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})}))),React.createElement(E._,{rounded:!0,isSmall:!0,style:{marginLeft:10,height:30},icon:"trash",onClick:function(){return function(e){var r=bu(n);r.splice(e,1),t(r,"openai_azure_deployments")}(o)}}))})),React.createElement(E._,{fullWidth:!0,icon:"plus",onClick:function(){t([].concat(bu(n),[{name:"",model:""}]),"openai_azure_deployments")}}))};const Pu=function(){var e,t,n,r,a,o,i,l,c,u,s,f,m,v,S,_,k,j,P,M=gu(Lu(I),2),D=M[0],F=M[1],G=gu(Lu(null),2),B=G[0],U=G[1],H=gu(Lu(!1),2),V=H[0],Y=H[1],Z=ct(D),z=Z.completionModels,W=Z.coreModels,X=Z.isFineTunedModel,q=Z.getModel,Q=null==D?void 0:D.shortcode_chat_default_params,K=(null==D?void 0:D.shortcode_chat_params)||{},J=null==D?void 0:D.shortcode_chat_styles,$=null==D?void 0:D.shortcode_chat_params_override,ee=null==D?void 0:D.shortcode_chat_inject,te=null==D?void 0:D.module_suggestions,ne=null==D?void 0:D.module_woocommerce,re=null==D?void 0:D.module_forms,ae=null==D?void 0:D.module_finetunes,oe=null==D?void 0:D.module_legacy_finetunes,ie=null==D?void 0:D.module_statistics,le=null==D?void 0:D.module_playground,ce=null==D?void 0:D.module_generator_content,ue=null==D?void 0:D.module_generator_images,se=null==D?void 0:D.module_moderation,fe=null==D?void 0:D.module_embeddings,me=null==D?void 0:D.module_audio,de=null==D?void 0:D.module_devtools,pe=null==D?void 0:D.shortcode_chat,he=null==D?void 0:D.shortcode_chat_formatting,ye=null==D?void 0:D.openai_service,ve=null!=D&&D.openai_apikey?null==D?void 0:D.openai_apikey:"",ge=null!=D&&D.openai_azure_endpoint?null==D?void 0:D.openai_azure_endpoint:"",be=null!=D&&D.openai_azure_apikey?null==D?void 0:D.openai_azure_apikey:"",Le=null!=D&&D.openai_azure_deployments?null==D?void 0:D.openai_azure_deployments:[],Ae=null!=D&&D.embeddings_envs?null==D?void 0:D.embeddings_envs:[],Ie=null==D?void 0:D.shortcode_chat_syntax_highlighting,ke=null==D?void 0:D.shortcode_chat_typewriter,je=null==D?void 0:D.shortcode_chat_discussions,Pe=null==D?void 0:D.shortcode_chat_legacy,Me=null==D?void 0:D.shortcode_forms_legacy,De=null==D?void 0:D.shortcode_chat_stream,Fe=null==D?void 0:D.speech_recognition,Ge=null==D?void 0:D.speech_synthesis,Ue=null==D?void 0:D.debug_mode,He=null==D?void 0:D.public_api,Ye=null==D?void 0:D.statistics_data,Ze=null==D?void 0:D.intro_message,ze=null==D?void 0:D.dynamic_max_tokens,We=null==D?void 0:D.dynamic_max_messages,Xe=null==D?void 0:D.context_max_tokens,qe=null==D?void 0:D.assistants_model,Qe=null==D?void 0:D.banned_ips,Ke=null==D?void 0:D.banned_words,Je=null!==(e=null==D?void 0:D.admin_bar)&&void 0!==e?e:["settings"],$e=null==D?void 0:D.resolve_shortcodes,et=null!==(t="chat"===K.mode)&&void 0!==t?t:"chat",tt=null!==(n="images"===K.mode)&&void 0!==n&&n,nt=null!=J&&J.icon?null==J?void 0:J.icon:"chat-color-green.svg",rt=(null==nt?void 0:nt.startsWith("https://"))||(null==nt?void 0:nt.startsWith("http://")),at=rt?nt:"".concat(N,"/images/").concat(nt),ot=(0,Ce.a)({queryKey:["openAI_status"],queryFn:ku}),lt=ot.isLoading,ut=ot.data,st=X(K.model),ft=q(K.model),mt=K.content_aware,dt=K.context&&K.context.includes("{CONTENT}"),pt=Cu((function(){return null==ut?void 0:ut.filter((function(e){return new Date(e.date)>new Date(Date.now()-864e5)})).length}),[ut]),ht=V,yt=Cu((function(){var e={};if($)return e;for(var t in Q)Q[t]!==K[t]&&(e[t]=K[t]);return et&&(delete e.mode,delete e.max_results),tt&&(delete e.context,delete e.content_aware,delete e.casually_fine_tuned,delete e.model,delete e.max_tokens,delete e.temperature),e}),[$,Q,K]),vt=Cu((function(){var e=[];for(var t in yt)if(void 0!==K[t]){var n=K[t];n&&"string"==typeof n&&n.includes('"')&&(n=n.replace(/"/g,"'")),n&&"string"==typeof n&&n.includes("\n")&&(n=n.replace(/\n/g,"\\n")),n&&"string"==typeof n&&n.includes("[")&&(n=n.replace(/\[/g,"&#91;")),n&&"string"==typeof n&&n.includes("]")&&(n=n.replace(/\]/g,"&#93;")),e.push("".concat(t,'="').concat(n,'"'))}var r=e.join(" ");return"[mwai_chat"+(r?" ".concat(r):"")+"]"}),[yt]),gt=function(){var e=Nu(Ru().mark((function e(){var t;return Ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/settings/list"),{method:"GET",nonce:A});case 4:t=e.sent,F(t.options),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(Ve.ERROR.GETTING_OPTIONS,null!==e.t0&&void 0!==e.t0&&e.t0.message?{message:e.t0.message}:{err:e.t0}),e.t0.message&&U(React.createElement(React.Fragment,null,React.createElement("div",null,Ve.ERROR.GETTING_OPTIONS),React.createElement("small",null,(0,R.io)(Ve.ERROR.CHECK_YOUR_CONSOLE))));case 12:return e.prev=12,Y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Nu(Ru().mark((function e(t,n){var r,a;return Ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ou(Ou({},D),{},Su({},n,t)),JSON.stringify(r)!==JSON.stringify(D)){e.next=3;break}return e.abrupt("return");case 3:return Y(!0),e.prev=4,e.next=7,(0,R.PV)("".concat(T,"/settings/update"),{method:"POST",nonce:A,json:{options:r}});case 7:a=e.sent,F(a.options),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(Ve.ERROR.UPDATING_OPTIONS,null!==e.t0&&void 0!==e.t0&&e.t0.message?{message:e.t0.message}:{err:e.t0}),e.t0.message&&U(React.createElement(React.Fragment,null,React.createElement("div",null,Ve.ERROR.UPDATING_OPTIONS),React.createElement("small",null,(0,R.io)(Ve.ERROR.CHECK_YOUR_CONSOLE))));case 15:return e.prev=15,Y(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(t,n){return e.apply(this,arguments)}}(),Et=function(){var e=Nu(Ru().mark((function e(t,n){var r;return Ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Ae.map((function(e){return e.id===t?Ou(Ou({},e),n):e})),bt(r,"embeddings_envs");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),wt=function(){var e=Nu(Ru().mark((function e(){var t;return Ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm(Ve.ALERTS.ARE_YOU_SURE)){e.next=2;break}return e.abrupt("return");case 2:return Y(!0),e.prev=3,e.next=6,(0,R.PV)("".concat(T,"/settings/reset"),{method:"POST",nonce:A});case 6:t=e.sent,F(t.options),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(Ve.ERROR.UPDATING_OPTIONS,null!==e.t0&&void 0!==e.t0&&e.t0.message?{message:e.t0.message}:{err:e.t0}),e.t0.message&&U(React.createElement(React.Fragment,null,React.createElement("div",null,Ve.ERROR.UPDATING_OPTIONS),React.createElement("small",null,(0,R.io)(Ve.ERROR.CHECK_YOUR_CONSOLE))));case 14:return e.prev=14,Y(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)}}();Au((function(){"chat"!==(null==ft?void 0:ft.mode)&&K.embeddings_index&&Rt("","embeddings_index")}),[K]);var Rt=function(){var e=Nu(Ru().mark((function e(t,n){var r;return Ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ou(Ou({},K),{},Su({},n,t)),e.next=3,bt(r,"shortcode_chat_params");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xt=function(){var e=Nu(Ru().mark((function e(t,n){var r;return Ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return r=Ou(Ou({},J),{},Su({},n,t)),e.next=4,bt(r,"shortcode_chat_styles");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ot=function(){var e=Nu(Ru().mark((function e(t){var n;return Ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("http://")&&!t.startsWith("https://")){e.next=6;break}return n=Ou(Ou({},J),{},{icon:t}),e.next=4,bt(n,"shortcode_chat_styles");case 4:e.next=7;break;case 6:alert("Please enter a valid URL.");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=Nu(Ru().mark((function e(){return Ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt(Q,"shortcode_chat_params");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tt=function(){var e=Nu(Ru().mark((function e(){return Ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt({},"shortcode_chat_styles");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=React.createElement(d.r,{title:Ve.COMMON.ASSISTANTS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"module_suggestions",label:Ve.COMMON.POSTS_SUGGESTIONS,value:"1",checked:te,description:Ve.COMMON.POSTS_SUGGESTIONS_HELP,onChange:bt}),React.createElement(h.P,{name:"module_woocommerce",label:Ve.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR,value:"1",checked:ne,description:Ve.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR_HELP,onChange:bt}))),_t=React.createElement(d.r,{title:Ve.COMMON.GENERATORS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"module_generator_content",label:Ve.COMMON.CONTENT_GENERATOR,value:"1",checked:ce,description:Ve.COMMON.CONTENT_GENERATOR_HELP,onChange:bt}),React.createElement(h.P,{name:"module_generator_images",label:Ve.COMMON.IMAGES_GENERATOR,value:"1",checked:ue,description:Ve.COMMON.IMAGES_GENERATOR_HELP,onChange:bt}))),Ct=React.createElement(d.r,{title:Ve.COMMON.PLAYGROUND},React.createElement(h.P,{name:"module_playground",label:Ve.COMMON.ENABLE,value:"1",checked:le,description:Ve.COMMON.PLAYGROUND_HELP,onChange:bt})),Lt=React.createElement(d.r,{title:React.createElement(React.Fragment,null,Ve.COMMON.FORMS,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_forms",label:Ve.COMMON.ENABLE,value:"1",checked:re,requirePro:!0,isPro:L,description:Ve.COMMON.FORMS_HELP,onChange:bt})),At=React.createElement(d.r,{title:Ve.COMMON.FINETUNES},React.createElement(h.P,{name:"module_finetunes",label:Ve.COMMON.ENABLE,value:"1",checked:ae,description:Ve.HELP.FINETUNES,onChange:bt})),kt=React.createElement(d.r,{title:React.createElement(React.Fragment,null,Ve.COMMON.STATISTICS,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_statistics",label:Ve.COMMON.ENABLE,value:"1",checked:ie,requirePro:!0,isPro:L,description:Ve.COMMON.STATISTICS_HELP,onChange:bt})),jt=React.createElement(d.r,{title:React.createElement(React.Fragment,null,Ve.COMMON.MODERATION,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_moderation",label:Ve.COMMON.ENABLE,value:"1",checked:se,description:Ve.COMMON.MODERATION_HELP,onChange:bt})),Pt=React.createElement(d.r,{title:React.createElement(React.Fragment,null,Ve.COMMON.AUDIO_TRANSCRIPTION,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_audio",label:Ve.COMMON.ENABLE,value:"1",checked:me,description:Ve.COMMON.AUDIO_TRANSCRIPTION_HELP,onChange:bt})),Mt=React.createElement(d.r,{title:React.createElement(React.Fragment,null,Ve.COMMON.EMBEDDINGS,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_embeddings",label:Ve.COMMON.ENABLE,value:"1",checked:fe,requirePro:!0,isPro:L,description:Ve.COMMON.EMBEDDINGS_HELP,onChange:bt})),Dt=React.createElement(d.r,{title:Ve.COMMON.CHATBOT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat",label:Ve.COMMON.ENABLE,value:"1",checked:pe,description:Ve.COMMON.CHATBOT_HELP,onChange:bt}))),Ft=React.createElement(d.r,{title:Ve.COMMON.QUERIES_DATA},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"statistics_data",label:Ve.COMMON.ENABLE,value:"1",checked:Ye,description:Ve.HELP.QUERIES_DATA,onChange:bt}))),Gt=React.createElement(d.r,{title:Ve.COMMON.INTRO_MESSAGE},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"intro_message",label:Ve.COMMON.ENABLE,value:"1",checked:Ze,description:Ve.HELP.INTRO_MESSAGE,onChange:bt}))),Bt=React.createElement(d.r,{title:Ve.COMMON.FORMATTING},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_formatting",label:Ve.COMMON.ENABLE,value:"1",checked:he,description:(0,R.io)(Ve.COMMON.FORMATTING_HELP),onChange:bt}))),Ut=React.createElement(d.r,{title:Ve.COMMON.WEBSPEECH_API},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"speech_recognition",label:Ve.COMMON.SPEECH_RECOGNITION,value:"1",checked:Fe,description:Ve.HELP.SPEECH_RECOGNITION,onChange:bt})),React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"speech_synthesis",label:Ve.COMMON.SPEECH_SYNTHESIS+" (SOON)",value:"1",disabled:!0,checked:Ge,description:Ve.HELP.SPEECH_SYNTHESIS,onChange:bt}))),Ht=React.createElement(d.r,{title:Ve.COMMON.LEGACY_CHATBOT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_legacy",label:"".concat(Ve.COMMON.ENABLE),value:"1",checked:Pe,description:"Don't use the Legacy Chabot. It's deprecated and will be removed in the future.",onChange:bt}))),Vt=React.createElement(d.r,{title:Ve.COMMON.LEGACY_FINETUNES},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"module_legacy_finetunes",label:"".concat(Ve.COMMON.ENABLE),value:"1",checked:oe,description:"Don't use the Legacy Finetunes. It's deprecated and will be removed in the future.",onChange:bt}))),Yt=React.createElement(d.r,{title:Ve.COMMON.LEGACY_FORMS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_forms_legacy",label:"".concat(Ve.COMMON.ENABLE),value:"1",requirePro:!0,isPro:L,checked:Me,description:"Don't use the Legacy Forms. It's deprecated and will be removed in the future. Only enable if you have issues with the new forms.",onChange:bt}))),Zt=React.createElement(d.r,{title:Ve.COMMON.STREAMING},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_stream",label:Ve.COMMON.ENABLE,value:"1",checked:De,description:Ve.HELP.STREAMING,onChange:bt}))),zt=React.createElement(d.r,{title:Ve.SETTINGS.TYPEWRITER_EFFECT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_typewriter",label:Ve.COMMON.ENABLE,value:"1",checked:ke,description:(0,R.io)(Ve.SETTINGS.TYPEWRITER_EFFECT_HELP),onChange:bt}))),Wt=React.createElement(d.r,{title:Ve.COMMON.DISCUSSIONS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_discussions",label:Ve.COMMON.ENABLE,value:"1",checked:je,description:Ve.HELP.DISCUSSIONS,onChange:bt}))),Xt=React.createElement(d.r,{title:Ve.COMMON.SYNTAX_HIGHLIGHT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_syntax_highlighting",label:Ve.COMMON.ENABLE,value:"1",checked:Ie,description:Ve.HELP.SYNTAX_HIGHLIGHT,onChange:bt}))),qt=React.createElement(d.r,{title:Ve.COMMON.DEBUG_MODE},React.createElement(h.P,{name:"debug_mode",label:Ve.COMMON.ENABLE,value:"1",checked:Ue,description:Ve.COMMON.DEBUG_MODE_HELP,onChange:bt})),Qt=React.createElement(d.r,{title:Ve.COMMON.PUBLIC_API},React.createElement(h.P,{name:"public_api",label:Ve.COMMON.ENABLE,value:"1",checked:He,description:Ve.HELP.PUBLIC_API,onChange:bt})),Kt=React.createElement(d.r,{title:Ve.COMMON.DEV_TOOLS},React.createElement(h.P,{name:"module_devtools",label:Ve.COMMON.ENABLE,value:"1",checked:de,description:Ve.HELP.DEV_TOOLS,onChange:bt})),Jt=React.createElement(d.r,{title:Ve.COMMON.SHORTCODES},React.createElement(h.P,{name:"resolve_shortcodes",label:Ve.COMMON.RESOLVE,value:"1",checked:$e,description:Ve.HELP.RESOLVE_SHORTCODE,onChange:bt})),$t=React.createElement(d.r,{title:Ve.COMMON.DYNAMIC_MAX_TOKENS},React.createElement(h.P,{name:"dynamic_max_tokens",label:Ve.COMMON.ENABLE,value:"1",checked:ze,description:Ve.HELP.DYNAMIC_MAX_TOKENS,onChange:bt})),en=React.createElement(d.r,{title:Ve.COMMON.CONTEXT_MAX_TOKENS},React.createElement(Ee.A,{name:"context_max_tokens",value:Xe,description:Ve.HELP.CONTEXT_MAX_TOKENS,onBlur:bt})),tn=React.createElement(d.r,{title:Ve.COMMON.DYNAMIC_MAX_MESSAGES},React.createElement(h.P,{name:"dynamic_max_messages",label:Ve.COMMON.ENABLE+" (SOON)",value:"1",checked:We,disabled:!0,description:Ve.HELP.DYNAMIC_MAX_TOKENS,onChange:bt})),nn=React.createElement(d.r,{title:Ve.COMMON.BANNED_WORDS},React.createElement(Ee.A,{id:"banned_words",name:"banned_words",value:Ke,isCommaSeparatedArray:!0,description:Ve.HELP.BANNED_WORDS,onBlur:bt})),rn=React.createElement(d.r,{title:Ve.COMMON.DEFAULT_MODEL},React.createElement(we.N,{scrolldown:!0,name:"assistants_model",value:qe,description:"",onChange:bt},z.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})})))),an=React.createElement(d.r,{title:Ve.COMMON.BANNED_IPS},React.createElement(Ee.A,{id:"banned_ips",name:"banned_ips",value:Qe,isCommaSeparatedArray:!0,description:Ve.HELP.BANNED_IPS,onBlur:bt})),on=React.createElement(d.r,{title:Ve.COMMON.PLAYGROUND},React.createElement(h.P,{label:Ve.COMMON.ENABLE,value:"1",checked:null==Je?void 0:Je.playground,onChange:function(e){var t=Ou(Ou({},Je),{},{playground:e});bt(t,"admin_bar")}})),ln=React.createElement(d.r,{title:Ve.COMMON.GENERATE_CONTENT},React.createElement(h.P,{label:Ve.COMMON.ENABLE,value:"1",checked:null==Je?void 0:Je.content_generator,onChange:function(e){var t=Ou(Ou({},Je),{},{content_generator:e});bt(t,"admin_bar")}})),cn=React.createElement(d.r,{title:Ve.COMMON.GENERATE_IMAGES},React.createElement(h.P,{label:Ve.COMMON.ENABLE,value:"1",checked:null==Je?void 0:Je.images_generator,onChange:function(e){var t=Ou(Ou({},Je),{},{images_generator:e});bt(t,"admin_bar")}})),un=React.createElement(d.r,{title:"AI Engine"},React.createElement(h.P,{label:Ve.COMMON.ENABLE,value:"1",checked:null==Je?void 0:Je.settings,onChange:function(e){var t=Ou(Ou({},Je),{},{settings:e});bt(t,"admin_bar")}})),sn=React.createElement(d.r,{title:Ve.COMMON.OPENAI_SERVICE},React.createElement(we.N,{scrolldown:!0,name:"openai_service",value:ye,description:(0,R.io)(Ve.HELP.OPENAI_SERVICE),onChange:bt},React.createElement(we.Z,{value:"openai",label:"Open AI"}),React.createElement(we.Z,{value:"azure",label:"Microsoft Azure"}))),fn=React.createElement(d.r,{title:Ve.COMMON.OPENAI_AZURE_ENDPOINT},React.createElement(Ee.A,{name:"openai_azure_endpoint",value:ge,onBlur:bt})),mn=React.createElement(d.r,{title:Ve.COMMON.OPENAI_AZURE_API_KEY},React.createElement(Ee.A,{name:"openai_azure_apikey",value:be,onBlur:bt})),dn=React.createElement(d.r,{title:Ve.COMMON.API_KEY},React.createElement(Ee.A,{name:"openai_apikey",value:ve,description:(0,R.io)(Ve.COMMON.API_KEY_HELP),onBlur:bt})),pn=React.createElement("div",null,React.createElement("div",{style:{fontSize:12,marginTop:-5}},(0,R.io)(Ve.COMMON.USAGE_COSTS_HELP)),React.createElement(qa,{options:D})),hn=pt>0?React.createElement(Re.J,{style:{marginLeft:5,marginRight:-5,display:"inline"},width:"16",icon:"alert",variant:"warning"}):null;return React.createElement(y.s,null,React.createElement(It,{options:D}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(it,{options:D}),Ze&&React.createElement(xe.H,null,(0,R.io)(Ve.SETTINGS.INTRO)),React.createElement(b.c,{keepTabOnReload:!0},React.createElement(b.P,{title:Ve.COMMON.DASHBOARD},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:ht,title:Ve.COMMON.MODULES,className:"primary"},React.createElement("p",null,Ve.SETTINGS.MODULES_INTRO),React.createElement(Oe.i,null),Dt,_t,Ct,Nt,At,kt,Mt,Lt,jt,Pt)),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:ht,title:Ve.COMMON.USAGE_COSTS,className:"primary"},pn)))),pe&&React.createElement(b.P,{title:React.createElement(React.Fragment,null,Ve.COMMON.CHATBOTS)},React.createElement(Lc,{options:D,updateOption:bt,busy:ht})),pe&&je&&React.createElement(b.P,{title:Ve.COMMON.DISCUSSIONS},React.createElement(Ao,null)),ie&&React.createElement(b.P,{title:Ve.COMMON.QUERIES},React.createElement(uu,{options:D,updateOption:bt,busy:ht})),fe&&React.createElement(b.P,{title:Ve.COMMON.EMBEDDINGS},React.createElement(Va,{options:D,updateEnvironment:Et,updateOption:bt})),ae&&React.createElement(b.P,{title:Ve.COMMON.FINETUNES},React.createElement(Gn,{options:D,updateOption:bt,refreshOptions:gt})),oe&&React.createElement(b.P,{title:Ve.COMMON.LEGACY_FINETUNES},React.createElement(cr,{options:D,updateOption:bt,refreshOptions:gt})),se&&React.createElement(b.P,{title:Ve.COMMON.MODERATION},React.createElement(Gr,{options:D,updateOption:bt,busy:ht})),me&&React.createElement(b.P,{title:Ve.COMMON.AUDIO_TAB},React.createElement(no,{options:D,updateOption:bt})),React.createElement(b.P,{key:"advanced",title:React.createElement(React.Fragment,null,Ve.COMMON.SETTINGS,hn)},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:ht,title:Ve.COMMON.OPENAI,className:"primary"},sn,"openai"===ye&&React.createElement(React.Fragment,null,dn),"azure"===ye&&React.createElement(React.Fragment,null,fn,mn,React.createElement("p",null,(0,R.io)(Ve.HELP.AZURE_DEPLOYMENTS)),React.createElement(ju,{deployments:Le,models:W,updateOption:bt})),Zt),fe&&React.createElement(yu,{busy:ht,environments:Ae,updateEnvironment:Et,updateOption:bt}),React.createElement(w.v,{busy:lt,title:React.createElement("div",{style:{display:"flex"}},Ve.COMMON.INCIDENTS_OPENAI,hn),className:"primary",contentStyle:{padding:0}},React.createElement(dr,{incidents:ut,isLoading:lt})),React.createElement(w.v,{busy:ht,title:Ve.COMMON.USER_INTERFACE,className:"primary"},Gt),React.createElement(w.v,{busy:ht,title:Ve.COMMON.MAINTENANCE,className:"primary"},React.createElement(E._,{className:"danger",onClick:wt},"Reset Settings"))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:ht,title:Ve.COMMON.CHATBOT,className:"primary"},Wt,Xt,Ut),React.createElement(w.v,{busy:ht,title:Ve.COMMON.LEGACY_FEATURES,className:"primary"},Ht,Vt,Yt,Bt,zt),ie&&React.createElement(w.v,{busy:ht,title:Ve.COMMON.STATISTICS,className:"primary"},Ft),React.createElement(w.v,{busy:ht,title:Ve.COMMON.ADMIN_TOOLS,className:"primary"},React.createElement(Se.L,{title:Ve.COMMON.ASSISTANTS}),rn,React.createElement(Se.L,{title:Ve.COMMON.ADMIN_BAR}),un,on,ln,cn),React.createElement(w.v,{busy:ht,title:Ve.COMMON.ADVANCED,className:"primary"},Jt,$t,en,tn,Qt,qt,Kt),React.createElement(w.v,{busy:ht,title:Ve.COMMON.SECURITY,className:"primary"},nn,an)))),pe&&Pe&&React.createElement(b.P,{title:Ve.COMMON.LEGACY_CHATBOT},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,fullWidth:!0},React.createElement(w.v,{className:"primary"},React.createElement("b",{style:{color:"red"}},"Don’t use the Legacy Chabot. It’s deprecated and will be removed in the future.")," Migrate to the new Chatbot, via the ",React.createElement("b",null,"Chatbots")," tab. If there is a feature you need that is not available in the new Chatbot, or any other issue, please let me know. We’ll make sure it works better with the new chatbot for every case! 🎉")),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:ht,title:Ve.CHATBOT.CHATBOT_BUILDER,className:"primary",action:React.createElement(E._,{className:"danger",onClick:St},Ve.CHATBOT.RESET_PARAMS)},React.createElement(wr,null,React.createElement("b",null,Ve.COMMON.MAIN_SETTINGS),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{height:"chat"===K.mode?76:"inherit"}},React.createElement("label",null,Ve.COMMON.MODE,":"),React.createElement(we.N,{scrolldown:!0,id:"mode",name:"mode",value:K.mode,onChange:Rt},React.createElement(we.Z,{value:"chat",label:"Chat"}),React.createElement(we.Z,{value:"images",label:"Images"}))),et&&React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,Ve.COMMON.CONTEXT,":"),React.createElement(Te.l,{id:"context",name:"context",rows:4,value:K.context,onBlur:Rt})),tt&&React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,Ve.COMMON.IMAGES_NUMBER,":"),React.createElement(Ee.A,{id:"max_results",name:"max_results",type:"number",value:K.max_results,onBlur:Rt}))),React.createElement("b",null,Ve.COMMON.VISUAL_SETTINGS),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.AI_NAME,":"),React.createElement(Ee.A,{id:"ai_name",name:"ai_name","data-form-type":"other",value:K.ai_name,onBlur:Rt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:4}},React.createElement("label",null,Ve.COMMON.START_SENTENCE,":"),React.createElement(Ee.A,{id:"start_sentence",name:"start_sentence",value:K.start_sentence,onBlur:Rt}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.USER_NAME,":"),React.createElement(Ee.A,{id:"user_name",name:"user_name","data-form-type":"other",value:K.user_name,onBlur:Rt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.PLACEHOLDER,":"),React.createElement(Ee.A,{id:"text_input_placeholder",name:"text_input_placeholder",value:K.text_input_placeholder,onBlur:Rt})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.SEND,":"),React.createElement(Ee.A,{id:"text_send",name:"text_send",value:K.text_send,onBlur:Rt})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.CLEAR,":"),React.createElement(Ee.A,{id:"text_clear",name:"text_clear",value:K.text_clear,onBlur:Rt}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,Ve.COMMON.COMPLIANCE_TEXT,":"),React.createElement(Ee.A,{id:"text_compliance",name:"text_compliance",value:K.text_compliance,onBlur:Rt}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.SYSTEM_NAME,":"),React.createElement(Ee.A,{id:"sys_name",name:"sys_name","data-form-type":"other",value:K.sys_name,onBlur:Rt})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},Ve.COMMON.ID,":"),React.createElement(Ee.A,{id:"id",name:"id",type:"text",placeholder:"Optional",value:K.id,onBlur:Rt}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.STYLE,":"),React.createElement(we.N,{scrolldown:!0,id:"style",name:"style",value:K.style,description:"",onChange:Rt},React.createElement(we.Z,{value:"none",label:"None"}),React.createElement(we.Z,{value:"chatgpt",label:"ChatGPT"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.POPUP,":"),React.createElement(h.P,{name:"window",label:"Yes",checked:K.window,value:"1",onChange:Rt}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.POSITION,":"),React.createElement(we.N,{scrolldown:!0,id:"icon_position",name:"icon_position",disabled:!K.window,value:K.icon_position,onChange:Rt},React.createElement(we.Z,{value:"bottom-right",label:"Bottom Right"}),React.createElement(we.Z,{value:"bottom-left",label:"Bottom Left"}),React.createElement(we.Z,{value:"top-right",label:"Top Right"}),React.createElement(we.Z,{value:"top-left",label:"Top Left"}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.ICON_TEXT,":"),React.createElement(Ee.A,{id:"icon_text",name:"icon_text",disabled:!K.window,placeholder:"If set, appears next to icon",value:null!==(r=K.icon_text)&&void 0!==r?r:"Chat",onBlur:Rt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.FULL_SCREEN,":"),React.createElement(h.P,{name:"fullscreen",label:"Yes",checked:K.fullscreen,value:"1",onChange:Rt}))),React.createElement("b",null,Ve.COMMON.TECHNICAL_SETTINGS),et&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,Ve.COMMON.MODEL,":"),React.createElement(we.N,{scrolldown:!0,id:"model",name:"model",value:K.model,description:"",onChange:Rt},z.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})})))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.CASUALLY_FINE_TUNED,":"),React.createElement(h.P,{name:"casually_fine_tuned",label:"Yes",disabled:!st&&!K.casually_fine_tuned,checked:K.casually_fine_tuned,value:"1",onChange:Rt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.TEMPERATURE,":"),React.createElement(Ee.A,{id:"temperature",name:"temperature",type:"number",step:"0.1",min:"0",max:"1",value:K.temperature,onBlur:Rt}))),et&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.MAX_TOKENS,":"),React.createElement(Ee.A,{id:"max_tokens",name:"max_tokens",type:"number",min:"10",max:"2048",value:K.max_tokens,onBlur:Rt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.MAX_MESSAGES,":"),React.createElement(Ee.A,{id:"max_messages",name:"max_messages",step:"1",min:"1",max:"512",value:K.max_messages,onBlur:Rt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.INPUT_MAXLENGTH,":"),React.createElement(Ee.A,{id:"text_input_maxlength",name:"text_input_maxlength",step:"1",min:"1",max:"512",value:K.text_input_maxlength,onBlur:Rt}))),et&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.EMBEDDINGS_INDEX,":"),React.createElement(we.N,{scrolldown:!0,id:"embeddings_index",name:"embeddings_index",requirePro:!0,isPro:L,disabled:!(null!=Ae&&null!==(a=Ae.indexes)&&void 0!==a&&a.length)||"chat"!==(null==ft?void 0:ft.mode),value:K.embeddings_index,onChange:Rt},(null==Ae||null===(o=Ae.indexes)||void 0===o?void 0:o.length)&&Ae.indexes.map((function(e){return React.createElement(we.Z,{key:e.name,value:e.name,label:e.name})})),React.createElement(we.Z,{value:"",label:"Disabled"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.CONTENT_AWARE,":"),React.createElement(h.P,{name:"content_aware",label:"Yes",requirePro:!0,isPro:L,checked:K.content_aware,value:"1",onChange:Rt}))),ee&&!K.window&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,Ve.SETTINGS.ALERT_INJECT_BUT_NO_POPUP)),!st&&K.casually_fine_tuned&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,Ve.SETTINGS.ALERT_CASUALLY_BUT_NO_FINETUNE)),mt&&!dt&&React.createElement(Ne.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,(0,R.io)(Ve.SETTINGS.ALERT_CONTENTAWARE_BUT_NO_CONTENT))),React.createElement("b",null,Ve.COMMON.SHORTCODE),React.createElement("pre",null,vt)),React.createElement(h.P,{name:"shortcode_chat_params_override",label:Ve.SETTINGS.SET_AS_DEFAULT_PARAMETERS,disabled:Object.keys(yt).length<1&&!$,value:"1",checked:$,description:Ve.SETTINGS.SET_AS_DEFAULT_PARAMETERS_HELP,onChange:bt}),React.createElement(h.P,{name:"shortcode_chat_inject",label:Ve.SETTINGS.INJECT_DEFAULT_CHATBOT,value:"1",checked:ee,description:Ve.SETTINGS.INJECT_DEFAULT_CHATBOT_HELP,onChange:bt}))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:ht,title:"ChatGPT Style",className:"primary",action:React.createElement(E._,{className:"danger",onClick:Tt},"Reset Styles")},React.createElement(wr,null,React.createElement("p",null,(0,R.io)(Ve.SETTINGS.CHATGPT_STYLE_INTRO)),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,Ve.COMMON.SPACING,":"),React.createElement(Ee.A,{id:"spacing",name:"spacing",value:null!==(i=null==J?void 0:J.spacing)&&void 0!==i?i:"15px",onBlur:xt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,Ve.COMMON.BORDER_RADIUS,":"),React.createElement(Ee.A,{id:"borderRadius",name:"borderRadius",value:null!==(l=null==J?void 0:J.borderRadius)&&void 0!==l?l:"10px",onBlur:xt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,Ve.COMMON.FONT_SIZE,":"),React.createElement(Ee.A,{id:"fontSize",name:"fontSize",value:null!==(c=null==J?void 0:J.fontSize)&&void 0!==c?c:"15px",onBlur:xt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"fontColor",name:"fontColor",value:null!==(u=null==J?void 0:J.fontColor)&&void 0!==u?u:"#FFFFFF",onBlur:xt}),React.createElement(Ar,{id:"fontColor",name:"fontColor",value:null!==(s=null==J?void 0:J.fontColor)&&void 0!==s?s:"#FFFFFF",onChange:xt})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.BACK_PRIMARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(f=null==J?void 0:J.backgroundPrimaryColor)&&void 0!==f?f:"#454654",onBlur:xt}),React.createElement(Ar,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(m=null==J?void 0:J.backgroundPrimaryColor)&&void 0!==m?m:"#454654",onChange:xt}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.BACK_SECONDARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(v=null==J?void 0:J.backgroundSecondaryColor)&&void 0!==v?v:"#343541",onBlur:xt}),React.createElement(Ar,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(S=null==J?void 0:J.backgroundSecondaryColor)&&void 0!==S?S:"#343541",onChange:xt}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.HEADER_BUTTONS_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(_=null==J?void 0:J.headerButtonsColor)&&void 0!==_?_:"#FFFFFF",onBlur:xt}),React.createElement(Ar,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(k=null==J?void 0:J.headerButtonsColor)&&void 0!==k?k:"#FFFFFF",onChange:xt})))),React.createElement("b",null,Ve.COMMON.COMMON),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,Ve.COMMON.POPUP_ICON,":"),React.createElement("div",{style:{display:"flex"}},Iu.map((function(e){return React.createElement(React.Fragment,null,React.createElement("img",{style:{marginRight:2,cursor:"pointer"},width:24,height:24,src:"".concat(N,"/images/").concat(e),onClick:function(){xt(e,"icon")}}))})),React.createElement(E._,{small:!0,className:"primary",style:{marginLeft:5},onClick:function(){xt("".concat(N,"/images/chat-color-green.svg"),"icon")}},Ve.SETTINGS.CUSTOM_URL))),React.createElement("div",{className:"mwai-builder-col",style:{width:48,display:"flex",alignItems:"end"}},React.createElement("img",{style:{marginRight:0,paddingTop:10},width:48,height:48,src:"".concat(at)}))),rt&&React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,Ve.COMMON.CUSTOM_ICON_URL,":"),React.createElement(Ee.A,{name:"icon",value:nt,onEnter:Ot,onBlur:Ot}))),React.createElement("div",{className:"mwai-builder-row",style:{marginTop:0}},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.WIDTH,":"),React.createElement(Ee.A,{id:"width",name:"width",value:null!==(j=null==J?void 0:J.width)&&void 0!==j?j:"460px",onBlur:xt})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,Ve.COMMON.MAX_HEIGHT,":"),React.createElement(Ee.A,{id:"maxHeight",name:"maxHeight",value:null!==(P=null==J?void 0:J.maxHeight)&&void 0!==P?P:"40vh",onBlur:xt})))))))),de&&React.createElement(b.P,{title:Ve.COMMON.DEV_TOOLS},React.createElement(pu,{options:D,setOptions:F})),React.createElement(b.P,{title:Ve.COMMON.LICENSE_TAB},React.createElement(Be,{domain:O,prefix:x,isPro:C,isRegistered:L}))))),React.createElement(_e.L,{isOpen:B,title:Ve.COMMON.ERROR,content:B,onRequestClose:function(){return U(!1)},okButton:{label:"Close",onClick:function(){return U(!1)}}}))};var Mu=n(5307),Du=[{value:"informative",label:"Informative"},{value:"descriptive",label:"Descriptive"},{value:"creative",label:"Creative"},{value:"narrative",label:"Narrative"},{value:"persuasive",label:"Persuasive"},{value:"reflective",label:"Reflective"},{value:"argumentative",label:"Argumentative"},{value:"analytical",label:"Analytical"},{value:"evaluative",label:"Evaluative"},{value:"journalistic",label:"Journalistic"},{value:"technical",label:"Technical"}],Fu=[{value:"neutral",label:"Neutral"},{value:"formal",label:"Formal"},{value:"assertive",label:"Assertive"},{value:"cheerful",label:"Cheerful"},{value:"humorous",label:"Humorous"},{value:"informal",label:"Informal"},{value:"inspirational",label:"Inspirational"},{value:"professional",label:"Professional"},{value:"confluent",label:"Confluent"},{value:"emotional",label:"Emotional"},{value:"persuasive",label:"Persuasive"},{value:"supportive",label:"Supportive"},{value:"sarcastic",label:"Sarcastic"},{value:"condescending",label:"Condescending"},{value:"skeptical",label:"Skeptical"},{value:"narrative",label:"Narrative"},{value:"journalistic",label:"Journalistic"}],Gu="gpt-3.5-turbo",Bu=[{id:"default",name:"Default",mode:"query",model:Gu,temperature:.8,stopSequence:"",maxTokens:2048,prompt:""},{id:"article_translator",name:"Text Translator",mode:"query",model:Gu,temperature:.3,stopSequence:"",maxTokens:2048,prompt:"Translate this article into French:\n\nUchiko is located in Ehime prefecture, in the west of the island. The town was prosperous at the end of the 19th century thanks to its production of very good quality white wax. This economic boom allowed wealthy local merchants to build beautiful properties, whose heritage is still visible throughout the town.\n"},{id:"restaurant_review",name:"Restaurant Review Writer",mode:"query",model:Gu,temperature:.8,stopSequence:"",maxTokens:2048,prompt:"Write a review for a French restaurant located in Kagurazaka, Tokyo. Looks like an old restaurant, food is traditional, chef is talkative, it is always full. Not expensive, but not fancy.\n"},{id:"article_corrector",name:"Text Corrector",mode:"query",model:Gu,temperature:.2,stopSequence:"",maxTokens:2048,prompt:"Fix the grammar and spelling mistakes in this text:\n\nI wake up at eleben yesderday, I will go bed eary tonigt.\n"},{id:"seo_assistant",name:"SEO Optimizer",mode:"query",model:Gu,temperature:.6,stopSequence:"",maxTokens:1024,prompt:"For the following article, write a SEO-friendly and short title, keywords for Google, and a short excerpt to introduce it. Use this format:\n\nTitle: \nKeywords: \nExcerpt:\n\nArticle:\nUchiko is located in Ehime prefecture, in the west of the island. The town was prosperous at the end of the 19th century thanks to its production of very good quality white wax. This economic boom allowed wealthy local merchants to build beautiful properties, whose heritage is still visible throughout the town."},{id:"casually_fine_tuned",name:"Casually-Tuned Tester",mode:"query",model:"text-davinci-003",temperature:.4,stopSequence:"\\n\\n",maxTokens:1024,prompt:"Hello! What's your name?\n\n###\n\n"}],Uu=[{id:"default",name:"Default",model:"dall-e",maxResults:3,prompt:""},{id:"japan",name:"Ghibli Inspired",model:"dall-e",maxResults:3,prompt:"japan, tokyo, trees, izakaya, anime oil painting, high resolution, ghibli inspired, 4k"},{id:"steampunk",name:"Steampunk Architecture",model:"dall-e",maxResults:3,prompt:"steampunk architecture, exterior view, award-winning architectural photography from magazine, trees, theater"},{id:"modern-illustration",name:"Modern Illustration",model:"dall-e",maxResults:3,prompt:"illustration of a cat, modern design, for the web, cute, happy, 4k, high resolution, trending in artstation"}],Hu=[{id:"default",name:"Default",mode:"single",topic:"",topics:"",topicsAreTitles:!1,title:"",sections:"",model:Gu,temperature:.8,maxTokens:2048,sectionsCount:2,paragraphsCount:3,language:"en",customLanguage:"",writingStyle:"creative",writingTone:"cheerful",titlePromptFormat:'Write a title for an article about "{TOPIC}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.',sectionsPromptFormat:'Write {SECTIONS_COUNT} consecutive headings for an article about "{TITLE}", in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Each heading is between 40 and 60 characters. Use Markdown for the headings (## ).',contentPromptFormat:'Write an article about "{TITLE}" in {LANGUAGE}. The article is organized by the following headings:\n\n{SECTIONS}\n\nWrite {PARAGRAPHS_PER_SECTION} paragraphs per heading. Use Markdown for formatting. Add an introduction prefixed by "===INTRO: ", and a conclusion prefixed by "===OUTRO: ". Style: {WRITING_STYLE}. Tone: {WRITING_TONE}.',excerptPromptFormat:'Write an excerpt for an article about "{TITLE}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.'}];function Vu(e){return Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(e)}function Yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yu(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Vu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Vu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vu(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Ku(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wu(){Wu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Vu(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Vu(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Xu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function qu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Xu(o,r,a,i,l,"next",e)}function l(e){Xu(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Qu(e){return function(e){if(Array.isArray(e))return Ju(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ku(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ku(e,t){if(e){if("string"==typeof e)return Ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ju(e,t):void 0}}function Ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $u=wp.element,es=$u.useState,ts=$u.useEffect,ns=$u.useMemo,rs=function(e){var t=Qu(e);return t.sort((function(e,t){return"default"===e.id?-1:"default"===t.id?1:e.name.localeCompare(t.name)})),t},as=function(){var e=qu(Wu().mark((function e(t){var n,r,a;return Wu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.PV)("".concat(T,"/system/templates?category=").concat(t),{nonce:A});case 3:return n=e.sent,r=[],"imagesGenerator"===t?r=Uu:"playground"===t?r=Bu:"contentGenerator"===t&&(r=Hu),a=r.find((function(e){return"default"===e.id})),null!=n&&n.templates&&n.templates.length>0&&(r=rs(n.templates)),a?r.forEach((function(e){Object.keys(a).forEach((function(t){void 0===e[t]&&(e[t]=a[t])}))})):console.warn("Default template not found for category: "+t),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();const os=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"playground",t=zu(es(),2),n=t[0],r=t[1],a=zu(es(!1),2),o=a[0],i=a[1],l=zu(es([]),2),c=l[0],u=l[1],s=(0,Ce.a)({queryKey:["templates-".concat(e)],queryFn:function(){return as(e)}}),f=s.isLoading,m=s.data;ts((function(){m&&(u(m),r(m[0]))}),[m]);var d=function(){var t=qu(Wu().mark((function t(n){var r;return Wu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=rs(n),u(n),t.prev=2,t.next=5,(0,R.PV)("".concat(T,"/system/templates"),{method:"POST",nonce:A,json:{category:e,templates:n}});case 5:return r=t.sent,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),alert(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),p=ns((function(){if(!n||0===c.length)return!1;var e=c.find((function(e){return e.id===n.id}));return Object.keys(e).some((function(t){return e[t]!==n[t]}))}),[n,c]),h=function(){var e=c.find((function(e){return e.id===n.id}));e&&r(Zu({},e))},y=function(){var e=prompt(Ve.COMMON.NAME,Ve.TEMPLATES.NEW_TEMPLATE_NAME);if(!e)return!1;var t=Zu(Zu({},n),{},{id:(new Date).getTime().toString(36)+Math.random().toString(36).substr(2,9),name:e});d([].concat(Qu(c),[t])),r(Zu({},t))},v=function(){var e=c.map((function(e){return e.id===n.id?n:e}));d(e),r(Zu({},n))},g=function(){var e=prompt("New name",n.name);if(e){var t=c.map((function(t){return t.id===n.id?Zu(Zu({},t),{},{name:e}):t}));d(Qu(t)),r(Zu({},t.find((function(e){return e.id===n.id}))))}},b=function(){if(confirm(Ve.TEMPLATES.RESET_ALL_CONFIRM)){var t=[];"imagesGenerator"===e?t=Qu(Uu):"playground"===e?t=Qu(Bu):"contentGenerator"===e&&(t=Qu(Hu)),d(t),r(Zu({},t[0]))}},w=function(){if(confirm(Ve.TEMPLATES.DELETE_CONFIRM)){var e=c.filter((function(e){return e.id!==n.id}));d(Qu(e)),r(Zu({},e[0]))}},x=ns((function(){return p&&"default"!==n.id}),[n]),O=ns((function(){return React.createElement("div",{style:{margin:"0"}},React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("h3",{style:{margin:0}},Ve.TEMPLATES.TEMPLATES),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement(Ft.Q,{small:!0,onLabel:Ve.TEMPLATES.EDIT,offLabel:Ve.TEMPLATES.EDIT,width:60,onChange:i,checked:o}))),f&&React.createElement("div",{style:{display:"flex",marginTop:30,justifyContent:"center"}},React.createElement("div",{style:{width:60}},React.createElement(Mu.S,{width:20}))),React.createElement("ul",null,c.map((function(e){return React.createElement("li",{key:e.id,className:n.id===e.id?"active"+(p&&o?" modified":""):"",onClick:function(){r(Zu({},e))}},e.name)}))),p&&React.createElement("div",{style:{display:"flex",marginTop:15}},React.createElement(E._,{fullWidth:!0,className:"primary",icon:"undo",onClick:h},"Clear")),o&&React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement(Oe.i,{line:!0},"Template Editor"),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{disabled:"default"===n.id,className:"primary",style:{flex:1},onClick:g},"Rename"),React.createElement(E._,{onClick:y,style:{flex:1}},"Duplicate"),React.createElement(E._,{disabled:!x,className:"primary",style:{flex:1},onClick:v},"Save")),React.createElement(Oe.i,{line:!0}),React.createElement(E._,{disabled:"default"===n.id,className:"danger",onClick:w},"Delete Template"),React.createElement(Oe.i,{line:!0}),React.createElement(E._,{className:"danger",onClick:b},"Reset All Templates")),!o&&React.createElement("div",{style:{display:"flex",marginTop:15,lineHeight:"14px"}},React.createElement("small",null,(0,R.io)(Ve.TEMPLATES.JOIN_US))))}));return{template:n,clearTemplate:h,setTemplate:function(e){r(e)},jsxTemplates:O,isEdit:o}};function is(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ls(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ls(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cs=wp.element,us=cs.useState,ss=cs.useMemo;const fs=function(e){var t=ct(e).calculatePrice,n=is(us(0),2),r=n[0],a=n[1],o=is(us(0),2),i=o[0],l=o[1],c=function(){a(0),l(0)};return{addUsage:function(e,n,o){var i=t(e,n,o);l(i),a(r+i)},jsxUsageCosts:ss((function(){var e=(0,R.io)(Ve.COMMON.USAGE_COSTS_HELP);return L||(e=React.createElement(React.Fragment,null,e," ",(0,R.io)(Ve.COMMON.USAGE_COSTS_PRO_HELP))),React.createElement(br,null,React.createElement("h3",null,Ve.COMMON.USAGE_COSTS),React.createElement("div",null,"Session: ",React.createElement("span",{style:{float:"right"}},"$",r.toFixed(4))),React.createElement("div",null,"Last Request: ",React.createElement("span",{style:{float:"right"}},"$",i.toFixed(4))),React.createElement(Oe.i,{height:30}),React.createElement("p",{style:{fontSize:12,lineHeight:1.2,color:"var(--neko-dark-gray)"}},e),React.createElement(E._,{fullWidth:!0,onClick:c},"Reset Usage"))}),[r,i])}};function ms(e){return ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(e)}var ds;function ps(){ps=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==ms(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ms(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function hs(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){gs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ms(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ms(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ms(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Es(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ws=wp.element,Rs=ws.useState,xs=ws.useEffect,Os=(ws.useMemo,(0,F.ZP)(Te.l)(ds||(ds=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .neko-textarea-container {\n  \n    textarea {\n      color: white;\n      font-size: 13px;\n      padding: 10px;\n      font-family: monospace;\n      background: #333d4e;\n      border: none;\n\n      &:focus {\n        background-color: #333d4e;\n      }\n    }\n  }\n"]))));const Ss=function(){var e,t,n,r,a,o,i=os("playground"),l=i.template,c=i.setTemplate,u=i.jsxTemplates,s=bs(Rs(""),2),f=s[0],d=s[1],p=ct(I).completionModels,h=fs(I),v=h.addUsage,b=h.jsxUsageCosts,w=bs(Rs(!1),2),x=w[0],O=w[1],S=bs(Rs(""),2),N=S[0],_=S[1],C=bs(Rs(),2),L=C[0],j=C[1],M=bs(Rs(),2),D=M[0],F=M[1],G=null!==(e=null==l?void 0:l.prompt)&&void 0!==e?e:"",B=null!==(t=null==l?void 0:l.model)&&void 0!==t?t:"gpt-3.5-turbo",U=null!==(n=null==l?void 0:l.mode)&&void 0!==n?n:"query",H=null!==(r=null==l?void 0:l.temperature)&&void 0!==r?r:1,V=null!==(a=null==l?void 0:l.stopSequence)&&void 0!==a?a:"",Y=null!==(o=null==l?void 0:l.maxTokens)&&void 0!==o?o:2048,Z=function(e,t){c(vs(vs({},l),{},gs({},t,e)))},z=function(e){c(vs(vs({},l),{},{prompt:e}))};xs((function(){l&&d("")}),[l]);var W=function(){var e,t=(e=ps().mark((function e(){var t,n,r,a,o,i,l,c=arguments;return ps().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:G,O(!0),j(new Date),e.prev=3,a=V.replace(/\\n/g,"\n"),o=P?function(e){d(e)}:null,e.next=8,rl("".concat(T,"/ai/completions"),{env:"playground",session:k,prompt:t,temperature:H,model:B,maxTokens:Y,stop:a,stream:P},A,P);case 8:return i=e.sent,e.next=12,tl(i,o,null);case 12:if(!1!==(null==(l=e.sent)?void 0:l.success)){e.next=15;break}throw new Error(null==l?void 0:l.message);case 15:console.log("Completions",{prompt:t,result:l}),"continuous"===U?z(t+"\n"+l.data+"\n"):d(l.data),v(B,(null==l||null===(n=l.usage)||void 0===n?void 0:n.prompt_tokens)||0,(null==l||null===(r=l.usage)||void 0===r?void 0:r.completion_tokens)||0),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),F(e.t0.message);case 23:j(),O(!1);case 25:case"end":return e.stop()}}),e,null,[[3,20]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){hs(o,r,a,i,l,"next",e)}function l(e){hs(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return React.createElement(y.s,{nekoErrors:[]},React.createElement(It,{title:Ve.COMMON.PLAYGROUND}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(it,{options:I}),React.createElement(xe.H,{style:{marginBottom:0}},React.createElement(m.O,{p:!0},(0,R.io)(Ve.PLAYGROUND.INTRO)))),React.createElement(g.z,null,React.createElement(br,null,u)),React.createElement(g.z,{style:{flex:3}},React.createElement(br,null,"continuous"!==U&&React.createElement(React.Fragment,null,React.createElement(Os,{rows:12,onChange:z,value:G})),"continuous"===U&&React.createElement(React.Fragment,null,React.createElement(Os,{rows:18,onChange:z,value:G}),React.createElement("div",{style:{display:"flex"}},React.createElement("span",{className:"dashicons dashicons-format-continuous",style:{position:"absolute",color:"white",zIndex:200,fontSize:28,marginTop:12,marginLeft:10}}),React.createElement(Er,{name:"continuousEntry",value:N,onChange:_,onEnter:function(){var e=G+"Human: "+N;z(e),_(""),W(e)},disabled:x})))),React.createElement(Oe.i,null),(f||x)&&React.createElement(br,null,React.createElement(ll,{content:f,isStreaming:P&&x}))),React.createElement(g.z,null,"query"===U&&React.createElement(React.Fragment,null,React.createElement(br,null,React.createElement(E._,{fullWidth:!0,onClick:function(){W()},isBusy:x,startTime:L,style:{height:50,fontSize:14,flex:4}},Ve.COMMON.SUBMIT)),React.createElement(Oe.i,null)),React.createElement(br,null,React.createElement("h3",null,Ve.COMMON.SETTINGS),React.createElement("label",null,Ve.COMMON.MODEL,":"),React.createElement(we.N,{name:"model",value:B,scrolldown:!0,onChange:Z},p.map((function(e){return React.createElement(we.Z,{value:e.model,label:e.name})}))),React.createElement("label",null,Ve.COMMON.TEMPERATURE,":"),React.createElement(Ee.A,{name:"temperature",value:H,type:"number",onChange:function(e){return Z(parseFloat(e),"temperature")},description:React.createElement(React.Fragment,null,React.createElement("span",{style:{color:H>=0&&H<=1?"inherit":"red"}},Ve.HELP.TEMPERATURE))}),React.createElement("label",null,Ve.COMMON.MAX_TOKENS,":"),React.createElement(Ee.A,{name:"maxTokens",value:Y,type:"number",onChange:function(e){return Z(parseInt(e),"maxTokens")},description:React.createElement(React.Fragment,null,React.createElement("span",null,Ve.HELP.MAX_TOKENS))}),React.createElement("label",null,Ve.COMMON.STOP_SEQUENCE,":"),React.createElement(Ee.A,{name:"stopSequence",value:V,type:"text",onChange:Z,description:React.createElement(React.Fragment,null,React.createElement("span",null,Ve.HELP.STOP_SEQUENCE))})),React.createElement(Oe.i,null),b)),React.createElement(_e.L,{isOpen:D,onRequestClose:function(){F()},okButton:{onClick:function(){F()}},title:"Error",content:React.createElement("p",null,D)}))};var Ts,Ns;function _s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Cs=F.ZP.div(Ts||(Ts=_s(["\n  margin-bottom: 5px;\n"]))),Ls=F.ZP.div(Ns||(Ns=_s(["\n  margin-top: 5px;\n  padding: 10px;\n  font-size: 14px;\n  cursor: pointer;\n  background: #dbf2ff;\n\n  &:hover {\n    background: #037cba;\n    color: white;\n  }\n"])));function As(e){return As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(e)}function Is(){Is=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==As(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(As(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ks(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function js(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ks(o,r,a,i,l,"next",e)}function l(e){ks(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ps(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ms(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ms(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ds=wp.element,Fs=Ds.useState,Gs=Ds.useEffect,Bs=Ds.useMemo;const Us=function(e){var t=e.post,n=e.onTitleClick,r=void 0===n?{}:n,a=e.onClose,o=void 0===a?{}:a,i=Ps(Fs([]),2),l=i[0],c=i[1],u=Ps(Fs(!1),2),s=u[0],f=u[1],m=Ps(Fs(!1),2),d=m[0],p=m[1];Gs((function(){t&&h(t)}),[t]);var h=function(){var e=js(Is().mark((function e(t){var n,r,a;return Is().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,t.postTitle,f(!0),e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/ai/magic_wand"),{method:"POST",nonce:A,json:{action:"suggestTitles",data:{postId:n}}});case 5:a=e.sent,c(null===(r=a.data)||void 0===r?void 0:r.results),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),p(e.t0.message);case 13:f(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=js(Is().mark((function e(t){return Is().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,r(t);case 4:v(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(e.t0.message);case 10:f(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=js(Is().mark((function e(){return Is().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),c([]),p(),f(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Bs((function(){return s?React.createElement(Mu.S,{type:"circle",size:"10%"}):d?React.createElement(React.Fragment,null,"Error: ",d):(null==l?void 0:l.length)>0?React.createElement(React.Fragment,null,"Pick a new title by clicking on it.",React.createElement(Cs,null,l.map((function(e){return React.createElement(Ls,{key:e,onClick:function(){y(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[s,l,d]);return React.createElement(g.o,null,React.createElement(_e.L,{isOpen:t,onRequestClose:v,title:'New title for "'.concat(null==t?void 0:t.postTitle,'"'),content:b,okButton:{label:"Close",onClick:v}}))};function Hs(e){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(e)}function Vs(){Vs=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Hs(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Hs(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ys(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Zs(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ys(o,r,a,i,l,"next",e)}function l(e){Ys(o,r,a,i,l,"throw",e)}i(void 0)}))}}function zs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ws(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xs=wp.element,qs=Xs.useState,Qs=Xs.useEffect,Ks=Xs.useMemo;const Js=function(e){var t=e.post,n=e.onExcerptClick,r=void 0===n?{}:n,a=e.onClose,o=void 0===a?{}:a,i=zs(qs([]),2),l=i[0],c=i[1],u=zs(qs(!1),2),s=u[0],f=u[1],m=zs(qs(!1),2),d=m[0],p=m[1];Qs((function(){t&&h(t)}),[t]);var h=function(){var e=Zs(Vs().mark((function e(t){var n,r,a;return Vs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,f(!0),e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/ai/magic_wand"),{method:"POST",nonce:A,json:{action:"suggestExcerpts",data:{postId:n}}});case 5:a=e.sent,c(null===(r=a.data)||void 0===r?void 0:r.results),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),p(e.t0.message);case 13:f(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Zs(Vs().mark((function e(t){return Vs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,r(t);case 4:v(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(e.t0.message);case 10:f(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Zs(Vs().mark((function e(){return Vs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),c([]),p(),f(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Ks((function(){return s?React.createElement(Mu.S,{type:"circle",size:"10%"}):d?React.createElement(React.Fragment,null,"Error: ",d):(null==l?void 0:l.length)>0?React.createElement(React.Fragment,null,"Pick a new excerpt by clicking on it.",React.createElement(Cs,null,l.map((function(e){return React.createElement(Ls,{key:e,onClick:function(){y(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[s,l,d]);return React.createElement(g.o,null,React.createElement(_e.L,{isOpen:t,onRequestClose:v,title:'New excerpt for "'.concat(null==t?void 0:t.postTitle,'"'),content:b,okButton:{label:"Close",onClick:v}}))};function $s(e){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(e)}function ef(){ef=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==$s(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError($s(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function tf(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function nf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){tf(o,r,a,i,l,"next",e)}function l(e){tf(o,r,a,i,l,"throw",e)}i(void 0)}))}}function rf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var af=wp.element,of=af.useState,lf=af.useEffect;const cf=function(){var e,t,n=(e=of(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];lf((function(){document.querySelectorAll(".mwai-link-title").forEach((function(e){var t=e.getAttribute("data-id"),n=e.getAttribute("data-title");e.addEventListener("click",(function(){a({postId:t,postTitle:n,mode:"title"})}),!1)})),document.querySelectorAll(".mwai-link-excerpt").forEach((function(e){var t=e.getAttribute("data-id"),n=e.getAttribute("data-title");e.addEventListener("click",(function(){a({postId:t,postTitle:n,mode:"excerpt"})}),!1)}))}),[]);var o=function(){var e=nf(ef().mark((function e(t){var n,o,i,l;return ef().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/update_post_title"),{method:"POST",nonce:A,json:{postId:r.postId,title:t}});case 2:if((n=e.sent).success){e.next=7;break}throw new Error(n.message);case 7:a(),(o=document.querySelector('tr[id="post-'.concat(r.postId,'"]')))&&(i=o.querySelector(".row-title"))&&(i.innerHTML=t),(l=o.querySelector(".hidden .post_title"))&&(l.innerHTML=t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=nf(ef().mark((function e(t){var n;return ef().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/update_post_excerpt"),{method:"POST",nonce:A,json:{postId:r.postId,excerpt:t}});case 2:if((n=e.sent).success){e.next=7;break}throw new Error(n.message);case 7:a();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(Us,{post:"title"===(null==r?void 0:r.mode)?r:null,onTitleClick:o,onClose:function(){a()}}),React.createElement(Js,{post:"excerpt"===(null==r?void 0:r.mode)?r:null,onExcerptClick:i,onClose:function(){a()}})))};function uf(e){return uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(e)}function sf(){sf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==uf(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(uf(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ff(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function mf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ff(o,r,a,i,l,"next",e)}function l(e){ff(o,r,a,i,l,"throw",e)}i(void 0)}))}}function df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?df(Object(n),!0).forEach((function(t){hf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):df(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==uf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==uf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===uf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||vf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vf(e,t){if(e){if("string"==typeof e)return gf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gf(e,t):void 0}}function gf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bf=wp.element,Ef=bf.useState,wf=bf.useEffect,Rf=bf.useMemo;const xf=function(){var e,t,n,r,a,o,i,l,c,u,s,f,d,p,v,b,w,x=yf(Ef(""),2),O=x[0],S=x[1],N=yf(Ef(""),2),_=N[0],C=N[1],L=os("contentGenerator"),j=L.template,P=L.setTemplate,M=L.clearTemplate,D=L.jsxTemplates,F=ct(I).completionModels,G=(0,Zt.qj)(),B=yf(Ef(!1),2),U=B[0],H=B[1],V=yf(Ef(),2),Y=V[0],Z=V[1],z=yf(Ef(!1),2),W=z[0],X=z[1],q=yf(Ef(!1),2),Q=q[0],K=q[1],J=yf(Ef(!1),2),$=J[0],ee=J[1],te=yf(Ef(),2),ne=te[0],re=te[1],ae=yf(Ef("post"),2),oe=ae[0],ie=ae[1],le=yf(Ef([]),2),ce=le[0],ue=le[1],se=yf(Ef([]),2),fe=se[0],me=se[1],de=yf(Ef({}),2),pe=de[0],he=de[1],ye=Rf((function(){return function(e){if(!e)return null;var t=e.split(" ").length,n=e.length,r=[];return n?(t<3?r.push(Ve.CONTENT_GENERATOR.TITLE_TOO_SHORT):t>8?r.push(Ve.CONTENT_GENERATOR.TITLE_TOO_LONG):n<40?r.push(Ve.CONTENT_GENERATOR.TITLE_TOO_SHORT):n>70&&r.push(Ve.CONTENT_GENERATOR.TITLE_TOO_LONG_2),r.join(" ")):void 0}(Le)}),[Le]),ve=fs(I),ge=ve.addUsage,be=ve.jsxUsageCosts,Re=(0,Ce.a)({queryKey:["postTypes"],queryFn:Qt}),xe=Re.isLoading,Se=Re.data,Ne=G.busy||U||xe,Le=null!==(e=null==j?void 0:j.title)&&void 0!==e?e:"",Ae=null!==(t=null==j?void 0:j.sections)&&void 0!==t?t:"",Ie=null!==(n=null==j?void 0:j.mode)&&void 0!==n?n:"single",ke=null!==(r=null==j?void 0:j.topic)&&void 0!==r?r:"",je=null!==(a=null==j?void 0:j.topics)&&void 0!==a?a:"",Pe=null!==(o=null==j?void 0:j.model)&&void 0!==o?o:"gpt-3.5-turbo",Me=null!==(i=null==j?void 0:j.sectionsCount)&&void 0!==i?i:2,De=null!==(l=null==j?void 0:j.paragraphsCount)&&void 0!==l?l:3,Fe=null!==(c=null==j?void 0:j.writingStyle)&&void 0!==c?c:"creative",Ge=null!==(u=null==j?void 0:j.writingTone)&&void 0!==u?u:"cheerful",Be=null!==(s=null==j?void 0:j.titlePromptFormat)&&void 0!==s?s:"",Ue=null!==(f=null==j?void 0:j.sectionsPromptFormat)&&void 0!==f?f:"",He=null!==(d=null==j?void 0:j.contentPromptFormat)&&void 0!==d?d:"",Ye=null!==(p=null==j?void 0:j.excerptPromptFormat)&&void 0!==p?p:"",Ze=null!==(v=null==j?void 0:j.temperature)&&void 0!==v?v:.6,ze=null!==(b=null==j?void 0:j.maxTokens)&&void 0!==b?b:2048,We=null!==(w=null==j?void 0:j.topicsAreTitles)&&void 0!==w&&w,Xe=!Ue||!Me,qe=lt({options:I,language:null==j?void 0:j.language,customLanguage:null==j?void 0:j.customLanguage}),Qe=qe.jsxLanguageSelector,Ke=qe.currentLanguage,Je=qe.isCustom,$e=qe.currentHumanLanguage,et=function(e,t){P((function(n){return pf(pf({},n),{},hf({},t,e))}))};wf((function(){var e=je.split("\n").map((function(e){return e.trim()})).filter((function(e){return!!e}));ue(e)}),[je]),wf((function(){j&&et("","sections")}),[Le,Me]),wf((function(){S(""),C(""),re()}),[Ae,De]),wf((function(){j&&(!Je&&j.customLanguage&&et(null,"customLanguage"),Je&&j.customLanguage!==$e&&et($e,"customLanguage"),j.language!==Ke&&et(Ke,"language"))}),[Je,Ke,$e]);var tt=function(e){return e.replace("{LANGUAGE}",$e).replace("{WRITING_STYLE}",Fe).replace("{WRITING_TONE}",Ge).replace("{PARAGRAPHS_PER_SECTION}",De).replace("{SECTIONS_COUNT}",Me)},nt=Rf((function(){var e=function(e,t){return!!t.find((function(t){return t.includes(e)}))},t=[Be,Ue,He,Ye];return{language:e("{LANGUAGE}",t),writingStyle:e("{WRITING_STYLE}",t),writingTone:e("{WRITING_TONE}",t),sectionsCount:e("{SECTIONS_COUNT}",t),paragraphsCount:e("{PARAGRAPHS_PER_SECTION}",t)}}),[Be,Ue,He,Ye,Me,De]),rt=function(){var e=mf(sf().mark((function e(t){var n,r,a,o,i,l,c=arguments;return sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:2048,r=c.length>2&&void 0!==c[2]&&c[2],e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",nonce:A,json:{env:"admin-tools",session:k,prompt:t,temperature:Ze,maxTokens:n,model:Pe}});case 5:return i=e.sent,ge(Pe,(null==i||null===(a=i.usage)||void 0===a?void 0:a.prompt_tokens)||0,(null==i||null===(o=i.usage)||void 0===o?void 0:o.completion_tokens)||0),(l=i.data.trim()).startsWith('"')&&l.endsWith('"')&&(l=l.substring(1,l.length-1)),e.abrupt("return",l);case 12:if(e.prev=12,e.t0=e.catch(2),!r){e.next=16;break}throw new Error(e.t0.message);case 16:return console.error(e.t0),Z(e.t0.message),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=mf(sf().mark((function e(){var t,n,r,a,o,i=arguments;return sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:ke,r=i.length>2&&void 0!==i[2]&&i[2],n=i.length>1&&void 0!==i[1]?i[1]:Le){e.next=6;break}return alert(Ve.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 6:return H(!0),et("","sections"),console.log("Sections Prompt:",{inTopic:t,inTitle:n,sectionsPromptFormat:Ue}),a=(a=Ue.replace("{TITLE}",n)).replace("{TOPIC}",t),a=tt(a),e.next=14,rt(a,512,r);case 14:return o=(l=o=e.sent)?l.split("\n").map((function(e){return(e=e.replace(/^\d+\.\s/,"")).startsWith('"')&&(e=e.slice(1)).endsWith('"')&&(e=e.slice(0,-1)),e})).filter((function(e){return e})).join("\n"):l,console.log("Sections:",{prompt:a,sections:o}),o&&et(o,"sections"),H(!1),e.abrupt("return",o);case 20:case"end":return e.stop()}var l}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=mf(sf().mark((function e(){var t,n,r,a,o,i,l=arguments;return sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:ke,r=l.length>2&&void 0!==l[2]?l[2]:Ae,a=l.length>3&&void 0!==l[3]&&l[3],n=l.length>1&&void 0!==l[1]?l[1]:Le){e.next=7;break}return alert(Ve.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 7:if(Xe||r){e.next=10;break}return alert(Ve.CONTENT_GENERATOR.SECTIONS_MISSING),e.abrupt("return");case 10:return H(!0),S((function(e){return""})),o=(o=(o=He.replace("{TITLE}",n)).replace("{SECTIONS}",r)).replace("{TOPIC}",t),o=tt(o),e.next=18,rt(o,ze,a);case 18:return(i=e.sent)&&(i=(i=(i=(i=(i=(i=i.replace(/^===INTRO:\n/,"")).replace(/^===INTRO: \n/,"")).replace(/===INTRO: /,"")).replace(/===OUTRO:\n/,"")).replace(/===OUTRO: \n/,"")).replace(/===OUTRO: /,""),S((function(e){return i}))),console.log("Content:",{prompt:o,content:i}),H(!1),e.abrupt("return",i);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=mf(sf().mark((function e(){var t,n,r,a,o,i=arguments;return sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:ke,r=i.length>2&&void 0!==i[2]&&i[2],n=i.length>1&&void 0!==i[1]?i[1]:Le){e.next=6;break}return alert(Ve.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 6:return H(!0),C((function(e){return""})),a=(a=Ye.replace("{TITLE}",n)).replace("{TOPIC}",t),a=tt(a),e.next=13,rt(a,256,r);case 13:return(o=e.sent)&&C((function(e){return o})),console.log("Excerpt:",{prompt:a,excerpt:o}),H(!1),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=mf(sf().mark((function e(){var t,n,r,a,o,i,l,c=arguments;return sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:ke,n=c.length>1&&void 0!==c[1]&&c[1],H(!0),he((function(){return pf(pf({},pe),{},{all:new Date})})),e.prev=4,r=t,We&&n){e.next=12;break}return a=tt(Be.replace("{TOPIC}",t)),e.next=10,rt(a,64,n);case 10:r=e.sent,console.log("Title:",{prompt:a,title:r});case 12:if(o=null,i=null,l=null,H(!1),!r){e.next=41;break}if(et(r,"title"),Xe){e.next=25;break}return he((function(e){return pf(pf({},e),{},{sections:new Date})})),e.next=22,at(t,r,n);case 22:return o=e.sent,e.next=25,he((function(e){return pf(pf({},e),{},{sections:null})}));case 25:if(!o&&!Xe){e.next=41;break}return e.next=28,he((function(e){return pf(pf({},e),{},{content:new Date})}));case 28:return e.next=30,ot(t,r,o,n);case 30:return i=e.sent,e.next=33,he((function(e){return pf(pf({},e),{},{content:null})}));case 33:if(!i){e.next=41;break}return e.next=36,he((function(e){return pf(pf({},e),{},{excerpt:new Date})}));case 36:return e.next=38,ut(t,r,n);case 38:return l=e.sent,e.next=41,he((function(e){return pf(pf({},e),{},{excerpt:null})}));case 41:return e.abrupt("return",{title:r,heads:o,content:i,excerpt:l});case 44:throw e.prev=44,e.t0=e.catch(4),console.error(e.t0),H(!1),he({}),e.t0;case 50:case"end":return e.stop()}}),e,null,[[4,44]])})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=mf(sf().mark((function e(){var t,n,r,a,o,i=arguments;return sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:Le,n=i.length>1&&void 0!==i[1]?i[1]:O,r=i.length>2&&void 0!==i[2]?i[2]:_,a=i.length>3&&void 0!==i[3]&&i[3],H(!0),e.prev=5,e.next=8,(0,R.PV)("".concat(T,"/helpers/create_post"),{method:"POST",nonce:A,json:{title:t,content:n,excerpt:r,postType:oe}});case 8:return o=e.sent,a||re(o.postId),e.abrupt("return",o.postId);case 13:return e.prev=13,e.t0=e.catch(5),console.error(e.t0),Z(e.t0.message),e.abrupt("return",null);case 18:return e.prev=18,H(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,13,18,21]])})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=mf(sf().mark((function e(){var t;return sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me([]),t=ce.map((function(e,t){return mf(sf().mark((function n(){var r,a,o,i,l;return sf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Topic "+t),n.prev=1,n.next=4,st(e,!0);case 4:if(r=n.sent,a=r.title,o=r.content,i=r.excerpt,!(a&&o&&i)){n.next=15;break}return n.next=11,ft(a,o,i,!0);case 11:l=n.sent,me((function(t){return[].concat(function(e){if(Array.isArray(e))return gf(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||vf(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{postId:l,topic:e,title:a,content:o,excerpt:i}]);var n})),n.next=16;break;case 15:console.warn("Could not generate the post for: "+e);case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(1),confirm("An error was caught ("+n.t0.message+"). Should we continue?")||(G.stop(),G.reset(),H(!1));case 21:return n.abrupt("return",{success:!0});case 22:case"end":return n.stop()}}),n,null,[[1,18]])})))})),e.next=4,G.start(t);case 4:G.reset();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(y.s,{nekoErrors:[]},React.createElement(It,{title:Ve.COMMON.CONTENT_GENERATOR}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(it,{options:I}),React.createElement(m.O,{p:!0,style:{marginTop:0,marginBottom:0}},(0,R.io)(Ve.CONTENT_GENERATOR.INTRO))),React.createElement(g.z,{style:{flex:1}},React.createElement(br,null,React.createElement("h2",{style:{marginTop:0}},"Topic"),React.createElement(Te.l,{name:"topic",disabled:Ne||"bulk"===Ie,rows:5,value:ke,onChange:et}),React.createElement(Oe.i,null),React.createElement(E._,{fullWidth:!0,disabled:!ke||"bulk"===Ie,isBusy:Ne,startTime:null==pe?void 0:pe.all,onClick:function(){return st()}},Ve.COMMON.GENERATE)),React.createElement(Oe.i,null),React.createElement(br,null,D)),React.createElement(g.z,{style:{flex:3}},React.createElement(Gt.h,{name:"mode",value:Ie,disabled:Ne,onChange:et},React.createElement(Gt.S,{title:Ve.CONTENT_GENERATOR.SINGLE_GENERATE,value:"single"}),React.createElement(Gt.S,{title:Ve.CONTENT_GENERATOR.BULK_GENERATE,value:"bulk",count:ce.length})),React.createElement(Oe.i,null),"bulk"===Ie&&React.createElement(br,null,React.createElement("p",{style:{marginTop:0,marginBottom:20}},(0,R.io)(Ve.CONTENT_GENERATOR.TOPICS_HELP)),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{disabled:Ne||!ce.length,onClick:mt},Ve.COMMON.GENERATE),React.createElement(Yt.U,{busy:G.busy,style:{marginLeft:10,flex:"auto"},value:G.value,max:G.max,onStopClick:G.stop})),React.createElement(Oe.i,null),React.createElement("h3",null,"Topics"),React.createElement(Te.l,{name:"topics",rows:10,value:je,onChange:et}),React.createElement(h.P,{name:"topicsAreTitles",label:"Use Topics as Titles",value:"1",checked:We,onChange:et}),React.createElement("h3",null,Ve.CONTENT_GENERATOR.GENERATED_POSTS),!fe.length&&React.createElement("i",null,"Nothing yet."),fe.length>0&&React.createElement("ul",null,fe.map((function(e){return React.createElement("li",{key:e.postId},e.title," ",React.createElement("a",{target:"_blank",href:"/?p=".concat(e.postId),rel:"noreferrer"},"View")," or ",React.createElement("a",{target:"_blank",href:"/wp-admin/post.php?post=".concat(e.postId,"&action=edit"),rel:"noreferrer"},"Edit"))})))),"single"===Ie&&React.createElement(br,null,React.createElement("h2",{style:{marginTop:0}},"Title"),React.createElement(Ee.A,{name:"title",disabled:Ne,value:Le,onChange:et}),ye&&React.createElement("div",{className:"information"},"Advice: ",ye),Ue&&React.createElement(React.Fragment,null,React.createElement(Oe.i,null),React.createElement(kt,null,React.createElement("h2",null,Ve.CONTENT_GENERATOR.SECTIONS),React.createElement("div",{style:{display:"flex",alignItems:"center"}},nt.sectionsCount&&React.createElement(React.Fragment,null,React.createElement("label",{style:{margin:"0 5px 0 0"}},"# of Sections: "),React.createElement(we.N,{scrolldown:!0,name:"sectionsCount",disabled:Ne,style:{marginRight:10},value:Me,description:"",onChange:et},React.createElement(we.Z,{key:2,value:2,label:2}),React.createElement(we.Z,{key:3,value:3,label:3}),React.createElement(we.Z,{key:4,value:4,label:4}),React.createElement(we.Z,{key:6,value:6,label:6}),React.createElement(we.Z,{key:8,value:8,label:8}),React.createElement(we.Z,{key:10,value:10,label:10}),React.createElement(we.Z,{key:12,value:12,label:12}))),Me>0&&React.createElement(E._,{disabled:!Le,isBusy:Ne,startTime:null==pe?void 0:pe.sections,onClick:function(){return at()}},Ve.CONTENT_GENERATOR.GENERATE_SECTIONS))),Me>0&&React.createElement(React.Fragment,null,React.createElement(Oe.i,null),React.createElement(Te.l,{name:"sections",disabled:Ne,rows:4,value:Ae,description:Ve.CONTENT_GENERATOR.SECTIONS_HELP,onChange:et}))),React.createElement(Oe.i,null),React.createElement(kt,null,React.createElement("h2",null,Ve.COMMON.CONTENT),React.createElement("div",{style:{display:"flex",alignItems:"center"}},nt.paragraphsCount&&React.createElement(React.Fragment,null,React.createElement("label",{style:{margin:"0 5px 0 0"}},Ve.CONTENT_GENERATOR.PARAGRAPHS_PER_SECTION,": "),React.createElement(we.N,{scrolldown:!0,name:"paragraphsCount",disabled:Ne,style:{marginRight:10},value:De,description:"",onChange:et},React.createElement(we.Z,{key:1,value:1,label:1}),React.createElement(we.Z,{key:2,value:2,label:2}),React.createElement(we.Z,{key:3,value:3,label:3}),React.createElement(we.Z,{key:4,value:4,label:4}),React.createElement(we.Z,{key:6,value:6,label:6}),React.createElement(we.Z,{key:8,value:8,label:8}),React.createElement(we.Z,{key:10,value:10,label:10}))),React.createElement(E._,{disabled:!Le,isBusy:Ne,startTime:null==pe?void 0:pe.content,onClick:function(){return ot()}},Ve.CONTENT_GENERATOR.GENERATE_CONTENT))),React.createElement(Oe.i,null),React.createElement(Te.l,{countable:"words",disabled:Ne,rows:12,value:O,description:Ve.CONTENT_GENERATOR.CONTENT_HELP,onChange:S}),React.createElement(Oe.i,null),React.createElement(kt,null,React.createElement("h2",null,Ve.COMMON.EXCERPT),React.createElement(E._,{disabled:!Le,isBusy:Ne,startTime:null==pe?void 0:pe.excerpt,onClick:function(){return ut()}},Ve.CONTENT_GENERATOR.GENERATE_EXCERPT)),React.createElement(Oe.i,null),React.createElement(Te.l,{disabled:Ne,value:_,onBlur:C,rows:3}),React.createElement(Oe.i,{line:!0,height:40}),React.createElement(we.N,{scrolldown:!0,disabled:Ne,name:"postType",onChange:ie,value:oe},null==Se?void 0:Se.map((function(e){return React.createElement(we.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(Oe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:60},onClick:function(){return ft()},isBusy:Ne,disabled:!Le||!O},Ve.CONTENT_GENERATOR.CREATE_POST))),React.createElement(g.z,null,React.createElement(br,null,React.createElement("h2",{style:{marginTop:0}},Ve.CONTENT_GENERATOR.CONTENT_PARAMS),!nt.language&&!nt.writingStyle&&!nt.writingTone&&React.createElement("div",{style:{fontSize:11,lineHeight:"14px"}},Ve.CONTENT_GENERATOR.CONTENT_PARAMS_INTRO),nt.language&&React.createElement(React.Fragment,null,React.createElement("label",null,Ve.COMMON.LANGUAGE,":"),Qe),nt.writingStyle&&React.createElement(React.Fragment,null,React.createElement("label",null,Ve.CONTENT_GENERATOR.WRITING_STYLE,":"),React.createElement(we.N,{scrolldown:!0,name:"writingStyle",disabled:Ne,value:Fe,description:"",onChange:et},Du.map((function(e){return React.createElement(we.Z,{key:e.value,value:e.value,label:e.label})})))),nt.writingTone&&React.createElement(React.Fragment,null,React.createElement("label",null,Ve.CONTENT_GENERATOR.WRITING_TONE,":"),React.createElement(we.N,{scrolldown:!0,name:"writingTone",disabled:Ne,value:Ge,description:"",onChange:et},Fu.map((function(e){return React.createElement(we.Z,{key:e.value,value:e.value,label:e.label})}))))),React.createElement(Oe.i,null),React.createElement(br,null,React.createElement(kt,null,React.createElement("h2",null,Ve.CONTENT_GENERATOR.POST_PARAMS),React.createElement(E._,{onClick:function(){return K(!Q)}},Q?Ve.COMMON.HIDE:Ve.COMMON.SHOW)),Q&&React.createElement(React.Fragment,null,React.createElement("label",null,Ve.COMMON.POST_TYPE,":"),React.createElement(we.N,{scrolldown:!0,disabled:Ne,name:"postType",onChange:ie,value:oe},null==Se?void 0:Se.map((function(e){return React.createElement(we.Z,{key:e.type,value:e.type,label:e.name})}))))),React.createElement(Oe.i,null),React.createElement(br,null,React.createElement(kt,null,React.createElement("h2",null,Ve.COMMON.MODEL_PARAMS),React.createElement(E._,{onClick:function(){return X(!W)}},W?Ve.COMMON.HIDE:Ve.COMMON.SHOW)),W&&React.createElement(React.Fragment,null,React.createElement("label",null,Ve.COMMON.TEMPERATURE,":"),React.createElement(Ee.A,{name:"temperature",value:Ze,type:"number",onChange:et,onBlur:et,description:Ve.HELP.TEMPERATURE}),React.createElement("label",null,Ve.COMMON.MAX_TOKENS,":"),React.createElement(Ee.A,{name:"maxTokens",value:ze,type:"number",onChange:et,onBlur:et,description:Ve.HELP.MAX_TOKENS}),React.createElement("label",null,Ve.COMMON.MODEL,":"),React.createElement(we.N,{name:"model",value:Pe,description:Ve.CONTENT_GENERATOR.MODEL_HELP,scrolldown:!0,onChange:et},F.map((function(e){return React.createElement(we.Z,{value:e.model,label:e.name})}))))),React.createElement(Oe.i,null),React.createElement(br,null,React.createElement(kt,null,React.createElement("h2",null,(0,R.io)(Ve.COMMON.PROMPTS)),React.createElement(E._,{onClick:function(){return ee(!$)}},$?"Hide":"Show")),$&&React.createElement(React.Fragment,null,React.createElement("p",{style:{fontSize:11,lineHeight:"14px"}},Ve.CONTENT_GENERATOR.PROMPTS_INTRO),React.createElement("label",null,(0,R.io)(Ve.CONTENT_GENERATOR.PROMPT_TITLE)),React.createElement(Te.l,{disabled:Ne,name:"titlePromptFormat",value:Be,onChange:et}),React.createElement("label",null,(0,R.io)(Ve.CONTENT_GENERATOR.PROMPT_SECTIONS)),React.createElement(Te.l,{disabled:Ne,name:"sectionsPromptFormat",value:Ue,onChange:et}),React.createElement("label",null,(0,R.io)(Ve.CONTENT_GENERATOR.PROMPT_CONTENT)),React.createElement(Te.l,{disabled:Ne,name:"contentPromptFormat",value:He,onChange:et}),React.createElement("label",null,(0,R.io)(Ve.CONTENT_GENERATOR.PROMPT_EXCERPT)),React.createElement(Te.l,{disabled:Ne,name:"excerptPromptFormat",value:Ye,onChange:et}))),React.createElement(Oe.i,null),be)),React.createElement(_e.L,{isOpen:ne,onRequestClose:function(){return re()},okButton:{label:Ve.CONTENT_GENERATOR.EDIT_POST,onClick:function(){window.open("/wp-admin/post.php?post=".concat(ne,"&action=edit"),"_blank"),M(),re()}},cancelButton:{label:"Close",onClick:function(){re()}},title:Ve.CONTENT_GENERATOR.POST_CREATED,content:React.createElement("p",null,Ve.CONTENT_GENERATOR.POST_CREATED_AS_DRAFT)}),React.createElement(_e.L,{isOpen:Y,onRequestClose:function(){Z()},okButton:{onClick:function(){Z()}},title:"Error",content:React.createElement("p",null,Y)}))};function Of(e){return Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(e)}var Sf;function Tf(){Tf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Of(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Of(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Nf(e){return function(e){if(Array.isArray(e))return jf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _f(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Cf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_f(o,r,a,i,l,"next",e)}function l(e){_f(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lf(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Of(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Of(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Of(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function If(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||kf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kf(e,t){if(e){if("string"==typeof e)return jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jf(e,t):void 0}}function jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pf=wp.element,Mf=Pf.useState,Df=Pf.useEffect,Ff=Pf.useMemo,Gf=[1,2,3,6,9],Bf=F.ZP.div(Sf||(Sf=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-bottom: 5px;\n\n  label {\n    margin-bottom: 5px;\n    display: block;\n  }\n"])));const Uf=function(){var e=os("imagesGenerator"),t=e.template,n=e.setTemplate,r=e.jsxTemplates,a=If(Mf(),2),o=a[0],i=a[1],l=If(Mf(!0),2),c=l[0],u=l[1],s=If(Mf(!1),2),f=s[0],d=s[1],p=If(Mf([]),2),v=p[0],b=p[1],w=If(Mf(),2),x=w[0],O=w[1],S=If(Mf(""),2),N=S[0],_=S[1],C=If(Mf(""),2),L=C[0],j=C[1],P=If(Mf(""),2),M=P[0],D=P[1],F=If(Mf(""),2),G=F[0],B=F[1],U=If(Mf(""),2),H=U[0],V=U[1],Y=If(Mf([]),2),Z=Y[0],z=Y[1],W=Ff((function(){return v.indexOf(x)}),[x,v]),X=null==t?void 0:t.prompt,q=null==t?void 0:t.maxResults;Df((function(){if(x){var e=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:42,n=e.replace(/[\s|,]+/g,"-"),r=(n=n.replace(/--+/g,"-")).split("-"),a=r[0],o=1;o<r.length&&r[o]&&a.length+r[o].length<t;)a+="-"+r[o],o++;return a.length>t+1&&(a=a.slice(0,t+2)),a}(X)+".png";V(e),_(X),j(X),D(X),B(X)}}),[x]);var Q=function(){var e=Cf(Tf().mark((function e(){var t;return Tf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/ai/images"),{method:"POST",nonce:A,json:{env:"admin-tools",session:k,prompt:X,maxResults:q}});case 4:t=e.sent,b(c?[].concat(Nf(v),Nf(t.data)):t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),i(e.t0.message);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Cf(Tf().mark((function e(){var t;return Tf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/helpers/create_image"),{method:"POST",nonce:A,json:{url:x,title:N,description:L,caption:M,alt:G,filename:H}});case 4:t=e.sent,z([].concat(Nf(Z),[{id:t.attachmentId,url:x}])),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),i(e.t0.message);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),J=Ff((function(){var e=Z.find((function(e){return e.url===x}));return e?e.id:null}),[x,Z]);return React.createElement(y.s,{nekoErrors:[]},React.createElement(It,{title:Ve.COMMON.IMAGES_GENERATOR}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(it,{options:I}),React.createElement(m.O,{p:!0,style:{marginTop:0,marginBottom:0}},"This will also be available in the Post Editor soon. If you have any idea or request, please join us on the ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/support/plugin/ai-engine/"},"Support Forum"),"! 🎵")),React.createElement(g.z,null,React.createElement(br,{style:{marginBottom:25}},r)),React.createElement(g.z,{style:{flex:3}},x&&React.createElement(React.Fragment,null,React.createElement(xe.H,null,React.createElement(kt,{style:{paddingBottom:10}},React.createElement("h2",null,"Images Generator"),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(E._,{disabled:W<1||f,onClick:function(){W>0&&O(v[W-1])}},"<"),React.createElement(E._,{disabled:f,onClick:function(){return O()}},"Back to results"),React.createElement(E._,{disabled:W>=v.length-1||f,onClick:function(){W<v.length-1&&O(v[W+1])}},">"))),React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{flex:2}},React.createElement("img",{src:x,style:{width:"100%"}})),React.createElement("div",{style:{flex:1,marginLeft:10,display:"flex",flexDirection:"column"}},React.createElement(Bf,null,React.createElement("label",null,"Title:"),React.createElement(Te.l,{value:N,onBlur:_,rows:2})),React.createElement(Bf,null,React.createElement("label",null,"Caption:"),React.createElement(Te.l,{value:M,onBlur:D,rows:2})),React.createElement(Bf,null,React.createElement("label",null,"Description:"),React.createElement(Te.l,{value:L,onBlur:j,rows:2})),React.createElement(Bf,null,React.createElement("label",null,"Alternative Text:"),React.createElement(Te.l,{value:G,onBlur:B,rows:2})),React.createElement(Bf,null,React.createElement("label",null,"Filename:"),React.createElement(Ee.A,{value:H,onChange:V})),React.createElement(E._,{fullWidth:!0,style:{marginTop:7},isBusy:f,onClick:function(){return K()}},"Add to Media Library"),React.createElement(E._,{fullWidth:!0,style:{marginLeft:0,marginTop:7},isBusy:f,onClick:function(){return(e=document.createElement("a")).href=x,e.target="_blank",e.download=H,void e.click();var e}},"Download"),React.createElement(Oe.i,null),J&&React.createElement(Ne.S,{variant:"success"},"The media has been created! You can edit it here: ",React.createElement("a",{href:"/wp-admin/post.php?post=".concat(J,"&action=edit"),target:"_blank"},"Edit Media #",J),"."))))),!x&&React.createElement(React.Fragment,null,React.createElement(xe.H,null,React.createElement(kt,null,React.createElement("h2",null,"Generated Images"),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("label",{style:{margin:"0 5px 0 0"}},"# of Images: "),React.createElement(we.N,{scrolldown:!0,id:"maxResults",name:"maxResults",disabled:f,style:{marginRight:10},value:q,description:"",onChange:function(e){n(Af(Af({},t),{},{maxResults:e}))}},Gf.map((function(e){return React.createElement(we.Z,{key:e,id:e,value:e,label:e})}))),React.createElement(E._,{disabled:!X,isBusy:f,onClick:Q},"Generate Images"))),React.createElement(Te.l,{value:X,onChange:function(e){n(Af(Af({},t),{},{prompt:e}))},style:{marginTop:20}}),React.createElement(jt,null,v.map((function(e){return React.createElement("img",{src:e,onClick:function(){return O(e)}})})),Nf(Array(Math.max(3-v.length,0)).keys()).map((function(e){return React.createElement("div",{class:"empty-image"})})))))),React.createElement(g.z,null,React.createElement(xe.H,{style:{marginBottom:25}},React.createElement("h2",{style:{marginTop:0}},"Settings"),React.createElement(h.P,{id:"continuous_mode ",label:"Continuous",value:"1",checked:c,description:"New images will be added to the already generated images.",onChange:u})))),React.createElement(_e.L,{isOpen:o,onRequestClose:function(){i()},okButton:{onClick:function(){i()}},title:"Error",content:React.createElement("p",null,o)}))};var Hf=wp.element,Vf=(Hf.useState,Hf.useEffect,Hf.useMemo);const Yf=function(e){var t=e.isOpen,n=void 0!==t&&t,r=e.title,a=e.error,o=e.results,i=e.busy,l=void 0!==i&&i,c=e.onClick,u=void 0===c?function(){}:c,f=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},m=Vf((function(){return l?React.createElement(Mu.S,{type:"circle",size:"10%"}):a?React.createElement(React.Fragment,null,"Error: ",a):(null==o?void 0:o.length)>0?React.createElement(React.Fragment,null,"Pick one of those results:",React.createElement(Cs,null,o.map((function(e){return React.createElement(Ls,{key:f(e),onClick:function(){u(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[o,a]);return React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(_e.L,{isOpen:n,title:null!=r?r:"Results",content:m,onRequestClose:function(){return u()},okButton:{label:"Close",onClick:function(){return u()}}})))};function Zf(e){return Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(e)}function zf(){zf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Zf(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Zf(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Wf(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Xf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Wf(o,r,a,i,l,"next",e)}function l(e){Wf(o,r,a,i,l,"throw",e)}i(void 0)}))}}function qf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kf=wp.element,Jf=Kf.useState,$f=Kf.useEffect,em=wp.i18n.__,tm=wp.plugins.registerPlugin,nm=wp.components,rm=nm.Button,am=nm.ToolbarDropdownMenu,om=nm.ToolbarGroup,im=nm.Spinner,lm=nm.MenuGroup,cm=nm.MenuItem,um=wp.blockEditor.BlockControls,sm=wp.editPost.PluginDocumentSettingPanel,fm=wp.richText.registerFormatType,mm=wp.data.useSelect;function dm(){var e=qf(Jf(!1),2),t=e[0],n=e[1],r=qf(Jf([]),2),a=r[0],o=r[1],i=mm((function(e){return e("core/block-editor").getSelectedBlock()}),[]);if(!i)return null;if("core/paragraph"===i.name){var l=function(e){e.style.opacity=.15,e.style.pointerEvents="none",e.style.userSelect="none",e.style.animation="neko-fade-animation 0.85s infinite linear"},c=function(e){e.style.opacity=1,e.style.pointerEvents="auto",e.style.userSelect="auto",e.style.animation="none"};$f((function(){if(null!=i&&i.clientId){var e=document.getElementById("block-"+i.clientId);e?t?l(e):c(e):console.warn("AI Engine: Could not find block element.")}}),[t,i]);var u=function(){var e=document.getElementById("block-"+i.clientId);e?c(e):console.warn("AI Engine: Could not find block element.")},s=function(e){wp.data.dispatch("core/block-editor").updateBlockAttributes(i.clientId,{content:e})},f=i.attributes.content,m=window.getSelection().toString(),d=function(){var e=Xf(zf().mark((function e(t){var r,a,c,d,p,h,y,v,g;return zf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wp.data.select("core/editor"),a=r.getCurrentPost,c=a(),d=c.id,n(!0),void 0,(b=document.getElementById("block-"+i.clientId))?l(b):console.warn("AI Engine: Could not find block element."),document.activeElement.blur(),e.next=7,(0,R.PV)("".concat(T,"/ai/magic_wand"),{method:"POST",nonce:A,json:{action:t,data:{postId:d,text:f,selectedText:m}}});case 7:if(p=e.sent,u(),n(!1),p.success){e.next=14;break}throw new Error(p.message);case 14:h=p.data,y=h.mode,v=h.result,g=h.results,"replace"===y?s(v):"suggest"===y&&o(g);case 16:case"end":return e.stop()}var b}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("style",null,"\n        @keyframes neko-fade-animation {\n          0% { opacity: 0.15; }\n          50% { opacity: 0.3; }\n          100% { opacity: 0.15; }\n        }\n    "),React.createElement(um,null,React.createElement(om,null,React.createElement(am,{icon:t?React.createElement(im,null):React.createElement(Tt,{icon:"wand",style:{marginRight:0}}),label:em("AI Wand")},(function(){return React.createElement(React.Fragment,null,React.createElement(lm,null,React.createElement(cm,{onClick:function(){return d("correctText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Correct Text"),React.createElement("small",null,"Grammar & Spelling"))),React.createElement(cm,{onClick:function(){return d("enhanceText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Enhance Text"),React.createElement("small",null,"Readibility & Quality"))),React.createElement(cm,{onClick:function(){return d("longerText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Longer Text"),React.createElement("small",null,"Readibility"))),React.createElement(cm,{onClick:function(){return d("shorterText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Shorter Text"),React.createElement("small",null,"Readibility"))),React.createElement(cm,{onClick:function(){return d("translateText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Translate Text"),React.createElement("small",null,"To Post Language")))),React.createElement(lm,null,React.createElement(cm,{disabled:!m,onClick:function(){return d("suggestSynonyms")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Suggest Synonyms"),React.createElement("small",null,"For Selected Words")))))})))),React.createElement(Yf,{isOpen:null==a?void 0:a.length,results:a,onClick:function(e){o([]),e&&function(e){var t=wp.data.select("core/block-editor"),n=t.getSelectionStart,r=t.getSelectionEnd,a=wp.data.select("core/block-editor").getSelectedBlock(),o=a.attributes.content,i=n().offset,l=r().offset,c=o.substring(0,i)+e+o.substring(l);wp.data.dispatch("core/block-editor").updateBlockAttributes(a.clientId,{content:c})}(e)},onClose:function(){return o([])}}))}}var pm=function(){var e=null==I?void 0:I.module_suggestions,t=qf(Jf(),2),n=t[0],r=t[1],a=qf(Jf(),2),o=a[0],i=a[1],l=function(){var e=Xf(zf().mark((function e(t){return zf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wp.data.dispatch("core/editor").editPost({title:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Xf(zf().mark((function e(t){return zf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wp.data.dispatch("core/editor").editPost({excerpt:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return e?React.createElement(s.Z,null,React.createElement(sm,{name:"mwai-document-settings",title:React.createElement(React.Fragment,null,React.createElement(Tt,null)," AI Engine"),className:"mwai-document-settings"},React.createElement("p",null,"Suggest:"),React.createElement("div",{style:{display:"flex"}},React.createElement(rm,{variant:"primary",onClick:function(){var e=(0,wp.data.select("core/editor").getCurrentPost)(),t=e.id,n=e.title;r({postId:t,postTitle:n})},style:{flex:1,marginRight:10}},React.createElement(Tt,{icon:"wand",style:{marginRight:8}})," Titles"),React.createElement(rm,{variant:"primary",onClick:function(){var e=(0,wp.data.select("core/editor").getCurrentPost)(),t=e.id,n=e.title;i({postId:t,postTitle:n})},style:{flex:1}},React.createElement(Tt,{icon:"wand",style:{marginRight:8}})," Excerpts")),React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(Us,{post:n,onTitleClick:l,onClose:r}),React.createElement(Js,{post:o,onExcerptClick:c,onClose:i}))))):null};function hm(e){return hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(e)}function ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ym(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==hm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==hm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hm(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gm(){gm=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==hm(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(hm(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function bm(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Em(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){bm(o,r,a,i,l,"next",e)}function l(e){bm(o,r,a,i,l,"throw",e)}i(void 0)}))}}function wm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xm=wp.hooks.addFilter,Om=wp.element,Sm=Om.useState,Tm=Om.useRef,Nm=Om.useEffect,_m=wp.components,Cm=_m.TextControl,Lm=_m.Spinner;var Am,Im=["children","type","title","hint"];function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},km.apply(this,arguments)}var jm=React.createElement(Tt,{icon:"ai",style:{width:20,height:20}}),Pm=F.ZP.div(Am||(Am=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\tcolor: black;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: 1px solid black;\n\tfont-size: 15px;\n\tbox-sizing: content-box;\n\tfont-weight: 400;\n  font-size: 13px;\n\tpadding: 10px;\n\tbackground: hsl(0deg 0% 100% / 75%);\n\n\t.mwai-title-container {\n\t\tflex: inherit;\n\t\tpadding: 5px 0px 5px 10px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: black;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\n\t\t.mwai-hint {\n\t\t\tfont-size: 10px;\n\t\t\tfont-weight: 400;\n\t\t\ttext-align: right;\n\t\t\tflex: auto;\n\n\t\t\t.mwai-pill {\n\t\t\t\tbackground: var(--wp--preset--color--vivid-cyan-blue);\n\t\t\t\tpadding: 5px 10px;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tcolor: white;\n\t\t\t}\n\n\t\t\t.mwai-pill-purple {\n\t\t\t\tbackground: var(--wp--preset--color--vivid-purple);\n\t\t\t}\n\t\t}\n\t}\n\n\t.mwai-block-container-content  {\n\t\tdisplay: none;\n\t\tflex: auto;\n\t\tpadding: 0px 10px;\n\n\t\t.mwai-block-container {\n\t\t\tborder: 1px solid black;\n\t\t\tmargin: 10px 0;\n\n\t\t\t.mwai-title-container {\n\t\t\t\tbackground: white;\n\t\t\t}\n\n\t\t\t.mwai-block-container-content {\n\t\t\t\tbackground: white;\n\t\t\t}\n\t\t}\n\t}\n\n\t&.mwai-chatbot {\n\t\t.mwai-title-container {\n\t\t\tbackground: white;\n\t\t}\n\n\t\t.mwai-block-container-content {\n\t\t\tbackground: white;\n\t\t}\n\t}\n\n\t&.mwai-container > .mwai-block-container-content {\n\t\tdisplay: block;\n\t}\n\n\t.is-selected {\n\n\t\t&:after {\n\t\t\tborder: 1px solid ",";\n\t\t}\n\n\t\t& > .mwai-block-container:not(.mwai-container) {\n\n\t\t\t.mwai-block-container-content {\n\t\t\t padding: 10px;\n\t\t\t display: flex;\n\t\t\t}\n\t\t}\n\t}\n\t\n"])),Ut.ZP.blue),Mm=function(e){var t=e.children,n=e.type,r=void 0===n?"":n,a=e.title,o=void 0===a?"":a,i=e.hint,l=void 0===i?"":i,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Im),u=(0,Zt.F0)("mwai-block-container","mwai-"+r);return React.createElement(Pm,km({className:u},c),React.createElement("div",{className:"mwai-title-container"},React.createElement(Tt,{icon:"ai",style:{width:20,height:20}}),React.createElement("div",null,o),React.createElement("div",{className:"mwai-hint"},l)),React.createElement("div",{className:"mwai-block-container-content"},t))};function Dm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gm=wp.blocks.registerBlockType,Bm=wp.element.useMemo,Um=wp.components,Hm=Um.PanelBody,Vm=Um.SelectControl,Ym=wp.blockEditor.InspectorControls,Zm=function(e){var t={id:{value:e.attributes.chatbotId,insertIfNull:!0}},n=Object.entries(t).filter((function(e){var t=Dm(e,2)[1],n=t.value,r=t.insertIfNull;return!!n||r})).reduce((function(e,t){var n=Dm(t,2),r=n[0],a=n[1].value;return"".concat(e," ").concat(r,'="').concat(a,'"')}),"[mwai_chatbot_v2");return"".concat(n,"]")},zm=function(e){var t=e.attributes.chatbotId,n=e.setAttributes,r=Bm((function(){var e=M.map((function(e){return{label:e.name,value:e.botId}}));return e.unshift({label:"None",value:null}),e}),[M]),a=Bm((function(){return M.find((function(e){return e.botId===t}))}),[t]),o=Bm((function(){return a?"Chatbot (".concat(a.name,")"):"Chatbot"}),[t]);return React.createElement(React.Fragment,null,React.createElement(Mm,{title:o,type:"chatbot"}),React.createElement(Ym,null,React.createElement(Hm,{title:Ve.COMMON.CHATBOT},r&&r.length>0&&React.createElement(Vm,{label:Ve.COMMON.CHATBOT,value:t,options:r,onChange:function(e){return n({chatbotId:e})}})),React.createElement(Hm,{title:Ve.COMMON.SETTINGS})))};function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wm.apply(this,arguments)}var Xm=wp.i18n.__,qm=wp.blocks.registerBlockType,Qm=wp.element.useEffect,Km=wp.components,Jm=Km.PanelBody,$m=Km.SelectControl,ed=wp.blockEditor,td=ed.InspectorControls,nd=ed.InnerBlocks,rd=ed.useBlockProps,ad=function(e){var t=rd.save(),n=e.attributes,r=n.id,a=n.theme,o='[mwai-form-container id="'.concat(r,'" theme="').concat(a,'"]');return React.createElement("div",Wm({},t,{id:"mwai-form-container-".concat(r),className:"mwai-form-container"}),o,React.createElement(nd.Content,null))},od=function(e){var t=e.attributes,n=t.id,r=t.theme,a=e.setAttributes,o=rd();return Qm((function(){if(!n){var e=Math.random().toString(36).substr(2,9);a({id:e})}}),[n]),React.createElement(React.Fragment,null,React.createElement("div",o,React.createElement(Mm,{title:"Container",type:"container"},React.createElement(nd,null))),React.createElement(td,null,React.createElement(Jm,{title:Ve.COMMON.STYLE},React.createElement("p",null,"The theme will be applied to all the AI elements in this container."),React.createElement($m,{label:"Theme",value:r,onChange:function(e){return a({theme:e})},options:[{label:"None",value:"none"},{label:"ChatGPT",value:"ChatGPT"}]}))))};function id(e){return function(e){if(Array.isArray(e))return ld(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ld(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ld(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ld(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cd=wp.i18n.__,ud=wp.blocks.registerBlockType,sd=wp.element.useEffect,fd=wp.components,md=fd.Button,dd=fd.PanelBody,pd=fd.TextControl,hd=fd.SelectControl,yd=fd.CheckboxControl,vd=wp.blockEditor,gd=vd.useBlockProps,bd=vd.InspectorControls,Ed=function(e){var t=e.attributes,n=t.id,r=t.label,a=t.type,o=t.name,i=t.options,l=void 0===i?[]:i,c=t.placeholder,u=t.rows,s=t.defaultValue,f=t.maxlength,m=t.required,d=encodeURIComponent(JSON.stringify(l)),p=gd.save(),h="[mwai-form-field";return n&&(h+=' id="'.concat(n,'"')),r&&(h+=' label="'.concat(r,'"')),a&&(h+=' type="'.concat(a,'"')),o&&(h+=' name="'.concat(o,'"')),d&&(h+=' options="'.concat(d,'"')),c&&(h+=' placeholder="'.concat(c,'"')),"textarea"===a&&u&&(h+=' rows="'.concat(u,'"')),s&&(h+=' default="'.concat(s,'"')),f&&(h+=' maxlength="'.concat(f,'"')),m&&(h+=' required="'.concat(m,'"')),h+="]",React.createElement("div",p,h)},wd=function(e){var t,n=e.attributes,r=n.id,a=n.type,o=n.name,i=n.options,l=void 0===i?[]:i,c=n.label,u=n.placeholder,s=n.rows,f=n.defaultValue,m=n.maxlength,d=n.required,p=e.setAttributes,h=gd();return sd((function(){if(!r){var e=Math.random().toString(36).substr(2,9);p({id:"mwai-"+e})}}),[r]),React.createElement(React.Fragment,null,React.createElement("div",h,React.createElement(Mm,{title:"".concat((t=a,t.charAt(0).toUpperCase()+t.slice(1))),type:"field",hint:React.createElement("span",{className:"mwai-pill"},"{",o,"}")},React.createElement("div",null,c),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",null,o))),React.createElement(bd,null,React.createElement(dd,{title:cd("Field")},React.createElement(pd,{label:"Label Text",value:c,onChange:function(e){p({label:e});var t=e.trim().replace(/ /g,"_").replace(/[^\w-]+/g,"").toUpperCase();t&&p({name:t})}}),React.createElement(pd,{label:"Field Name",value:o,onChange:function(e){return p({name:e})}}),React.createElement(hd,{label:"Field Type",value:a,onChange:function(e){return p({type:e})},options:[{label:"Input",value:"input"},{label:"Select",value:"select"},{label:"Checkbox",value:"checkbox"},{label:"Radio",value:"radio"},{label:"Text Area",value:"textarea"}]}),("input"===a||"textarea"===a)&&React.createElement(pd,{label:"Placeholder",value:u,onChange:function(e){return p({placeholder:e})}}),("input"===a||"textarea"===a)&&React.createElement(pd,{label:"Default Value",value:f,onChange:function(e){return p({defaultValue:e})}}),("input"===a||"textarea"===a)&&React.createElement(pd,{label:"Max Length",value:m,onChange:function(e){return p({maxlength:e})}}),"textarea"===a&&React.createElement(pd,{label:Ve.COMMON.ROWS,value:s,onChange:function(e){return p({rows:e})},type:"number",step:"1",min:"1",max:"100"}),React.createElement(yd,{label:"Required",checked:d,onChange:function(e){return p({required:e})}})),("select"===a||"radio"===a||"checkbox"===a)&&React.createElement(dd,{title:React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"}},React.createElement("div",null,cd("Options")))},l.map((function(e,t){return React.createElement("div",{key:t,style:{display:"flex",marginBottom:-25}},React.createElement("div",{style:{marginRight:5}},React.createElement(pd,{style:{marginRight:10},label:"Label",isInline:!0,value:e.label,onChange:function(e){var n=id(l);n[t].label=e,p({options:n})}})),React.createElement(pd,{style:{},label:"Value",isSubtle:!0,value:e.value,onChange:function(e){var n=id(l);n[t].value=e,p({options:n})}}),React.createElement("div",{style:{marginLeft:5,position:"relative",top:23}},React.createElement(md,{style:{height:30},isDestructive:!0,icon:"trash",isSmall:!0,onClick:function(){var e=id(l);e.splice(t,1),p({options:e})}})))})),React.createElement(md,{isPrimary:!0,style:{width:"100%",marginTop:10},onClick:function(){var e=id(l);e.push({label:"",value:""}),p({options:e})}},"Add Option")),React.createElement(dd,{title:Ve.COMMON.SYSTEM},React.createElement(pd,{label:"ID",value:r,onChange:function(e){return p({id:e})}}))))};function Rd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Od=wp.i18n.__,Sd=wp.blocks.registerBlockType,Td=wp.element.useEffect,Nd=wp.components,_d=Nd.PanelBody,Cd=Nd.TextControl,Ld=Nd.CheckboxControl,Ad=wp.blockEditor,Id=Ad.InspectorControls,kd=Ad.useBlockProps,jd=function(e){var t=e.attributes,n=t.id,r=t.copyButton,a=kd.save(),o={id:{value:n,insertIfNull:!0},copy_button:{value:r,insertIfNull:!0}},i=Object.entries(o).filter((function(e){var t=Rd(e,2)[1],n=t.value,r=t.insertIfNull;return!!n||r})).reduce((function(e,t){var n=Rd(t,2),r=n[0],a=n[1].value;return"".concat(e," ").concat(r,'="').concat(a,'"')}),"[mwai-form-output");return i="".concat(i,"]"),React.createElement("div",a,i)},Pd=function(e){var t=e.attributes,n=t.id,r=t.copyButton,a=e.setAttributes,o=kd();return Td((function(){if(!n){var e=Math.random().toString(36).substr(2,9);a({id:"mwai-"+e})}}),[n]),React.createElement(React.Fragment,null,React.createElement("div",o,React.createElement(Mm,{title:"Output",type:"output",hint:React.createElement("span",{className:"mwai-pill mwai-pill-purple"},"#",n)},React.createElement("div",null),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",null,"#",n))),React.createElement(Id,null,React.createElement(_d,{title:Ve.FORMS.OUTPUT},React.createElement(Ld,{label:"Copy Button",checked:r,onChange:function(e){return a({copyButton:e})}}),React.createElement(Cd,{label:"ID",value:n,onChange:function(e){return a({id:e})}}))))};function Md(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fd=wp.i18n.__,Gd=wp.blocks.registerBlockType,Bd=wp.element,Ud=Bd.useMemo,Hd=Bd.useEffect,Vd=wp.components,Yd=Vd.PanelBody,Zd=Vd.TextControl,zd=Vd.TextareaControl,Wd=Vd.SelectControl,Xd=wp.blockEditor,qd=Xd.InspectorControls,Qd=Xd.useBlockProps,Kd=function(e){var t=e.attributes,n=t.id,r=t.label,a=t.prompt,o=t.outputElement,i=t.envId,l=t.index,c=t.namespace,u=t.model,s=t.temperature,f=t.maxTokens,m=encodeURIComponent(a),d=Qd.save(),p={id:{value:n,insertIfNull:!0},label:{value:r,insertIfNull:!0},prompt:{value:m,insertIfNull:!0},output_element:{value:o,insertIfNull:!0},model:{value:u,insertIfNull:!0},temperature:{value:s,insertIfNull:!0},max_tokens:{value:f,insertIfNull:!0},embeddings_env:{value:i,insertIfNull:!1},embeddings_index:{value:l,insertIfNull:!1},embeddings_namespace:{value:c,insertIfNull:!1}},h=Object.entries(p).filter((function(e){var t=Md(e,2)[1],n=t.value,r=t.insertIfNull;return!!n||r})).reduce((function(e,t){var n=Md(t,2),r=n[0],a=n[1].value;return"".concat(e," ").concat(r,'="').concat(a,'"')}),"[mwai-form-submit");return h="".concat(h,"]"),React.createElement("div",d,h)},Jd=function(e){var t=ct(I).models,n=Qd(),r=e.attributes,a=r.id,o=r.label,i=r.prompt,l=r.model,c=r.temperature,u=r.maxTokens,s=r.envId,f=r.index,m=r.namespace,d=r.outputElement,p=r.placeholders,h=void 0===p?[]:p,y=e.setAttributes,v=I.embeddings_envs||[],g=Ud((function(){return v.find((function(e){return e.id===s}))||null}),[v,s]),b=Ud((function(){return(null==g?void 0:g.indexes)||[]}),[g]),E=Ud((function(){return(null==g?void 0:g.namespaces)||[]}),[g]);Hd((function(){if(!a){var e=Math.random().toString(36).substr(2,9);y({id:"mwai-"+e})}}),[a]),Hd((function(){var e=i.match(/{([^}]+)}/g);if(e){var t=e.map((function(e){return e.replace("{","").replace("}","")}));t.join(",")!==h.join(",")&&y({placeholders:t})}else y({placeholders:[]})}),[i]);var w=Ud((function(){return h?h.length:0}),[h]),R=Ud((function(){var e=t.map((function(e){return{label:e.name,value:e.model}}));return e.push({label:"dall-e",value:"dall-e"}),e}),[t]),x=Ud((function(){var e=b.map((function(e){return{label:e.name,value:e.name}}));return e.unshift({label:"None",value:""}),e}),[b]),O=Ud((function(){var e=v.map((function(e){return{label:e.name,value:e.id}}));return e.unshift({label:"None",value:""}),e}),[v]),S=Ud((function(){var e=E.map((function(e){return{label:e,value:e}}));return e.unshift({label:"None",value:""}),e}),[E]),T=Ud((function(){return 0===w?"N/A":React.createElement("span",{className:"mwai-pill"},w," field",w>1?"s":"")}),[w]);return React.createElement(React.Fragment,null,React.createElement("div",n,React.createElement(Mm,{title:"Submit",type:"submit",hint:React.createElement(React.Fragment,null,"IN:"," ",React.createElement("span",{className:"mwai-pill"},T)," ","OUT:"," ",React.createElement("span",{className:"mwai-pill mwai-pill-purple"},d||"N/A"))},"Input Fields: ",h.join(", "),React.createElement("br",null),"Prompt: ",i,React.createElement("br",null),"Output Element: ",d)),React.createElement(qd,null,React.createElement(Yd,{title:Ve.COMMON.OUTPUT},React.createElement(Zd,{label:Ve.COMMON.LABEL,value:o,onChange:function(e){return y({label:e})}}),React.createElement(zd,{label:Ve.COMMON.PROMPT,value:i,onChange:function(e){return y({prompt:e})},help:Ve.FORMS.PROMPT_INFO}),React.createElement(Zd,{label:Ve.FORMS.OUTPUT_ELEMENT,value:d,onChange:function(e){return y({outputElement:e})},help:Ve.FORMS.OUTPUT_ELEMENT_INFO})),React.createElement(Yd,{title:Ve.COMMON.MODEL_PARAMS},t&&t.length>0&&React.createElement(Wd,{label:Ve.COMMON.MODEL,value:l,options:R,onChange:function(e){return y({model:e})}}),React.createElement(Zd,{label:Ve.COMMON.TEMPERATURE,value:c,onChange:function(e){return y({temperature:parseFloat(e)})},type:"number",step:"0.1",min:"0",max:"1",help:Ve.HELP.TEMPERATURE}),React.createElement(Zd,{label:Ve.COMMON.MAX_TOKENS,value:u,onChange:function(e){return y({maxTokens:parseInt(e)})},type:"number",step:"16",min:"32",max:"4096",help:Ve.HELP.MAX_TOKENS})),React.createElement(Yd,{title:Ve.COMMON.CONTEXT_PARAMS},v&&v.length>0&&React.createElement(Wd,{label:Ve.COMMON.EMBEDDINGS_ENV,value:s,options:O,onChange:function(e){return y({envId:e})}}),b&&b.length>0&&React.createElement(Wd,{label:Ve.COMMON.EMBEDDINGS_INDEX,value:f,options:x,onChange:function(e){return y({index:e})}}),E&&E.length>0&&React.createElement(Wd,{label:Ve.COMMON.NAMESPACE,value:m,options:S,onChange:function(e){return y({namespace:e})}})),React.createElement(Yd,{title:Ve.COMMON.SYSTEM},React.createElement(Zd,{label:"ID",value:a,onChange:function(e){return y({id:e})}}))))};var $d=function(){Gm("ai-engine/chatbot",{title:"AI Chatbot",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"being built"),". I will allow to create a chatbot. Coming soon!"),icon:jm,category:"layout",keywords:["ai","openai","chatbot"],attributes:{id:{type:"string",default:""},chatbotId:{type:"string",default:"default"}},edit:zm,save:Zm})};function ep(e){return ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(e)}function tp(){tp=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new L(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(A([])));R&&R!==n&&r.call(R,i)&&(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==ep(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=m;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ep(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function np(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function rp(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){np(o,r,a,i,l,"next",e)}function l(e){np(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ap(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?op(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ip=wp.element,lp=ip.useState,cp=ip.useEffect;const up=function(e){var t=e.isOpen,n=void 0!==t&&t,r=(e.title,e.onClose),a=void 0===r?{}:r,o=ap(lp(""),2),i=o[0],l=o[1],c=ap(lp("Logitech MK270 Wireless Keyboard"),2),u=c[0],s=c[1],f=lt({options:I}),m=f.currentHumanLanguage,d=f.jsxLanguageSelector,p=ap(lp(""),2),h=p[0],y=p[1],v=ap(lp(""),2),b=v[0],w=v[1],x=ap(lp(""),2),O=x[0],S=x[1],N=ap(lp(!1),2),_=N[0],C=N[1],L=ap(lp(!1),2),j=(L[0],L[1]);function P(e){var t=e.split("\n"),n={};return t.forEach((function(e){e.startsWith("DESCRIPTION:")?n.description=e.replace("DESCRIPTION:","").trim():e.startsWith("SHORT_DESCRIPTION:")?n.shortDescription=e.replace("SHORT_DESCRIPTION:","").trim():e.startsWith("SEO_TITLE:")?n.seoTitle=e.replace("SEO_TITLE:","").trim():e.startsWith("TAGS:")&&(n.keywords=e.replace("TAGS:","").trim().split(", "))})),n}cp((function(){var e=document.getElementById("title");e&&s(e.value)}),[n]);var M=function(){var e=rp(tp().mark((function e(){var t,n,r;return tp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),t=(t="Here is the product: {USER_ENTRY}\n\nBased on the product, write a description of this product (between 120 and 240 words), a short description (between 20-49 words), a SEO-friendly title, and tags, separated by commas. Write it in {LANGUAGE}. Use this format:\nDESCRIPTION: \nSHORT_DESCRIPTION: \nSEO_TITLE: \nTAGS: \n\n".replace("{USER_ENTRY}",u)).replace("{LANGUAGE}",m),e.next=5,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",nonce:A,json:{maxTokens:512,temperature:.8,model:I.assistants_model,env:"admin-tools",session:k,prompt:t}});case 5:n=e.sent,C(!1),n.success&&(r=P(n.data),console.log({raw:n.data,info:r}),l(r.description),y(r.shortDescription),w(r.seoTitle),S(r.keywords.join(", ")));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=document.getElementById("title");e?e.value=b:alert("The title cannot be written (the field could not be found).")},F=function(){var e=tinyMCE.get("content");e?e.setContent(i):alert("The content cannot be written (the field could not be found).")},G=function(){var e=tinyMCE.get("excerpt");e?e.setContent(h):alert("The content cannot be written (the field could not be found).")},B=function(){var e=document.getElementById("new-tag-product_tag");e?e.value=O:alert("The tags cannot be written (the field could not be found).")},U=function(){var e=rp(tp().mark((function e(){return tp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(),F(),G(),B(),a();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=rp(tp().mark((function e(){return tp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(),j(),C(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(g.o,null,React.createElement(_e.L,{isOpen:n,onRequestClose:H,title:Ve.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR,content:React.createElement(Pt,null,React.createElement("label",null,"Define your product:"),React.createElement(Te.l,{disabled:_,name:"userEntry",value:u,rows:3,onChange:s,style:{flex:"auto"},placeholder:"What's your product?"}),React.createElement("div",{className:"form-row"},React.createElement("div",{style:{flex:"auto"}},d),React.createElement(E._,{isBusy:_,onClick:M,style:{marginLeft:5}},"Generate Fields")),React.createElement(Oe.i,{height:30,line:!0}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Title"),React.createElement(E._,{small:!0,disabled:!b,onClick:D,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(Ee.A,{disabled:_,value:b,onChange:w}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Description"),React.createElement(E._,{small:!0,disabled:!i,onClick:F,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(Te.l,{disabled:_,rows:4,value:i,onChange:l}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Short Description"),React.createElement(E._,{small:!0,disabled:!h,onClick:G,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(Te.l,{disabled:_,rows:4,value:h,onChange:y}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Product Tags"),React.createElement(E._,{small:!0,disabled:!O,onClick:B,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(Ee.A,{small:!0,disabled:_,value:O,onChange:S})),okButton:{label:"Write all fields",onClick:U}}))};function sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fp=wp.element,mp=fp.useState,dp=(fp.useEffect,fp.useMemo,wp.i18n.__,wp.components.Button);const pp=function(){var e,t,n=(e=mp(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];return React.createElement(React.Fragment,null,React.createElement("p",null,"Generate the WooCommerce fields."),React.createElement("div",{style:{display:"flex"}},React.createElement(dp,{variant:"primary",onClick:function(){a(!0)},style:{flex:1,marginRight:10}},React.createElement(Tt,{icon:"wand",style:{marginRight:8}})," Generate Fields")),React.createElement(g.o,null,React.createElement(up,{isOpen:r,onClose:function(){a(!1)}})))};var hp=wp.element.render,yp=new c.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1}}}),vp=I.module_chatbots,gp=I.module_suggestions,bp=I.module_forms,Ep=I.module_woocommerce;vp&&$d(),bp&&($d(),ud("ai-engine/form-field",{apiVersion:3,title:"AI Form Field",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:jm,category:"layout",keywords:[cd("ai"),cd("openai"),cd("form")],supports:{dimensions:{width:!0}},attributes:{id:{type:"string",default:""},name:{type:"string",default:"LABEL"},type:{type:"string",default:"input"},options:{type:"array",default:[]},label:{type:"string",default:"Label: "},placeholder:{type:"string",default:""},defaultValue:{type:"string",default:""},maxlength:{type:"string",default:""},rows:{type:"rows",default:4},required:{type:"boolean",default:!0}},edit:wd,save:Ed}),Sd("ai-engine/form-output",{title:"AI Form Output",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:jm,category:"layout",keywords:[Od("ai"),Od("openai"),Od("form")],supports:{dimensions:{minHeight:!0}},attributes:{id:{type:"string",default:""},copyButton:{type:"boolean",default:!0}},edit:Pd,save:jd}),Gd("ai-engine/form-submit",{title:"AI Form Submit",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:jm,category:"layout",keywords:[Fd("ai"),Fd("openai"),Fd("form")],supports:{dimensions:{minHeight:!1}},attributes:{id:{type:"string",default:""},label:{type:"string",default:"Submit"},prompt:{type:"string",default:""},outputElement:{type:"string",default:""},model:{type:"string",default:""},temperature:{type:"number",default:.8},maxTokens:{type:"number",default:4096},placeholders:{type:"array",default:[]},envId:{type:"string",default:""},index:{type:"string",default:""},namespace:{type:"string",default:null}},edit:Jd,save:Kd}),qm("ai-engine/form-container",{title:"AI Form Container",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"extremely beta"),". I am enhancing it based on your feedback."),icon:jm,category:"layout",keywords:[Xm("ai"),Xm("openai"),Xm("form")],attributes:{id:{type:"string",default:""},theme:{type:"string",default:"ChatGPT"}},edit:od,save:ad})),gp&&(tm("ai-engine-document-settings",{render:pm}),fm("ai-wand/actions",{title:"AI Wand",tagName:"mwai",className:null,edit:dm}),xm("editor.BlockEdit","mwai-copilot/module",(function(e){return function(t){var n=Tm(),r=wm(Sm(!1),2),a=r[0],o=r[1],i=wm(Sm(""),2),l=i[0],c=i[1],u=wm(Sm(!1),2),s=u[0],f=u[1],m=wm(Sm(!1),2),d=m[0],p=m[1],h=t.attributes.content,y=function(){var e=Em(gm().mark((function e(n){var r;return gm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,(0,R.PV)("".concat(T,"/ai/copilot"),{method:"POST",nonce:A,json:{action:"write",prompt:n}});case 4:r=e.sent,t.setAttributes({content:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("ERROR",e.t0);case 11:return e.prev=11,f(!1),o(!1),c(""),e.finish(11);case 16:case"end":return e.stop()}}),e,null,[[0,8,11,16]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Em(gm().mark((function e(t){return gm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:"Enter"===t.code&&(t.preventDefault(),y(l)),("Escape"===t.code||"Backspace"===t.code&&!l)&&(t.preventDefault(),o(!1),c(""));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Nm((function(){a&&n.current&&n.current.focus()}),[a]),"core/paragraph"===t.name?a?React.createElement("div",{style:{position:"relative"}},React.createElement(Cm,{ref:n,label:React.createElement(React.Fragment,null,React.createElement(Tt,{icon:"wand",style:{marginBottom:-4}}),"AI Copilot"),value:l,disabled:s,placeholder:"Write about...",onChange:function(e){return c(e)},onKeyDown:v,onCompositionStart:function(){return p(!0)},onCompositionEnd:function(){return p(!1)}}),s&&React.createElement(Lm,{style:{position:"absolute",top:30,right:0}})):React.createElement("div",{onCompositionStart:function(){return p(!0)},onCompositionEnd:function(){return p(!1)},onKeyDown:function(e){d||"Space"!==e.code||h||(e.preventDefault(),o(!0))}},React.createElement(e,t)):React.createElement(e,t)}})),xm("blocks.registerBlockType","mwai-copilot/placeholder",(function(e,t){if("core/paragraph"===t){var n=e.edit;e.edit=function(e){return e=vm(vm({},e),{},{attributes:vm(vm({},e.attributes),{},{placeholder:"Type / to choose a block, or press space to summon the AI Copilot"})}),n(e)}}return e}))),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("mwai-admin-settings");e&&hp(React.createElement(u.aH,{client:yp},React.createElement(s.Z,null,React.createElement(Pu,null))),e);var t=document.getElementById("mwai-content-generator");t&&hp(React.createElement(u.aH,{client:yp},React.createElement(s.Z,null,React.createElement(xf,null))),t);var n=document.getElementById("mwai-image-generator");n&&hp(React.createElement(u.aH,{client:yp},React.createElement(s.Z,null,React.createElement(Uf,null))),n);var r=document.getElementById("mwai-playground");if(r&&hp(React.createElement(u.aH,{client:yp},React.createElement(s.Z,null,React.createElement(Ss,null))),r),gp){var a=document.getElementById("mwai-admin-postsList");a&&hp(React.createElement(s.Z,null,React.createElement(cf,null)),a)}if(Ep){var o=document.getElementById("mwai-admin-wcAssistant");o&&hp(React.createElement(s.Z,null,React.createElement(pp,null)),o)}var i=document.getElementById("meow-common-dashboard");i&&hp(React.createElement(s.Z,null,React.createElement(be,null)),i)}))},9184:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(4933),a=n.n(r),o=n(3476),i=n.n(o)()(a());i.push([e.id,".iOqlDdBnATVpadGvx1YX, .lndjoRWjp3ye2x5XZ29y {\n  --mwai-spacing: 15px;\n  --mwai-fontSize: 15px;\n  --mwai-lineHeight: 1.5;\n  --mwai-borderRadius: 10px;\n  --mwai-width: 460px;\n  --mwai-maxHeight: 40vh;\n  --mwai-iconTextColor: white;\n  --mwai-iconTextBackgroundColor: #343541;\n  --mwai-fontColor: #FFFFFF;\n  --mwai-backgroundPrimaryColor: #454654;\n  --mwai-backgroundHeaderColor: #343541;\n  --mwai-headerButtonsColor: #FFFFFF;\n  --mwai-conversationsBackgroundColor: #202123;\n  --mwai-conversationsTextColor: #FFFFFF;\n  --mwai-backgroundSecondaryColor: #343541;\n  --mwai-errorBackgroundColor: #6d2f2a;\n  --mwai-errorTextColor: #FFFFFF;\n}\n\n.iOqlDdBnATVpadGvx1YX button, .lndjoRWjp3ye2x5XZ29y button {\n  color: var(--mwai-fontColor);\n  background: var(--mwai-backgroundSecondaryColor);\n  border: 1px solid var(--mwai-backgroundPrimaryColor);\n  padding: calc(var(--mwai-spacing) / 2) var(--mwai-spacing);\n  min-width: 90px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.2s ease-out;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 90%;\n  position: relative;\n}\n\n.iOqlDdBnATVpadGvx1YX button .M1bTKgon3yJn1pg388Aw, .lndjoRWjp3ye2x5XZ29y button .M1bTKgon3yJn1pg388Aw {\n  margin-left: 5px;\n  margin-right: 5px;\n  font-size: 11px;\n}\n\n.iOqlDdBnATVpadGvx1YX button:hover, .lndjoRWjp3ye2x5XZ29y button:hover {\n  background: var(--mwai-backgroundPrimaryColor);\n}\n\n.iOqlDdBnATVpadGvx1YX button[disabled] span, .lndjoRWjp3ye2x5XZ29y button[disabled] span {\n  display: none;\n}\n\n.iOqlDdBnATVpadGvx1YX button[disabled]:before, .lndjoRWjp3ye2x5XZ29y button[disabled]:before {\n  content: '';\n  width: 18px;\n  height: 18px;\n  margin: auto;\n  border: 3px solid transparent;\n  border-top-color: var(--mwai-fontColor);\n  border-radius: 50%;\n  animation: Q8R59WRCXYK3JY7gl3Nw 1s ease infinite;\n}\n\n.iOqlDdBnATVpadGvx1YX {\n  border-radius: var(--mwai-borderRadius) var(--mwai-borderRadius);\n  background: var(--mwai-backgroundHeaderColor);\n  overflow: hidden;\n}\n\n.iOqlDdBnATVpadGvx1YX * {\n  box-sizing: border-box;\n}\n\n.iOqlDdBnATVpadGvx1YX .a48TtMrGohiplJihDv4a {\n  color: var(--mwai-headerButtonsColor);\n  padding: var(--mwai-spacing);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw {\n  background: var(--mwai-conversationsBackgroundColor);\n  list-style: none;\n  padding: calc(var(--mwai-spacing) / 2);\n  margin: 0;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw .OmmzQgRvsKUxTPnN1NGA {\n  margin: 0;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw li {\n  color: var(--mwai-conversationsTextColor);\n  font-size: 75%;\n  padding: calc(var(--mwai-spacing) / 2);\n  opacity: 0.65;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw li.Ru4QsUQBo4Gov_bTpbJC {\n  background: var(--mwai-backgroundPrimaryColor);\n  border-radius: var(--mwai-borderRadius);\n  opacity: 1;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw li:hover {\n  background: var(--mwai-backgroundPrimaryColor);\n  border-radius: var(--mwai-borderRadius);\n  cursor: pointer;\n}\n\n.lndjoRWjp3ye2x5XZ29y * {\n  box-sizing: border-box;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Aml8NHGXmSBh_55anACw {\n  background: var(--mwai-backgroundSecondaryColor);\n  color: var(--mwai-fontColor);\n  font-size: var(--mwai-fontSize);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  border-radius: var(--mwai-borderRadius);\n}\n\n.lndjoRWjp3ye2x5XZ29y .smw5eGNuW8ar3Rq6KsU5 {\n  overflow: auto;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ {\n  display: flex;\n  padding: var(--mwai-spacing);\n  position: relative;\n  line-height: var(--mwai-lineHeight);\n  transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB {\n  opacity: 0;\n  transition: all 0.3s ease-out;\n  width: 22px;\n  height: 22px;\n  position: absolute;\n  right: var(--mwai-spacing);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB .yPOP1Mu_LbAFIAA1DiLC {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  margin-top: 0px;\n  margin-left: 0px;\n  background: white;\n  opacity: 0.4;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB .Vo_Ic5uNSqGTmWJTRoUw {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  margin-top: 6px;\n  margin-left: 6px;\n  background: white;\n  opacity: 0.6;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB:hover .yPOP1Mu_LbAFIAA1DiLC {\n  opacity: 0.6;\n  margin-top: 0px;\n  margin-left: 6px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB:hover .Vo_Ic5uNSqGTmWJTRoUw {\n  opacity: 1;\n  margin-top: 6px;\n  margin-left: 0px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .yPOP1Mu_LbAFIAA1DiLC {\n  opacity: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .Vo_Ic5uNSqGTmWJTRoUw {\n  width: 18px;\n  height: 18px;\n  margin-top: 2px;\n  margin-left: 2px;\n  opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.LkkwYvlzeIMIzf7mtUwW {\n  opacity: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ:hover .s6pfLhxkG5kdsInHIBwB {\n  display: block;\n  opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.ND9ujQp2hjVwNQTPWDSf {\n  background: var(--mwai-backgroundSecondaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.xVfQe9VEYvuzMaqLoXuP {\n  background: var(--mwai-backgroundPrimaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 {\n  color: var(--mwai-fontColor);\n  margin-right: 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .V_Rv657Z7bGmaqPXFjGG {\n  opacity: 0.50;\n  white-space: nowrap;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .hsW5GDpr7mGWbevVTphh {\n  margin-right: 10px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 5px;\n  overflow: hidden;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .hsW5GDpr7mGWbevVTphh img {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .hsW5GDpr7mGWbevVTphh.weQ0XGKhJgBusnPzOtWH img {\n  width: 28px;\n  height: 28px;\n  filter: brightness(0) invert(1);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox {\n  flex: auto;\n  font-size: var(--mwai-fontSize);\n  line-height: var(--mwai-lineHeight);\n  color: var(--mwai-fontColor);\n  font-size: var(--mwai-fontSize);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox * {\n  font-size: var(--mwai-fontSize);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox *:first-child {\n  margin-top: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox *:last-child {\n  margin-bottom: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox a {\n  color: #2196f3;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h1 {\n  font-size: 200%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h2 {\n  font-size: 160%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h3 {\n  font-size: 140%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h4 {\n  font-size: 120%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox p code {\n  background: var(--mwai-backgroundSecondaryColor);\n  padding: 2px 6px;\n  border-radius: 8px;\n  font-size: 90%;\n  font-family: system-ui;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox pre {\n  color: var(--mwai-fontColor);\n  border-radius: var(--mwai-borderRadius);\n  padding: calc(var(--mwai-spacing) * 2 / 3) var(--mwai-spacing);\n  break-after: auto;\n  white-space: pre-wrap;\n  font-size: 95%;\n  max-width: 100%;\n  width: 100%;\n  font-family: system-ui;\n  background: #343541;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox pre code {\n  padding: 0 !important;\n  font-family: system-ui;\n  background: #343541;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox ul {\n  padding: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox ol {\n  padding: 0;\n  margin: 0 0 0 20px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox table {\n  width: 100%;\n  border: 2px solid var(--mwai-backgroundSecondaryColor);\n  border-collapse: collapse;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox thead {\n  background: var(--mwai-backgroundSecondaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox tr, .lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox td {\n  padding: 2px 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox td {\n  border: 2px solid var(--mwai-backgroundSecondaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox .fJyiPz2f5_C8IfUzgD1m {\n  display: inline-block;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox .fJyiPz2f5_C8IfUzgD1m > :first-child {\n  margin-top: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox > *:first-child {\n  margin-top: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox > *:last-child {\n  margin-bottom: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.CbsFIeB3668vSID0A4iZ {\n  background: var(--mwai-errorBackgroundColor);\n  color: var(--mwai-errorFontColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.CbsFIeB3668vSID0A4iZ .mVKuMauVy4SrhOGg0tO7 {\n  display: none;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw {\n  display: flex;\n  padding: var(--mwai-spacing);\n  border-top: 1px solid var(--mwai-backgroundPrimaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi {\n  flex: auto;\n  position: relative;\n  display: flex;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi textarea {\n  background: var(--mwai-backgroundPrimaryColor);\n  color: var(--mwai-fontColor);\n  flex: auto;\n  padding: var(--mwai-spacing);\n  border: none;\n  border-radius: var(--mwai-borderRadius);\n  font-size: var(--mwai-fontSize);\n  resize: none;\n  font-family: inherit;\n  margin: 0;\n  overflow: hidden;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi textarea:focus {\n  outline: none;\n  box-shadow: none;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi textarea::placeholder {\n  color: var(--mwai-fontColor);\n  opacity: 0.5;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7 {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  right: 0px;\n  height: 100%;\n  cursor: pointer;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7 svg {\n  fill: var(--mwai-fontColor);\n  width: 34px;\n  height: 34px;\n  padding: 5px 10px;\n  fill: var(--mwai-fontColor);\n  opacity: 0.5;\n  transition: opacity 0.3s ease-out;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7[active=true] svg {\n  opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7[disabled] svg {\n  opacity: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw button {\n  margin-left: var(--mwai-spacing);\n}\n\n.lndjoRWjp3ye2x5XZ29y .fHnh9J6mBICuMbL1YTu6 {\n  opacity: 0.50;\n  margin-top: calc( -1 * var(--mwai-spacing));\n  padding: calc(var(--mwai-spacing) / 1.5) var(--mwai-spacing);\n  font-size: smaller;\n  color: var(--mwai-fontColor);\n  text-align: left;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Bp49so_uw3KdIe3QrEda {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Bp49so_uw3KdIe3QrEda img {\n  width: 100%;\n}\n\n.P8gokhAqzYbmwRSdIX15 {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  transition: all 0.2s ease-out;\n  z-index: 9999;\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n}\n\n.P8gokhAqzYbmwRSdIX15 .FbJjBUnddAFF1XtQEVP4 {\n  background: var(--mwai-iconTextBackgroundColor);\n  color: var(--mwai-iconTextColor);\n  max-width: 200px;\n  font-size: 13px;\n  margin-bottom: 15px;\n  padding: 5px 10px;\n  border-radius: 8px;\n}\n\n.P8gokhAqzYbmwRSdIX15:hover {\n  cursor: pointer;\n  filter: saturate(2.5) hue-rotate(5deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt {\n  position: fixed;\n  right: 30px;\n  bottom: 30px;\n  width: var(--mwai-width);\n  z-index: 9999;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a {\n  display: none;\n  justify-content: flex-end;\n  align-items: center;\n  border-radius: var(--mwai-borderRadius) var(--mwai-borderRadius) 0 0;\n  background: var(--mwai-backgroundHeaderColor);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn {\n  display: flex;\n  align-items: center;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U {\n  justify-content: center;\n  height: 32px;\n  width: 22px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:before {\n  transition: all 0.2s ease-out;\n  content: ' ';\n  cursor: pointer;\n  position: absolute;\n  height: 13px;\n  width: 13px;\n  border: 1px solid var(--mwai-headerButtonsColor);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:hover:before {\n  width: 16px;\n  height: 16px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB {\n  justify-content: center;\n  height: 32px;\n  width: 33px;\n  cursor: pointer;\n  border-radius: var(--mwai-borderRadius);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:before {\n  transition: all 0.2s ease-out;\n  transform: translate(16px, 5px) rotate(45deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:after {\n  transition: all 0.2s ease-out;\n  transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:before, .T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:after {\n  content: ' ';\n  cursor: pointer;\n  position: absolute;\n  height: 22px;\n  width: 1px;\n  background-color: var(--mwai-headerButtonsColor);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:hover:before {\n  opacity: 1;\n  transform: translate(16px, 5px) rotate(135deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:hover:after {\n  opacity: 1;\n  transform: translate(16px, 5px) rotate(45deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .Aml8NHGXmSBh_55anACw {\n  display: none;\n  opacity: 0;\n  max-height: var(--mwai-maxHeight);\n  border-radius: 0 0 var(--mwai-borderRadius) var(--mwai-borderRadius);\n  overflow: hidden;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.ajsqo2U9G1IzQDXbBkAj {\n  bottom: 30px;\n  right: inherit;\n  left: 30px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.ajsqo2U9G1IzQDXbBkAj .P8gokhAqzYbmwRSdIX15 {\n  right: inherit;\n  left: 0;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO {\n  top: 30px;\n  bottom: inherit;\n  right: 30px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO .P8gokhAqzYbmwRSdIX15 {\n  top: 0;\n  bottom: inherit;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy {\n  top: 30px;\n  bottom: inherit;\n  right: inherit;\n  left: 30px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15 {\n  top: 0;\n  bottom: inherit;\n  right: inherit;\n  left: 0;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15, .T9GqU1_HCj_oHtw9lgwt.ajsqo2U9G1IzQDXbBkAj .P8gokhAqzYbmwRSdIX15 {\n  align-items: flex-start;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO .P8gokhAqzYbmwRSdIX15, .T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15 {\n  flex-direction: column-reverse;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO .P8gokhAqzYbmwRSdIX15 .FbJjBUnddAFF1XtQEVP4, .T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15 .FbJjBUnddAFF1XtQEVP4 {\n  margin-bottom: 0;\n  margin-top: 15px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.jiSqg50xKsenI9wptcuo .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn {\n  margin-bottom: 0px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.jiSqg50xKsenI9wptcuo .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:before {\n  width: 16px;\n  height: 16px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.jiSqg50xKsenI9wptcuo .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:hover:before {\n  width: 13px;\n  height: 13px;\n}\n\n.jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt), .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai {\n  position: fixed;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  top: 0 !important;\n  width: inherit;\n  height: inherit;\n  max-height: inherit;\n  max-width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  z-index: 999999;\n  background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt) .Aml8NHGXmSBh_55anACw, .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .Aml8NHGXmSBh_55anACw {\n  height: 100%;\n  max-height: inherit;\n}\n\n.jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt) .Aml8NHGXmSBh_55anACw .smw5eGNuW8ar3Rq6KsU5, .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .Aml8NHGXmSBh_55anACw .smw5eGNuW8ar3Rq6KsU5 {\n  flex: auto;\n  max-height: none;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .a48TtMrGohiplJihDv4a {\n  display: flex;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .Aml8NHGXmSBh_55anACw {\n  display: flex;\n  transition: opacity 200ms ease-in-out 0s;\n  opacity: 1;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .P8gokhAqzYbmwRSdIX15 {\n  display: none;\n}\n\n@keyframes Q8R59WRCXYK3JY7gl3Nw {\n  from {\n    transform: rotate(0turn);\n  }\n  to {\n    transform: rotate(1turn);\n  }\n}\n\n.qEeiVUrkYtpxDyZZ5FzQ .jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt),\n.qEeiVUrkYtpxDyZZ5FzQ .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai {\n  top: 32px;\n}\n\n@media (max-width: 760px) {\n  .lndjoRWjp3ye2x5XZ29y.T9GqU1_HCj_oHtw9lgwt {\n    left: 10px;\n    right: 10px;\n    bottom: 10px;\n    width: calc(100% - 20px);\n    z-index: 9999999999;\n  }\n  .lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ {\n    flex-direction: column;\n  }\n  .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw {\n    flex-direction: column;\n  }\n}\n\n.s6pfLhxkG5kdsInHIBwB {\n  opacity: 0;\n  transition: all 0.3s ease-out;\n  width: 22px;\n  height: 22px;\n  position: absolute;\n  right: var(--mwai-spacing);\n}\n\n.s6pfLhxkG5kdsInHIBwB .yPOP1Mu_LbAFIAA1DiLC {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  margin-top: 0px;\n  margin-left: 0px;\n  background: white;\n  opacity: 0.4;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.s6pfLhxkG5kdsInHIBwB .Vo_Ic5uNSqGTmWJTRoUw {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  margin-top: 6px;\n  margin-left: 6px;\n  background: white;\n  opacity: 0.6;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.s6pfLhxkG5kdsInHIBwB:hover .yPOP1Mu_LbAFIAA1DiLC {\n  opacity: 0.6;\n  margin-top: 0px;\n  margin-left: 6px;\n}\n\n.s6pfLhxkG5kdsInHIBwB:hover .Vo_Ic5uNSqGTmWJTRoUw {\n  opacity: 1;\n  margin-top: 6px;\n  margin-left: 0px;\n}\n\n.s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .yPOP1Mu_LbAFIAA1DiLC {\n  opacity: 0;\n}\n\n.s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .Vo_Ic5uNSqGTmWJTRoUw {\n  width: 18px;\n  height: 18px;\n  margin-top: 2px;\n  margin-left: 2px;\n  opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ:hover .s6pfLhxkG5kdsInHIBwB {\n  display: block;\n  opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y pre code.qGLvA_pwzQhRx17Qp2qG {\n  display: block;\n  overflow-x: auto;\n  padding: 1em;\n}\n\n.lndjoRWjp3ye2x5XZ29y code.qGLvA_pwzQhRx17Qp2qG {\n  padding: 3px 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .qGLvA_pwzQhRx17Qp2qG {\n  color: #fff;\n  background: #1c1b1b;\n}\n\n.lndjoRWjp3ye2x5XZ29y .dll3BbdRvJ0qjOH7C1R0 {\n  color: #fff;\n}\n\n.lndjoRWjp3ye2x5XZ29y .P6sxeXNm3ulh2o2h5Yjy {\n  color: #999;\n}\n\n.lndjoRWjp3ye2x5XZ29y .pDFfJSc0CJxgez6eAYCl, .lndjoRWjp3ye2x5XZ29y .S3p1X8o3KwAIaXfZTWEv, .lndjoRWjp3ye2x5XZ29y .eNaDX_BT2XHi1fmpHhjK, .lndjoRWjp3ye2x5XZ29y .b42b1C0mh0UtxZtJEaXI .eNaDX_BT2XHi1fmpHhjK, .lndjoRWjp3ye2x5XZ29y .ZrrOZX4MogzT4SIVWJv9, .lndjoRWjp3ye2x5XZ29y .Ezj9i_PFTu6NXnm5bQ2W {\n  color: #88aece;\n}\n\n.lndjoRWjp3ye2x5XZ29y .lw3VjK3cUsfdCH7g29ni {\n  color: #c59bc1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .qUDlP2cGSktxjMwFtugR, .lndjoRWjp3ye2x5XZ29y ._fxVWJ7gNhOogvHgiiEW, .lndjoRWjp3ye2x5XZ29y .PAeDFMLA7yrPh2m_Jolt, .lndjoRWjp3ye2x5XZ29y .IJOz0y4nuAjuKEH5ad4S, .lndjoRWjp3ye2x5XZ29y .o2piLhFaxLQLXgCkfz4l, .lndjoRWjp3ye2x5XZ29y .iO5fcUq9dmiH1asdr3Cl {\n  color: #f08d49;\n}\n\n.lndjoRWjp3ye2x5XZ29y .uTq62uTnFfexkPglNKKQ {\n  color: #88aece;\n}\n\n.lndjoRWjp3ye2x5XZ29y .cuNs_mMtNSndHrBLDBun, .lndjoRWjp3ye2x5XZ29y .VOLYON7Lm2ixjT0lfJqb, .lndjoRWjp3ye2x5XZ29y .Dht1W1O3irfcnSwHUkVD, .lndjoRWjp3ye2x5XZ29y .l8x1cPyd6xYPxh0UxFki, .lndjoRWjp3ye2x5XZ29y .gmwyH9Q5KoURCSuZX3RW, .lndjoRWjp3ye2x5XZ29y .pG2Tm8XNiaqF15bzqowa, .lndjoRWjp3ye2x5XZ29y .ShtyZatv6a_Np09d9ZhL {\n  color: #b5bd68;\n}\n\n.lndjoRWjp3ye2x5XZ29y .b42b1C0mh0UtxZtJEaXI, .lndjoRWjp3ye2x5XZ29y .s4pdbTkxzyKUiMhqzSgw {\n  color: #88aece;\n}\n\n.lndjoRWjp3ye2x5XZ29y .hnH6CCiD_bvKHZauHgmD, .lndjoRWjp3ye2x5XZ29y .hV3GpUw8Q6uCKZMVukYw, .lndjoRWjp3ye2x5XZ29y .eMKSdPjINy50n4pZn4GN {\n  color: #f08d49;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Pym4asdLc5qgFVu49au7, .lndjoRWjp3ye2x5XZ29y .T6J4Iul5eF5H9v2uEUHB {\n  color: #ccc;\n}\n\n.lndjoRWjp3ye2x5XZ29y .b42b1C0mh0UtxZtJEaXI .l8x1cPyd6xYPxh0UxFki {\n  color: #b5bd68;\n}\n\n.lndjoRWjp3ye2x5XZ29y .YCa9eRFA9Uy7fX7inEM1 {\n  color: #de7176;\n}\n\n.lndjoRWjp3ye2x5XZ29y .A3lgF_mx1w0dOoKUrUi0 {\n  color: #76c490;\n}\n\n.lndjoRWjp3ye2x5XZ29y .GofZXHORfmng7GRoPDfO {\n  font-style: italic;\n}\n\n.lndjoRWjp3ye2x5XZ29y .GalxnJ2lz2qqZgZPtQ_J {\n  font-weight: 700;\n}\n\n@media (max-width: 760px) {\n  .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw button {\n    margin: 15px 0 0 0;\n    height: 40px;\n    width: inherit;\n  }\n  .lndjoRWjp3ye2x5XZ29y .mVKuMauVy4SrhOGg0tO7 {\n    margin-right: 0;\n    max-width: inherit;\n  }\n}\n",""]),i.locals={"mwai-discussions":"iOqlDdBnATVpadGvx1YX","mwai-chat":"lndjoRWjp3ye2x5XZ29y","mwai-timer":"M1bTKgon3yJn1pg388Aw","mwai-button-spinner":"Q8R59WRCXYK3JY7gl3Nw","mwai-header":"a48TtMrGohiplJihDv4a","mwai-content":"Aml8NHGXmSBh_55anACw","mwai-discussion":"OmmzQgRvsKUxTPnN1NGA","mwai-active":"Ru4QsUQBo4Gov_bTpbJC","mwai-conversation":"smw5eGNuW8ar3Rq6KsU5","mwai-reply":"F0C5IedgFBoZ1NVujRQZ","mwai-copy-button":"s6pfLhxkG5kdsInHIBwB","mwai-copy-button-one":"yPOP1Mu_LbAFIAA1DiLC","mwai-copy-button-two":"Vo_Ic5uNSqGTmWJTRoUw","mwai-animate":"saS9VjjVMXioL4CweV81","mwai-fade-out":"LkkwYvlzeIMIzf7mtUwW","mwai-user":"ND9ujQp2hjVwNQTPWDSf","mwai-ai":"xVfQe9VEYvuzMaqLoXuP","mwai-name":"mVKuMauVy4SrhOGg0tO7","mwai-name-text":"V_Rv657Z7bGmaqPXFjGG","mwai-avatar":"hsW5GDpr7mGWbevVTphh","mwai-svg":"weQ0XGKhJgBusnPzOtWH","mwai-text":"CWHqlUDu9z_VhM1iNYox","mwai-typewriter":"fJyiPz2f5_C8IfUzgD1m","mwai-system":"CbsFIeB3668vSID0A4iZ","mwai-input":"kgqpqavmCnlczZVXZMNw","mwai-input-text":"ikW2DMZ6yprkNfgHcqIi","mwai-microphone":"mNSHwda3gI7RQiK8_gv7","mwai-compliance":"fHnh9J6mBICuMbL1YTu6","mwai-gallery":"Bp49so_uw3KdIe3QrEda","mwai-open-button":"P8gokhAqzYbmwRSdIX15","mwai-icon-text":"FbJjBUnddAFF1XtQEVP4","mwai-window":"T9GqU1_HCj_oHtw9lgwt","mwai-buttons":"hTngPMta9JE4rNszvmBn","mwai-resize-button":"Q4YDXTlKM6ODOACM138U","mwai-close-button":"Ro3ozFQUTLKZlgVIqTSB","mwai-bottom-left":"ajsqo2U9G1IzQDXbBkAj","mwai-top-right":"mg6G7Y1UduAmrmebUMpO","mwai-top-left":"XfXb_vsh1m3bAaFnERsy","mwai-fullscreen":"jiSqg50xKsenI9wptcuo","mwai-open":"EVEzwxiR59HKfU7cbdai","admin-bar":"qEeiVUrkYtpxDyZZ5FzQ",hljs:"qGLvA_pwzQhRx17Qp2qG","hljs-subst":"dll3BbdRvJ0qjOH7C1R0","hljs-comment":"P6sxeXNm3ulh2o2h5Yjy","hljs-attr":"pDFfJSc0CJxgez6eAYCl","hljs-doctag":"S3p1X8o3KwAIaXfZTWEv","hljs-keyword":"eNaDX_BT2XHi1fmpHhjK","hljs-meta":"b42b1C0mh0UtxZtJEaXI","hljs-section":"ZrrOZX4MogzT4SIVWJv9","hljs-selector-tag":"Ezj9i_PFTu6NXnm5bQ2W","hljs-attribute":"lw3VjK3cUsfdCH7g29ni","hljs-name":"qUDlP2cGSktxjMwFtugR","hljs-number":"_fxVWJ7gNhOogvHgiiEW","hljs-quote":"PAeDFMLA7yrPh2m_Jolt","hljs-selector-id":"IJOz0y4nuAjuKEH5ad4S","hljs-template-tag":"o2piLhFaxLQLXgCkfz4l","hljs-type":"iO5fcUq9dmiH1asdr3Cl","hljs-selector-class":"uTq62uTnFfexkPglNKKQ","hljs-link":"cuNs_mMtNSndHrBLDBun","hljs-regexp":"VOLYON7Lm2ixjT0lfJqb","hljs-selector-attr":"Dht1W1O3irfcnSwHUkVD","hljs-string":"l8x1cPyd6xYPxh0UxFki","hljs-symbol":"gmwyH9Q5KoURCSuZX3RW","hljs-template-variable":"pG2Tm8XNiaqF15bzqowa","hljs-variable":"ShtyZatv6a_Np09d9ZhL","hljs-selector-pseudo":"s4pdbTkxzyKUiMhqzSgw","hljs-built_in":"hnH6CCiD_bvKHZauHgmD","hljs-literal":"hV3GpUw8Q6uCKZMVukYw","hljs-title":"eMKSdPjINy50n4pZn4GN","hljs-bullet":"Pym4asdLc5qgFVu49au7","hljs-code":"T6J4Iul5eF5H9v2uEUHB","hljs-deletion":"YCa9eRFA9Uy7fX7inEM1","hljs-addition":"A3lgF_mx1w0dOoKUrUi0","hljs-emphasis":"GofZXHORfmng7GRoPDfO","hljs-strong":"GalxnJ2lz2qqZgZPtQ_J"};const l=i},567:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(4933),a=n.n(r),o=n(3476),i=n.n(o)()(a());i.push([e.id,".yAdyblrtoeLBR0jQpw50 {\n  --mwai-spacing: 10px;\n  --mwai-fontSize: 13px;\n  --mwai-lineHeight: 1.5;\n  --mwai-borderRadius: 10px;\n  --mwai-width: 460px;\n  --mwai-maxHeight: 40vh;\n  --mwai-iconTextColor: black;\n  --mwai-iconTextBackgroundColor: white;\n  --mwai-fontColor: black;\n  --mwai-backgroundPrimaryColor: #fafafa;\n  --mwai-backgroundHeaderColor: #0084ff;\n  --mwai-headerButtonsColor: white;\n  --mwai-backgroundUserColor: #0084ff;\n  --mwai-backgroundAiColor: #eee;\n  --mwai-backgroundAiSecondaryColor: #ddd;\n}\n\n.yAdyblrtoeLBR0jQpw50 * {\n  box-sizing: border-box;\n}\n\n.yAdyblrtoeLBR0jQpw50 .zkhI8eZp8yg4BwXhijY1 {\n  display: flex;\n  background: var(--mwai-backgroundPrimaryColor);\n  font-size: var(--mwai-fontSize);\n  color: var(--mwai-fontColor);\n  border-radius: var(--mwai-borderRadius);\n  flex-direction: column;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 {\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  max-height: var(--mwai-maxHeight);\n  padding: var(--mwai-spacing);\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY {\n  margin-bottom: var(--mwai-spacing);\n  padding: 7px 12px;\n  border-radius: 15px;\n  font-size: var(--mwai-fontSize);\n  color: var(--mwai-fontColor);\n  position: relative;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY .iNYH5nYgNZAe4RXsoGlM {\n  display: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY .YrCYLibUvvIBdWDUNfm0 {\n  display: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY *:first-child {\n  margin-top: 0px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY *:last-child {\n  margin-bottom: 0px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w {\n  align-self: flex-start;\n  background: var(--mwai-backgroundAiColor);\n  margin-left: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w::before, .yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w::after {\n  content: \"\";\n  position: absolute;\n  z-index: 1;\n  bottom: 0;\n  left: -10px;\n  width: 10px;\n  height: 20px;\n  background: var(--mwai-backgroundPrimaryColor);\n  border-bottom-right-radius: 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w::before {\n  z-index: 0;\n  left: -7px;\n  height: 20px;\n  width: 20px;\n  background: var(--mwai-backgroundAiColor);\n  border-bottom-right-radius: 15px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4 {\n  align-self: flex-end;\n  background: var(--mwai-backgroundUserColor);\n  color: white;\n  margin-right: 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4::before, .yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4::after {\n  content: \"\";\n  position: absolute;\n  z-index: 1;\n  bottom: 0;\n  right: -10px;\n  width: 10px;\n  height: 20px;\n  background: var(--mwai-backgroundPrimaryColor);\n  border-bottom-left-radius: 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4::before {\n  z-index: 0;\n  right: -10px;\n  height: 20px;\n  width: 20px;\n  background: var(--mwai-backgroundUserColor);\n  background-attachment: fixed;\n  border-bottom-left-radius: 15px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD {\n  flex: auto;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD *:first-child {\n  margin-top: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD *:last-child {\n  margin-bottom: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD a {\n  color: #2196f3;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h1 {\n  font-size: 200%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h2 {\n  font-size: 160%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h3 {\n  font-size: 140%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h4 {\n  font-size: 120%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD p {\n  font-size: var(--mwai-fontSize);\n  line-height: var(--mwai-lineHeight);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD p code {\n  background: var(--mwai-backgroundAiSecondaryColor);\n  padding: 2px 6px;\n  border-radius: 8px;\n  font-size: 90%;\n  font-family: system-ui;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD pre {\n  color: var(--mwai-fontColor);\n  border-radius: var(--mwai-borderRadius);\n  break-after: auto;\n  white-space: pre-wrap;\n  max-width: 100%;\n  width: 100%;\n  font-family: system-ui;\n  background: var(--mwai-backgroundAiSecondaryColor);\n  padding: var(--mwai-spacing);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD pre code {\n  padding: 0 !important;\n  font-family: system-ui;\n  background: var(--mwai-backgroundAiSecondaryColor);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD ol {\n  padding: 0;\n  margin: 0 0 0 20px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD table {\n  width: 100%;\n  border: 2px solid var(--mwai-backgroundAiSecondaryColor);\n  border-collapse: collapse;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD thead {\n  background: var(--mwai-backgroundAiSecondaryColor);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD tr, .yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD td {\n  padding: 2px 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD td {\n  border: 2px solid var(--mwai-backgroundAiSecondaryColor);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD .tiqvZ2tbFuTxjFtwFMny {\n  display: inline-block;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD .tiqvZ2tbFuTxjFtwFMny > :first-child {\n  margin-top: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD > *:first-child {\n  margin-top: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD > *:last-child {\n  margin-bottom: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .kpvcOwh9XehTKS0BEnBZ img {\n  width: 24px;\n  border-radius: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj {\n  display: flex;\n  align-items: center;\n  padding: var(--mwai-spacing);\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm {\n  flex: auto;\n  position: relative;\n  display: flex;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm textarea {\n  flex: auto;\n  padding: 5px 10px;\n  font-family: inherit;\n  border-radius: var(--mwai-borderRadius);\n  border: 1px solid var(--mwai-backgroundAiSecondaryColor);\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm textarea:focus {\n  outline: none;\n  box-shadow: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm textarea::placeholder {\n  color: var(--mwai-fontColor);\n  opacity: 0.5;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .T5qX8SQASgSBYT_f9n0E {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  right: 0px;\n  height: 100%;\n  cursor: pointer;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .T5qX8SQASgSBYT_f9n0E svg {\n  fill: var(--mwai-fontColor);\n  width: 34px;\n  height: 34px;\n  padding: 5px 10px;\n  fill: var(--mwai-fontColor);\n  opacity: 0.5;\n  transition: opacity 0.3s ease-out;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .T5qX8SQASgSBYT_f9n0E[active=true] svg {\n  opacity: 1;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .T5qX8SQASgSBYT_f9n0E[disabled] svg {\n  opacity: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj button {\n  margin-left: var(--mwai-spacing);\n  padding: 5px 15px;\n  background-color: var(--mwai-backgroundUserColor);\n  color: white;\n  border: none;\n  border-radius: var(--mwai-borderRadius);\n  cursor: pointer;\n  height: 32px;\n  width: 110px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj button .Q0xqGDBOEyagc8uXx5DV {\n  margin-left: 5px;\n  margin-right: 5px;\n  font-size: 11px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj button:hover {\n  filter: brightness(1.2);\n}\n\n.yAdyblrtoeLBR0jQpw50 button[disabled] span {\n  display: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 button[disabled]:before {\n  content: '';\n  width: 14px;\n  height: 14px;\n  margin: auto;\n  border: 2px solid transparent;\n  border-top-color: white;\n  border-radius: 50%;\n  animation: kcxVvKjrfUjU3fcCEUwW 1s ease infinite;\n}\n\n.yAdyblrtoeLBR0jQpw50 .xH6u22ybM6UxY6UZq9wL {\n  opacity: 0.50;\n  margin-top: calc( -1 * var(--mwai-spacing));\n  padding: calc(var(--mwai-spacing) / 1.5) var(--mwai-spacing);\n  font-size: smaller;\n  color: var(--mwai-fontColor);\n  text-align: left;\n}\n\n.yAdyblrtoeLBR0jQpw50 .Ek1v6SpIgQDHpWd9RoOv {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .Ek1v6SpIgQDHpWd9RoOv img {\n  width: 100%;\n}\n\n.P6TcWInHsZqb3Yw9izPm {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  transition: all 0.2s ease-out;\n  z-index: 9999;\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n}\n\n.P6TcWInHsZqb3Yw9izPm .JXp_cuKGU6bcchnY6DHM {\n  background: var(--mwai-iconTextBackgroundColor);\n  color: var(--mwai-iconTextColor);\n  max-width: 200px;\n  font-size: 13px;\n  margin-bottom: 15px;\n  padding: 5px 10px;\n  border-radius: 8px;\n}\n\n.P6TcWInHsZqb3Yw9izPm:hover {\n  cursor: pointer;\n  filter: saturate(2.5) hue-rotate(5deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 {\n  position: fixed;\n  right: 30px;\n  bottom: 30px;\n  width: var(--mwai-width);\n  z-index: 9999;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV {\n  display: none;\n  justify-content: flex-end;\n  align-items: center;\n  border-radius: var(--mwai-borderRadius) var(--mwai-borderRadius) 0 0;\n  background: var(--mwai-backgroundHeaderColor);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN {\n  display: flex;\n  align-items: center;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u {\n  justify-content: center;\n  height: 32px;\n  width: 22px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:before {\n  transition: all 0.2s ease-out;\n  content: ' ';\n  cursor: pointer;\n  position: absolute;\n  height: 13px;\n  width: 13px;\n  border: 1px solid var(--mwai-headerButtonsColor);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:hover:before {\n  width: 16px;\n  height: 16px;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw {\n  justify-content: center;\n  height: 32px;\n  width: 33px;\n  cursor: pointer;\n  border-radius: var(--mwai-borderRadius);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:before {\n  transition: all 0.2s ease-out;\n  transform: translate(16px, 5px) rotate(45deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:after {\n  transition: all 0.2s ease-out;\n  transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:before, .keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:after {\n  content: ' ';\n  cursor: pointer;\n  position: absolute;\n  height: 22px;\n  width: 1px;\n  background-color: var(--mwai-headerButtonsColor);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:hover:before {\n  opacity: 1;\n  transform: translate(16px, 5px) rotate(135deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:hover:after {\n  opacity: 1;\n  transform: translate(16px, 5px) rotate(45deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .zkhI8eZp8yg4BwXhijY1 {\n  display: none;\n  opacity: 0;\n  max-height: var(--mwai-maxHeight);\n  border-radius: 0 0 var(--mwai-borderRadius) var(--mwai-borderRadius);\n  overflow: hidden;\n}\n\n.keao6Pc78Z5oHVQWtY99.tVArsR0xkv3lOdQxAOIY {\n  bottom: 30px;\n  right: inherit;\n  left: 30px;\n}\n\n.keao6Pc78Z5oHVQWtY99.tVArsR0xkv3lOdQxAOIY .P6TcWInHsZqb3Yw9izPm {\n  right: inherit;\n  left: 0;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK {\n  top: 30px;\n  bottom: inherit;\n  right: 30px;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK .P6TcWInHsZqb3Yw9izPm {\n  top: 0;\n  bottom: inherit;\n}\n\n.keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe {\n  top: 30px;\n  bottom: inherit;\n  right: inherit;\n  left: 30px;\n}\n\n.keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm {\n  top: 0;\n  bottom: inherit;\n  right: inherit;\n  left: 0;\n}\n\n.keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm, .keao6Pc78Z5oHVQWtY99.tVArsR0xkv3lOdQxAOIY .P6TcWInHsZqb3Yw9izPm {\n  align-items: flex-start;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK .P6TcWInHsZqb3Yw9izPm, .keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm {\n  flex-direction: column-reverse;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK .P6TcWInHsZqb3Yw9izPm .JXp_cuKGU6bcchnY6DHM, .keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm .JXp_cuKGU6bcchnY6DHM {\n  margin-bottom: 0;\n  margin-top: 15px;\n}\n\n.keao6Pc78Z5oHVQWtY99.jkzTuixmBwVu89_bt_46 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN {\n  margin-bottom: 0px;\n}\n\n.keao6Pc78Z5oHVQWtY99.jkzTuixmBwVu89_bt_46 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:before {\n  width: 16px;\n  height: 16px;\n}\n\n.keao6Pc78Z5oHVQWtY99.jkzTuixmBwVu89_bt_46 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:hover:before {\n  width: 13px;\n  height: 13px;\n}\n\n.jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99), .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP {\n  position: fixed;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  top: 0 !important;\n  width: inherit;\n  height: inherit;\n  max-height: inherit;\n  max-width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  z-index: 999999;\n  background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99) .zkhI8eZp8yg4BwXhijY1, .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .zkhI8eZp8yg4BwXhijY1 {\n  height: 100%;\n  max-height: inherit;\n}\n\n.jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99) .zkhI8eZp8yg4BwXhijY1 .ichONrqIibIDVVVhDor5, .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .zkhI8eZp8yg4BwXhijY1 .ichONrqIibIDVVVhDor5 {\n  flex: auto;\n  max-height: none;\n}\n\n.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .EFYD0gYrcn2YeXJRD0WV {\n  display: flex;\n}\n\n.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .zkhI8eZp8yg4BwXhijY1 {\n  display: flex;\n  transition: opacity 200ms ease-in-out 0s;\n  opacity: 1;\n}\n\n.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .P6TcWInHsZqb3Yw9izPm {\n  display: none;\n}\n\n@keyframes kcxVvKjrfUjU3fcCEUwW {\n  from {\n    transform: rotate(0turn);\n  }\n  to {\n    transform: rotate(1turn);\n  }\n}\n\n.pmB9tbhLYWFLYDumAv2h .jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99),\n.pmB9tbhLYWFLYDumAv2h .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP {\n  top: 32px;\n}\n\n@media (max-width: 760px) {\n  .yAdyblrtoeLBR0jQpw50.keao6Pc78Z5oHVQWtY99 {\n    left: 10px;\n    right: 10px;\n    bottom: 10px;\n    width: calc(100% - 20px);\n    z-index: 9999999999;\n  }\n  .yAdyblrtoeLBR0jQpw50 .XLY_VCZMFRIbTEVL1rvY {\n    flex-direction: column;\n  }\n  .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj {\n    flex-direction: column;\n  }\n}\n\n.TAnzuJcUIsixvTVM25tX {\n  opacity: 0;\n  transition: all 0.3s ease-out;\n  width: 22px;\n  height: 22px;\n  position: absolute;\n  right: var(--mwai-spacing);\n}\n\n.TAnzuJcUIsixvTVM25tX .Jz1WxIOi9me2FSDpOAIV {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  margin-top: 0px;\n  margin-left: 0px;\n  background: white;\n  opacity: 0.4;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.TAnzuJcUIsixvTVM25tX .N46y7rqrhy2tzzzomY5d {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  margin-top: 6px;\n  margin-left: 6px;\n  background: white;\n  opacity: 0.6;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.TAnzuJcUIsixvTVM25tX:hover .Jz1WxIOi9me2FSDpOAIV {\n  opacity: 0.6;\n  margin-top: 0px;\n  margin-left: 6px;\n}\n\n.TAnzuJcUIsixvTVM25tX:hover .N46y7rqrhy2tzzzomY5d {\n  opacity: 1;\n  margin-top: 6px;\n  margin-left: 0px;\n}\n\n.TAnzuJcUIsixvTVM25tX.ALG12GB3CG3CRfJF2Qoa .Jz1WxIOi9me2FSDpOAIV {\n  opacity: 0;\n}\n\n.TAnzuJcUIsixvTVM25tX.ALG12GB3CG3CRfJF2Qoa .N46y7rqrhy2tzzzomY5d {\n  width: 18px;\n  height: 18px;\n  margin-top: 2px;\n  margin-left: 2px;\n  opacity: 1;\n}\n\n.yAdyblrtoeLBR0jQpw50 .XLY_VCZMFRIbTEVL1rvY:hover .TAnzuJcUIsixvTVM25tX {\n  display: block;\n  opacity: 1;\n}\n\n.yAdyblrtoeLBR0jQpw50 pre code.K9oFUDNcGmB0ATgNV0ST {\n  display: block;\n  overflow-x: auto;\n  padding: 1em;\n}\n\n.yAdyblrtoeLBR0jQpw50 code.K9oFUDNcGmB0ATgNV0ST {\n  padding: 3px 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .K9oFUDNcGmB0ATgNV0ST {\n  color: #333;\n  background: #f0f0f0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .lLt71LeUCI2dLUCgq7AU {\n  color: #333;\n}\n\n.yAdyblrtoeLBR0jQpw50 .HA402qGMSWKG4t0EGzdg {\n  color: #888;\n}\n\n.yAdyblrtoeLBR0jQpw50 .cQpLwIZKjny07jYmPo3p, .yAdyblrtoeLBR0jQpw50 .Jxhy79a1SNFyXENuzjDg, .yAdyblrtoeLBR0jQpw50 .syxmeAMp2BfjAjNiX_gU, .yAdyblrtoeLBR0jQpw50 .veUanKogf43u6_65Zvn4 .syxmeAMp2BfjAjNiX_gU, .yAdyblrtoeLBR0jQpw50 .AfTHR4GhdOoWBx0RjPpl, .yAdyblrtoeLBR0jQpw50 .lrvGhnwjfdsrj9rsMU11 {\n  color: #0077cc;\n}\n\n.yAdyblrtoeLBR0jQpw50 .gdno_EWs27fV8wEOLX1t {\n  color: #aa3377;\n}\n\n.yAdyblrtoeLBR0jQpw50 .RtZMlFmUr2KdIWYGzgo6, .yAdyblrtoeLBR0jQpw50 .zAA51c5xsauvaWSsFnYs, .yAdyblrtoeLBR0jQpw50 .CkiNwidxkM1TX2hVifdR, .yAdyblrtoeLBR0jQpw50 .AS6L1vDJK9hqn1N__Q8O, .yAdyblrtoeLBR0jQpw50 .UTeoKTnCxYuD6cwP7DSI, .yAdyblrtoeLBR0jQpw50 .R1Ll1bIkZrDNqdGKzu7N {\n  color: #c18401;\n}\n\n.yAdyblrtoeLBR0jQpw50 .C2E3Mf1LGY1Y17x_MXkw {\n  color: #0077cc;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ghxUruKjSSgGnkeQ_C47, .yAdyblrtoeLBR0jQpw50 .EHXSSqQDbJEbZMJpLqhJ, .yAdyblrtoeLBR0jQpw50 .tQiSja56rZjMGu4OzUoP, .yAdyblrtoeLBR0jQpw50 .yymbCWSJXq5zvavvp5yI, .yAdyblrtoeLBR0jQpw50 .dll7uWpUdCjDgQ9sB6KR, .yAdyblrtoeLBR0jQpw50 .HmzLYjzX4cozkpDASneB, .yAdyblrtoeLBR0jQpw50 .j_jSbYBzKPLq_4Nt9J7U {\n  color: #689700;\n}\n\n.yAdyblrtoeLBR0jQpw50 .veUanKogf43u6_65Zvn4, .yAdyblrtoeLBR0jQpw50 .iehdPIMlAfBLVSBYRV7K {\n  color: #0077cc;\n}\n\n.yAdyblrtoeLBR0jQpw50 .bICYT9lOoJSdToKxDmES, .yAdyblrtoeLBR0jQpw50 .pzRTlYK3lcIcDR5xk8lD, .yAdyblrtoeLBR0jQpw50 .wHpd9fy4uE7OShmwbe_t {\n  color: #c18401;\n}\n\n.yAdyblrtoeLBR0jQpw50 .qVWXajM2t2YLr9MdtqMm, .yAdyblrtoeLBR0jQpw50 .aojzfjvK10eMBfggXtoE {\n  color: #555;\n}\n\n.yAdyblrtoeLBR0jQpw50 .veUanKogf43u6_65Zvn4 .yymbCWSJXq5zvavvp5yI {\n  color: #689700;\n}\n\n.yAdyblrtoeLBR0jQpw50 .rRaTdGI_iyoXk18A5qYs {\n  color: #b71c1c;\n}\n\n.yAdyblrtoeLBR0jQpw50 .xYEkcugANxMOMJKtEsca {\n  color: #1b5e20;\n}\n\n.yAdyblrtoeLBR0jQpw50 .xjpyawH646564Y2wahS4 {\n  font-style: italic;\n}\n\n.yAdyblrtoeLBR0jQpw50 .RMtGZ3SVSmv3CK3csAch {\n  font-weight: 700;\n}\n\n.TAnzuJcUIsixvTVM25tX {\n  position: absolute;\n  left: 15px;\n  zoom: 0.5;\n  top: 18px;\n  filter: revert;\n}\n\n.NQtBPR0S0WX0SVKcVj1w .TAnzuJcUIsixvTVM25tX {\n  right: 15px;\n  left: inherit;\n  filter: brightness(0.4);\n}\n",""]),i.locals={"mwai-chat":"yAdyblrtoeLBR0jQpw50","mwai-content":"zkhI8eZp8yg4BwXhijY1","mwai-conversation":"ichONrqIibIDVVVhDor5","mwai-reply":"XLY_VCZMFRIbTEVL1rvY","mwai-name":"iNYH5nYgNZAe4RXsoGlM","mwai-name-text":"YrCYLibUvvIBdWDUNfm0","mwai-ai":"NQtBPR0S0WX0SVKcVj1w","mwai-user":"_fj65BIE29IpCwq2fEp4","mwai-text":"g9XrXMpQH3afixCzXMWD","mwai-typewriter":"tiqvZ2tbFuTxjFtwFMny","mwai-avatar":"kpvcOwh9XehTKS0BEnBZ","mwai-input":"mwCGHr8abHQqvLOrnOHj","mwai-input-text":"puulPV56uqMX9ozNpIwm","mwai-microphone":"T5qX8SQASgSBYT_f9n0E","mwai-timer":"Q0xqGDBOEyagc8uXx5DV","mwai-button-spinner":"kcxVvKjrfUjU3fcCEUwW","mwai-compliance":"xH6u22ybM6UxY6UZq9wL","mwai-gallery":"Ek1v6SpIgQDHpWd9RoOv","mwai-open-button":"P6TcWInHsZqb3Yw9izPm","mwai-icon-text":"JXp_cuKGU6bcchnY6DHM","mwai-window":"keao6Pc78Z5oHVQWtY99","mwai-header":"EFYD0gYrcn2YeXJRD0WV","mwai-buttons":"uMRxh8i5ZvhvTfLMVWcN","mwai-resize-button":"CHPyUOyEp_j91BCBin8u","mwai-close-button":"SDjNHcRvmNBYlGvVIqpw","mwai-bottom-left":"tVArsR0xkv3lOdQxAOIY","mwai-top-right":"iufdbptCdiEfK8YvcpMK","mwai-top-left":"M01s0OrVIyRcjgmpfAJe","mwai-fullscreen":"jkzTuixmBwVu89_bt_46","mwai-open":"NAGMlVFptiqhjxViA0KP","admin-bar":"pmB9tbhLYWFLYDumAv2h","mwai-copy-button":"TAnzuJcUIsixvTVM25tX","mwai-copy-button-one":"Jz1WxIOi9me2FSDpOAIV","mwai-copy-button-two":"N46y7rqrhy2tzzzomY5d","mwai-animate":"ALG12GB3CG3CRfJF2Qoa",hljs:"K9oFUDNcGmB0ATgNV0ST","hljs-subst":"lLt71LeUCI2dLUCgq7AU","hljs-comment":"HA402qGMSWKG4t0EGzdg","hljs-attr":"cQpLwIZKjny07jYmPo3p","hljs-doctag":"Jxhy79a1SNFyXENuzjDg","hljs-keyword":"syxmeAMp2BfjAjNiX_gU","hljs-meta":"veUanKogf43u6_65Zvn4","hljs-section":"AfTHR4GhdOoWBx0RjPpl","hljs-selector-tag":"lrvGhnwjfdsrj9rsMU11","hljs-attribute":"gdno_EWs27fV8wEOLX1t","hljs-name":"RtZMlFmUr2KdIWYGzgo6","hljs-number":"zAA51c5xsauvaWSsFnYs","hljs-quote":"CkiNwidxkM1TX2hVifdR","hljs-selector-id":"AS6L1vDJK9hqn1N__Q8O","hljs-template-tag":"UTeoKTnCxYuD6cwP7DSI","hljs-type":"R1Ll1bIkZrDNqdGKzu7N","hljs-selector-class":"C2E3Mf1LGY1Y17x_MXkw","hljs-link":"ghxUruKjSSgGnkeQ_C47","hljs-regexp":"EHXSSqQDbJEbZMJpLqhJ","hljs-selector-attr":"tQiSja56rZjMGu4OzUoP","hljs-string":"yymbCWSJXq5zvavvp5yI","hljs-symbol":"dll7uWpUdCjDgQ9sB6KR","hljs-template-variable":"HmzLYjzX4cozkpDASneB","hljs-variable":"j_jSbYBzKPLq_4Nt9J7U","hljs-selector-pseudo":"iehdPIMlAfBLVSBYRV7K","hljs-built_in":"bICYT9lOoJSdToKxDmES","hljs-literal":"pzRTlYK3lcIcDR5xk8lD","hljs-title":"wHpd9fy4uE7OShmwbe_t","hljs-bullet":"qVWXajM2t2YLr9MdtqMm","hljs-code":"aojzfjvK10eMBfggXtoE","hljs-deletion":"rRaTdGI_iyoXk18A5qYs","hljs-addition":"xYEkcugANxMOMJKtEsca","hljs-emphasis":"xjpyawH646564Y2wahS4","hljs-strong":"RMtGZ3SVSmv3CK3csAch"};const l=i},7363:e=>{e.exports=React},1533:e=>{e.exports=ReactDOM}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){for(var[n,a,o]=e[s],l=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(l=!1,o<i&&(i=o));if(l){e.splice(s--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,l,c]=n,u=0;if(i.some((t=>0!==e[t]))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(c)var s=c(r)}for(t&&t(n);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(s)},n=self.wpJsonMwai=self.wpJsonMwai||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a=r.O(void 0,[736],(()=>r(5756)));a=r.O(a)})();